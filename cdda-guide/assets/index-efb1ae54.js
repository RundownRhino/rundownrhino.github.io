var pC=Object.defineProperty;var hC=(r,e,n)=>e in r?pC(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var gC=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var Jn=(r,e,n)=>(hC(r,typeof e!="symbol"?e+"":e,n),n),ia=(r,e,n)=>{if(!e.has(r))throw TypeError("Cannot "+n)};var si=(r,e,n)=>(ia(r,e,"read from private field"),n?n.call(r):e.get(r)),Mi=(r,e,n)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,n)},la=(r,e,n,t)=>(ia(r,e,"write to private field"),t?t.call(r,n):e.set(r,n),n);var oq=gC((cq,Ok)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function oe(){}function bC(r,e){for(const n in e)r[n]=e[n];return r}function $C(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function ry(r){return r()}function ra(){return Object.create(null)}function cr(r){r.forEach(ry)}function oy(r){return typeof r=="function"}function mt(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}let ko;function yC(r,e){return ko||(ko=document.createElement("a")),ko.href=e,r===ko.href}function kC(r){return Object.keys(r).length===0}function sy(r,...e){if(r==null)return oe;const n=r.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Fo(r,e,n){r.$$.on_destroy.push(sy(e,n))}function ki(r,e,n,t){if(r){const i=fy(r,e,n,t);return r[0](i)}}function fy(r,e,n,t){return r[1]&&t?bC(n.ctx.slice(),r[1](t(e))):n.ctx}function vi(r,e,n,t){if(r[2]&&t){const i=r[2](t(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],l=Math.max(e.dirty.length,i.length);for(let s=0;s<l;s+=1)o[s]=e.dirty[s]|i[s];return o}return e.dirty|i}return e.dirty}function wi(r,e,n,t,i,o){if(i){const l=fy(e,n,t,o);r.p(l,i)}}function Ei(r){if(r.ctx.length>32){const e=[],n=r.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function ay(r){return r??""}function _(r,e){r.appendChild(e)}function h(r,e,n){r.insertBefore(e,n||null)}function p(r){r.parentNode&&r.parentNode.removeChild(r)}function ye(r,e){for(let n=0;n<r.length;n+=1)r[n]&&r[n].d(e)}function m(r){return document.createElement(r)}function w(r){return document.createTextNode(r)}function R(){return w(" ")}function ue(){return w("")}function Di(r,e,n,t){return r.addEventListener(e,n,t),()=>r.removeEventListener(e,n,t)}function le(r,e,n){n==null?r.removeAttribute(e):r.getAttribute(e)!==n&&r.setAttribute(e,n)}function vC(r){return Array.from(r.childNodes)}function K(r,e){e=""+e,r.data!==e&&(r.data=e)}function oa(r,e){r.value=e??""}function bt(r,e,n,t){n===null?r.style.removeProperty(e):r.style.setProperty(e,n,t?"important":"")}function no(r,e,n){for(let t=0;t<r.options.length;t+=1){const i=r.options[t];if(i.__value===e){i.selected=!0;return}}(!n||e!==void 0)&&(r.selectedIndex=-1)}function Po(r,e){return new r(e)}let io;function ol(r){io=r}function cs(){if(!io)throw new Error("Function called outside component initialization");return io}function wC(r){cs().$$.on_mount.push(r)}function Tf(r,e){return cs().$$.context.set(r,e),e}function jt(r){return cs().$$.context.get(r)}const yr=[],Ks=[];let vr=[];const sa=[],EC=Promise.resolve();let Zs=!1;function TC(){Zs||(Zs=!0,EC.then(Sf))}function Qs(r){vr.push(r)}const ws=new Set;let hr=0;function Sf(){if(hr!==0)return;const r=io;do{try{for(;hr<yr.length;){const e=yr[hr];hr++,ol(e),SC(e.$$)}}catch(e){throw yr.length=0,hr=0,e}for(ol(null),yr.length=0,hr=0;Ks.length;)Ks.pop()();for(let e=0;e<vr.length;e+=1){const n=vr[e];ws.has(n)||(ws.add(n),n())}vr.length=0}while(yr.length);for(;sa.length;)sa.pop()();Zs=!1,ws.clear(),ol(r)}function SC(r){if(r.fragment!==null){r.update(),cr(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Qs)}}function CC(r){const e=[],n=[];vr.forEach(t=>r.indexOf(t)===-1?e.push(t):n.push(t)),n.forEach(t=>t()),vr=e}const No=new Set;let tr;function fe(){tr={r:0,c:[],p:tr}}function ae(){tr.r||cr(tr.c),tr=tr.p}function g(r,e){r&&r.i&&(No.delete(r),r.i(e))}function $(r,e,n,t){if(r&&r.o){if(No.has(r))return;No.add(r),tr.c.push(()=>{No.delete(r),t&&(n&&r.d(1),t())}),r.o(e)}else t&&t()}function jo(r,e){const n=e.token={};function t(i,o,l,s){if(e.token!==n)return;e.resolved=s;let a=e.ctx;l!==void 0&&(a=a.slice(),a[l]=s);const f=i&&(e.current=i)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,d)=>{d!==o&&u&&(fe(),$(u,1,1,()=>{e.blocks[d]===u&&(e.blocks[d]=null)}),ae())}):e.block.d(1),f.c(),g(f,1),f.m(e.mount(),e.anchor),c=!0),e.block=f,e.blocks&&(e.blocks[o]=f),c&&Sf()}if($C(r)){const i=cs();if(r.then(o=>{ol(i),t(e.then,1,e.value,o),ol(null)},o=>{if(ol(i),t(e.catch,2,e.error,o),ol(null),!e.hasCatch)throw o}),e.current!==e.pending)return t(e.pending,0),!0}else{if(e.current!==e.then)return t(e.then,1,e.value,r),!0;e.resolved=r}}function cy(r,e,n){const t=e.slice(),{resolved:i}=r;r.current===r.then&&(t[r.value]=i),r.current===r.catch&&(t[r.error]=i),r.block.p(t,n)}const IC=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function OC(r,e){$(r,1,1,()=>{e.delete(r.key)})}function RC(r,e,n,t,i,o,l,s,a,f,c,u){let d=r.length,b=o.length,k=d;const y={};for(;k--;)y[r[k].key]=k;const E=[],C=new Map,I=new Map,A=[];for(k=b;k--;){const Y=u(i,o,k),z=n(Y);let W=l.get(z);W?t&&A.push(()=>W.p(Y,e)):(W=f(z,Y),W.c()),C.set(z,E[k]=W),z in y&&I.set(z,Math.abs(k-y[z]))}const B=new Set,L=new Set;function D(Y){g(Y,1),Y.m(s,c),l.set(Y.key,Y),c=Y.first,b--}for(;d&&b;){const Y=E[b-1],z=r[d-1],W=Y.key,H=z.key;Y===z?(c=Y.first,d--,b--):C.has(H)?!l.has(W)||B.has(W)?D(Y):L.has(H)?d--:I.get(W)>I.get(H)?(L.add(W),D(Y)):(B.add(H),d--):(a(z,l),d--)}for(;d--;){const Y=r[d];C.has(Y.key)||a(Y,l)}for(;b;)D(E[b-1]);return cr(A),E}const AC=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"];[...AC];function q(r){r&&r.c()}function U(r,e,n,t){const{fragment:i,after_update:o}=r.$$;i&&i.m(e,n),t||Qs(()=>{const l=r.$$.on_mount.map(ry).filter(oy);r.$$.on_destroy?r.$$.on_destroy.push(...l):cr(l),r.$$.on_mount=[]}),o.forEach(Qs)}function G(r,e){const n=r.$$;n.fragment!==null&&(CC(n.after_update),cr(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function NC(r,e){r.$$.dirty[0]===-1&&(yr.push(r),TC(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function pt(r,e,n,t,i,o,l,s=[-1]){const a=io;ol(r);const f=r.$$={fragment:null,ctx:[],props:o,update:oe,not_equal:i,bound:ra(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ra(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};l&&l(f.root);let c=!1;if(f.ctx=n?n(r,e.props||{},(u,d,...b)=>{const k=b.length?b[0]:d;return f.ctx&&i(f.ctx[u],f.ctx[u]=k)&&(!f.skip_bound&&f.bound[u]&&f.bound[u](k),c&&NC(r,u)),d}):[],f.update(),c=!0,cr(f.before_update),f.fragment=t?t(f.ctx):!1,e.target){if(e.hydrate){const u=vC(e.target);f.fragment&&f.fragment.l(u),u.forEach(p)}else f.fragment&&f.fragment.c();e.intro&&g(r.$$.fragment),U(r,e.target,e.anchor,e.customElement),Sf()}ol(a)}class ht{$destroy(){G(this,1),this.$destroy=oe}$on(e,n){if(!oy(n))return oe;const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(n),()=>{const i=t.indexOf(n);i!==-1&&t.splice(i,1)}}$set(e){this.$$set&&!kC(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BC(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var uy={exports:{}};/*! For license information please see browser.native.js.LICENSE.txt */(function(r,e){(function(n,t){r.exports=t()})(self,()=>(()=>{var n={160:function(l,s,a){l.exports=function(){function f(v){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},f(v)}function c(v,T){if(!(v instanceof T))throw new TypeError("Cannot call a class as a function")}function u(v,T){for(var S=0;S<T.length;S++){var N=T[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}function d(v,T,S){return T&&u(v.prototype,T),S&&u(v,S),Object.defineProperty(v,"prototype",{writable:!1}),v}function b(v,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(T&&T.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),T&&y(v,T)}function k(v){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},k(v)}function y(v,T){return y=Object.setPrototypeOf||function(S,N){return S.__proto__=N,S},y(v,T)}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C(v,T,S){return C=E()?Reflect.construct:function(N,P,J){var se=[null];se.push.apply(se,P);var he=new(Function.bind.apply(N,se));return J&&y(he,J.prototype),he},C.apply(null,arguments)}function I(v){var T=typeof Map=="function"?new Map:void 0;return I=function(S){if(S===null||(N=S,Function.toString.call(N).indexOf("[native code]")===-1))return S;var N;if(typeof S!="function")throw new TypeError("Super expression must either be null or a function");if(T!==void 0){if(T.has(S))return T.get(S);T.set(S,P)}function P(){return C(S,arguments,k(this).constructor)}return P.prototype=Object.create(S.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),y(P,S)},I(v)}function A(v,T){if(T&&(typeof T=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}(v)}function B(v){var T=E();return function(){var S,N=k(v);if(T){var P=k(this).constructor;S=Reflect.construct(N,arguments,P)}else S=N.apply(this,arguments);return A(this,S)}}function L(v,T){return function(S){if(Array.isArray(S))return S}(v)||function(S,N){var P=S==null?null:typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(P!=null){var J,se,he=[],be=!0,qe=!1;try{for(P=P.call(S);!(be=(J=P.next()).done)&&(he.push(J.value),!N||he.length!==N);be=!0);}catch(St){qe=!0,se=St}finally{try{be||P.return==null||P.return()}finally{if(qe)throw se}}return he}}(v,T)||D(v,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function D(v,T){if(v){if(typeof v=="string")return Y(v,T);var S=Object.prototype.toString.call(v).slice(8,-1);return S==="Object"&&v.constructor&&(S=v.constructor.name),S==="Map"||S==="Set"?Array.from(v):S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S)?Y(v,T):void 0}}function Y(v,T){(T==null||T>v.length)&&(T=v.length);for(var S=0,N=new Array(T);S<T;S++)N[S]=v[S];return N}function z(v,T){var S=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!S){if(Array.isArray(v)||(S=D(v))||T&&v&&typeof v.length=="number"){S&&(v=S);var N=0,P=function(){};return{s:P,n:function(){return N>=v.length?{done:!0}:{done:!1,value:v[N++]}},e:function(be){throw be},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J,se=!0,he=!1;return{s:function(){S=S.call(v)},n:function(){var be=S.next();return se=be.done,be},e:function(be){he=!0,J=be},f:function(){try{se||S.return==null||S.return()}finally{if(he)throw J}}}}var W=function(){return W=Object.assign||function(v){for(var T,S=1,N=arguments.length;S<N;S++)for(var P in T=arguments[S])Object.prototype.hasOwnProperty.call(T,P)&&(v[P]=T[P]);return v},W.apply(this,arguments)};function H(v){var T=typeof Symbol=="function"&&Symbol.iterator,S=T&&v[T],N=0;if(S)return S.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&N>=v.length&&(v=void 0),{value:v&&v[N++],done:!v}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")}function ne(v,T){var S=typeof Symbol=="function"&&v[Symbol.iterator];if(!S)return v;var N,P,J=S.call(v),se=[];try{for(;(T===void 0||T-- >0)&&!(N=J.next()).done;)se.push(N.value)}catch(he){P={error:he}}finally{try{N&&!N.done&&(S=J.return)&&S.call(J)}finally{if(P)throw P.error}}return se}function M(v,T,S){if(S||arguments.length===2)for(var N,P=0,J=T.length;P<J;P++)!N&&P in T||(N||(N=Array.prototype.slice.call(T,0,P)),N[P]=T[P]);return v.concat(N||Array.prototype.slice.call(T))}var X=function(v){b(S,v);var T=B(S);function S(N,P,J){var se;return c(this,S),(se=T.call(this,N)).token=P,se.type=J||"error",se}return d(S)}(I(Error)),te=function(v){return v<4?"short":v===4?"long":"narrow"},F=function(v){return v%2==0?"2-digit":"numeric"};function j(v,T){switch(v.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:return void T("".concat(v.desc," is not supported with width ").concat(v.width))}}function Z(v,T){var S=v.char,N=v.desc,P=v.width;return S==="d"?F(P):void T("".concat(N," is not supported"))}function x(v,T){var S=v.char,N=v.desc,P=v.width;return(S==="c"||S==="e")&&P<3&&T("Numeric value is not supported for ".concat(N,"; falling back to weekday:short"),X.WARNING),te(P)}function Q(v,T){var S=v.char,N=v.desc,P=v.width;switch(S){case"v":case"z":return P===4?"long":"short";case"V":return P===4?"long":void T("".concat(N," is not supported with width ").concat(P));case"X":return void T("".concat(N," is not supported"))}return"short"}function V(v,T){switch(v.field){case"era":return{era:te(v.width)};case"year":return function(S,N){switch(S.char){case"y":return{year:F(S.width)};case"r":return{calendar:"gregory",year:"numeric"};default:return N("".concat(S.desc," is not supported; falling back to year:numeric"),X.WARNING),{year:"numeric"}}}(v,T);case"month":return{month:j(v,T)};case"day":return{day:Z(v,T)};case"weekday":return{weekday:x(v,T)};case"period":return;case"hour":return function(S){var N,P=F(S.width);switch(S.char){case"h":N="h12";break;case"H":N="h23";break;case"k":N="h24";break;case"K":N="h11"}return N?{hour:P,hourCycle:N}:{hour:P}}(v);case"min":return{minute:F(v.width)};case"sec":return{second:F(v.width)};case"tz":return{timeZoneName:Q(v,T)};case"quarter":case"week":case"sec-frac":case"ms":T("".concat(v.desc," is not supported"))}}function ie(v){var T,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(he){throw he},N={},P=[],J=z(v);try{var se=function(){var he=T.value,be=he.error,qe=he.field,St=he.str;if(be){var Ft=new X(be.message,he);Ft.stack=be.stack,S(Ft)}if(St){var qt="Ignoring string part: ".concat(St);S(new X(qt,he,X.WARNING))}qe&&(P.indexOf(qe)===-1?P.push(qe):S(new X("Duplicate ".concat(qe," token"),he)));var ut=V(he,function(Vt,xt){return S(new X(Vt,he,xt))});ut&&Object.assign(N,ut)};for(J.s();!(T=J.n()).done;)se()}catch(he){J.e(he)}finally{J.f()}return N}var _e={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},re=function(v){return v>="A"&&v<="Z"||v>="a"&&v<="z"};function ee(v,T){var S=v[T];if(!S)return null;if(re(S))return function(se,he){for(var be=se[he],qe=1;se[++he]===be;)++qe;var St=_e[be];if(!St){var Ft="The letter ".concat(be," is not a valid field identifier");return{char:be,error:new Error(Ft),width:qe}}return{char:be,field:St.field,desc:St.desc,width:qe}}(v,T);if(S==="'")return function(se,he){var be=se[++he],qe=2;if(be==="'")return{char:"'",str:be,width:qe};for(;;){var St=se[++he];if(++qe,St===void 0){var Ft="Unterminated quoted literal in pattern: ".concat(be||se);return{char:"'",error:new Error(Ft),str:be,width:qe}}if(St==="'"){if(se[++he]!=="'")return{char:"'",str:be,width:qe};++qe}be+=St}}(v,T);for(var N=S,P=1;;){var J=v[++T];if(!J||re(J)||J==="'")return{char:S,str:N,width:P};N+=J,P+=1}}function ce(v){for(var T=[],S=0;;){var N=ee(v,S);if(!N)return T;T.push(N),S+=N.width}}var Ee=function(v){b(S,v);var T=B(S);function S(N,P){var J;return c(this,S),(J=T.call(this,P)).code=N,J}return d(S)}(I(Error)),we=function(v){b(S,v);var T=B(S);function S(N,P){var J;return c(this,S),(J=T.call(this,"BAD_OPTION","Unknown ".concat(N," option: ").concat(P))).stem=N,J.option=P,J}return d(S)}(Ee),De=function(v){b(S,v);var T=B(S);function S(N){var P;return c(this,S),(P=T.call(this,"BAD_STEM","Unknown stem: ".concat(N))).stem=N,P}return d(S)}(Ee),ze=function(v){b(S,v);var T=B(S);function S(N,P){var J;return c(this,S),(J=T.call(this,"MASKED_VALUE","Value for ".concat(N," is set multiple times"))).type=N,J.prev=P,J}return d(S)}(Ee),We=function(v){b(S,v);var T=B(S);function S(N){var P;return c(this,S),(P=T.call(this,"MISSING_OPTION","Required option missing for ".concat(N))).stem=N,P}return d(S)}(Ee),Ve=function(v){b(S,v);var T=B(S);function S(N,P){var J;return c(this,S),(J=T.call(this,"BAD_PATTERN",P)).char=N,J}return d(S)}(Ee),Qe=function(v){b(S,v);var T=B(S);function S(N,P,J){var se;c(this,S);var he=J>1?"".concat(J," options"):"one option";return(se=T.call(this,"TOO_MANY_OPTIONS","Token ".concat(N," only supports ").concat(he," (got ").concat(P.length,")"))).stem=N,se.options=P,se}return d(S)}(Ee),ve=function(v){b(S,v);var T=B(S);function S(N,P){var J;return c(this,S),(J=T.call(this,"UNSUPPORTED","The stem ".concat(N," is not supported"))).stem=N,P&&(J.message+=" with value ".concat(P),J.source=P),J}return d(S)}(Ee);function Te(v,T){var S=T.numberingSystem;return Array.isArray(v)||(v=[v]),S?v.map(function(N){var P=N.indexOf("-u-")===-1?"u-nu":"nu";return"".concat(N,"-").concat(P,"-").concat(S)}).concat(v):v}function Ce(v){var T=v.scale,S=v.unit,N=typeof T=="number"&&T>=0?T:1;return S&&S.style==="percent"&&(N*=.01),N}function it(v,T){var S=v.decimal,N=v.group,P=v.integerWidth,J=v.notation,se=v.precision,he=v.roundingMode,be=v.sign,qe=v.unit,St=v.unitPer,Ft=v.unitWidth,qt=function(Vn,on){T&&T(new ve(Vn,on))},ut={};if(qe)switch(qe.style){case"base-unit":ut.style="decimal";break;case"currency":ut.style="currency",ut.currency=qe.currency;break;case"measure-unit":ut.style="unit",ut.unit=qe.unit.replace(/.*-/,""),St&&(ut.unit+="-per-"+St.replace(/.*-/,""));break;case"percent":ut.style="percent";break;case"permille":qt("permille")}switch(Ft){case"unit-width-full-name":ut.currencyDisplay="name",ut.unitDisplay="long";break;case"unit-width-hidden":qt(Ft);break;case"unit-width-iso-code":ut.currencyDisplay="code";break;case"unit-width-narrow":ut.currencyDisplay="narrowSymbol",ut.unitDisplay="narrow";break;case"unit-width-short":ut.currencyDisplay="symbol",ut.unitDisplay="short"}switch(N){case"group-off":ut.useGrouping=!1;break;case"group-auto":ut.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":qt(N),ut.useGrouping=!0}if(se)switch(se.style){case"precision-fraction":var Vt=se.minFraction,xt=se.maxFraction,Kt=se.minSignificant,kn=se.maxSignificant,ni=se.source;typeof Vt=="number"&&(ut.minimumFractionDigits=Vt,typeof Kt=="number"&&qt("precision-fraction",ni)),typeof xt=="number"&&(ut.maximumFractionDigits=xt),typeof Kt=="number"&&(ut.minimumSignificantDigits=Kt),typeof kn=="number"&&(ut.maximumSignificantDigits=kn);break;case"precision-integer":ut.maximumFractionDigits=0;break;case"precision-unlimited":ut.maximumFractionDigits=20;break;case"precision-increment":case"precision-currency-standard":break;case"precision-currency-cash":qt(se.style)}if(J)switch(J.style){case"compact-short":ut.notation="compact",ut.compactDisplay="short";break;case"compact-long":ut.notation="compact",ut.compactDisplay="long";break;case"notation-simple":ut.notation="standard";break;case"scientific":case"engineering":var Nn=J.expDigits,Ye=J.expSign,vt=J.source,Pt=J.style;ut.notation=Pt,(Nn&&Nn>1||Ye&&Ye!=="sign-auto")&&qt(Pt,vt)}if(P){var Ht=P.min,Jt=P.max,zt=P.source;if(Ht>0&&(ut.minimumIntegerDigits=Ht),Number(Jt)>0){var ln=ut.notation==="engineering"||ut.notation==="scientific";Jt===3&&ln?ut.notation="engineering":qt("integer-width",zt)}}switch(be){case"sign-auto":ut.signDisplay="auto";break;case"sign-always":ut.signDisplay="always";break;case"sign-except-zero":ut.signDisplay="exceptZero";break;case"sign-never":ut.signDisplay="never";break;case"sign-accounting":ut.currencySign="accounting";break;case"sign-accounting-always":ut.currencySign="accounting",ut.signDisplay="always";break;case"sign-accounting-except-zero":ut.currencySign="accounting",ut.signDisplay="exceptZero"}return S==="decimal-always"&&qt(S),he&&qt(he),ut}function Be(v,T,S){var N=v[T];switch(N){case"%":return{char:"%",style:"percent",width:1};case"‰":return{char:"%",style:"permille",width:1};case"¤":for(var P=1;v[++T]==="¤";)++P;switch(P){case 1:return{char:N,currency:"default",width:P};case 2:return{char:N,currency:"iso-code",width:P};case 3:return{char:N,currency:"full-name",width:P};case 5:return{char:N,currency:"narrow",width:P};default:var J="Invalid number (".concat(P,") of ¤ chars in pattern");return S(new Ve("¤",J)),null}case"*":var se=v[T+1];if(se)return{char:N,pad:se,width:2};break;case"+":case"-":return{char:N,width:1};case"'":var he=v[++T],be=2;if(he==="'")return{char:N,str:he,width:be};for(;;){var qe=v[++T];if(++be,qe===void 0){var St="Unterminated quoted literal in pattern: ".concat(he);return S(new Ve("'",St)),{char:N,str:he,width:be}}if(qe==="'"){if(v[++T]!=="'")return{char:N,str:he,width:be};++be}he+=qe}}return null}var et=function(v){return v>="0"&&v<="9"};function xe(v,T){var S=v[T];if(et(S))for(var N=S;;){var P=v[++T];if(!et(P))return{char:"0",digits:N,width:N.length};N+=P}switch(S){case"#":for(var J=1;v[++T]==="#";)++J;return{char:S,width:J};case"@":for(var se=1;v[++T]==="@";)++se;var he=se;for(T-=1;v[++T]==="#";)++he;return{char:S,min:se,width:he};case"E":var be=v[T+1]==="+";be&&++T;for(var qe=0;v[++T]==="0";)++qe;if(qe)return{char:S,expDigits:qe,plus:be,width:(be?2:1)+qe};break;case".":case",":return{char:S,width:1}}return null}function At(v,T,S){var N;(function(Vt){Vt[Vt.Prefix=0]="Prefix",Vt[Vt.Number=1]="Number",Vt[Vt.Suffix=2]="Suffix"})(N||(N={}));for(var P=[],J=[],se=[],he=N.Prefix,be="";T<v.length;){var qe=v[T];if(qe===";"){T+=1;break}switch(he){case N.Prefix:var St=Be(v,T,S);if(St)be&&(P.push({char:"'",str:be,width:be.length}),be=""),P.push(St),T+=St.width;else{var Ft=xe(v,T);Ft?(be&&(P.push({char:"'",str:be,width:be.length}),be=""),he=N.Number,J.push(Ft),T+=Ft.width):(be+=qe,T+=1)}break;case N.Number:var qt=xe(v,T);qt?(J.push(qt),T+=qt.width):he=N.Suffix;break;case N.Suffix:var ut=Be(v,T,S);ut?(be&&(se.push({char:"'",str:be,width:be.length}),be=""),se.push(ut),T+=ut.width):(be+=qe,T+=1)}}return be&&se.push({char:"'",str:be,width:be.length}),{pattern:{prefix:P,number:J,suffix:se},pos:T}}function wt(v,T){var S=At(v,0,T),N=S.pattern,P=S.pos;return P<v.length?{tokens:N,negative:At(v,P,T).pattern}:{tokens:N}}function st(v,T){for(var S={},N=!1,P=!1,J=0,se="",he=-1,be="",qe=0,St=0;St<v.length;++St){var Ft=v[St];switch(Ft.char){case"#":he===-1?(se&&T(new Ve("#","Pattern has # after integer digits")),J+=Ft.width):qe+=Ft.width;break;case"0":he===-1?se+=Ft.digits:(qe&&T(new Ve("0","Pattern has digits after # in fraction")),be+=Ft.digits);break;case"@":S.precision&&T(new ze("precision",S.precision)),S.precision={style:"precision-fraction",minSignificant:Ft.min,maxSignificant:Ft.width};break;case",":N=!0;break;case".":he===1&&T(new Ve(".","Pattern has more than one decimal separator")),he=St;break;case"E":P&&T(new ze("exponent",S.notation)),N&&T(new Ve("E","Exponential patterns may not contain grouping separators")),S.notation={style:"scientific"},Ft.expDigits>1&&(S.notation.expDigits=Ft.expDigits),Ft.plus&&(S.notation.expSign="sign-always"),P=!0}}N?S.group="group-auto":J+se.length>3&&(S.group="group-off");var qt=Number("".concat(se||"0",".").concat(be));if(qt&&(S.precision={style:"precision-increment",increment:qt}),P)if(S.precision&&!qt||(S.integerWidth=J?{min:1,max:J+se.length}:{min:Math.max(1,se.length)}),S.precision)qt||(S.integerWidth={min:1,max:1});else{var ut=se.length+be.length;he===-1?ut>0&&(S.precision={style:"precision-fraction",maxSignificant:ut}):(S.precision={style:"precision-fraction",maxSignificant:Math.max(1,ut)+qe},ut>1&&(S.precision.minSignificant=ut))}else se.length>1&&(S.integerWidth={min:se.length}),S.precision||!be.length&&!qe||(S.precision={style:"precision-fraction",minFraction:be.length,maxFraction:be.length+qe});return S}function Ut(v,T,S,N,P){var J,se=!1,he="",be=z(v);try{for(be.s();!(J=be.n()).done;){var qe=J.value;switch(qe.char){case"%":T.unit={style:qe.style},P?se=!0:he="";break;case"¤":if(!S){N(new Ve("¤","The ¤ pattern requires a currency"));break}switch(T.unit={style:"currency",currency:S},qe.currency){case"iso-code":T.unitWidth="unit-width-iso-code";break;case"full-name":T.unitWidth="unit-width-full-name";break;case"narrow":T.unitWidth="unit-width-narrow"}P?se=!0:he="";break;case"*":break;case"+":se||(he+="+");break;case"'":se||(he+=qe.str)}}}catch(St){be.e(St)}finally{be.f()}return he}function $t(v,T){var S,N=!1,P="",J=z(v);try{for(J.s();!(S=J.n()).done;){var se=S.value;switch(se.char){case"%":case"¤":T?N=!0:P="";break;case"-":N||(P+="-");break;case"'":N||(P+=se.str)}}}catch(he){J.e(he)}finally{J.f()}return P}function _t(v,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(Ft){throw Ft},N=wt(v,S),P=N.tokens,J=N.negative,se=st(P.number,S),he=Ut(P.prefix,se,T,S,!0),be=Ut(P.suffix,se,T,S,!1);if(J){var qe=$t(J.prefix,!0),St=$t(J.suffix,!1);se.affix={pos:[he,be],neg:[qe,St]},se.sign="sign-never"}else(he||be)&&(se.affix={pos:[he,be]});return se}function Ue(v){var T=L(v.split("-",1),1)[0];return["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"].indexOf(T)!==-1}var ke={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":0,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},Ke={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function Lt(v,T,S){if(function(he){return he in ke}(v)){var N=ke[v];if(T.length>N){if(N===0){var P,J=z(T);try{for(J.s();!(P=J.n()).done;){var se=P.value;S(new we(v,se))}}catch(he){J.e(he)}finally{J.f()}}else S(new Qe(v,T,N));return!1}if(function(he){return he in Ke}(v)&&T.length<Ke[v])return S(new We(v)),!1}return!0}function Rt(v,T){var S=T==="fraction"?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/,N=v&&v.match(S);if(N){var P=N[1].length;switch(N[2].charAt(0)){case"":return{min:P,max:P};case"+":return{min:P,max:null};case"#":return{min:P,max:P+N[2].length}}}return null}var Ct=function(){function v(T){c(this,v),this.skeleton={},this.onError=T}return d(v,[{key:"badOption",value:function(T,S){this.onError(new we(T,S))}},{key:"assertEmpty",value:function(T){var S=this.skeleton[T];S&&this.onError(new ze(T,S))}},{key:"parseToken",value:function(T,S){if(Lt(T,S,this.onError)){var N=S[0],P=this.skeleton;switch(T){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),P.notation={style:T};break;case"scientific":case"engineering":var J,se=null,he=void 0,be=z(S);try{for(be.s();!(J=be.n()).done;){var qe=J.value;switch(qe){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":he=qe;break;default:/^\+e+$/.test(qe)?se=qe.length-1:this.badOption(T,qe)}}}catch(xt){be.e(xt)}finally{be.f()}this.assertEmpty("notation");var St=S.join("/");P.notation=se&&he?{style:T,source:St,expDigits:se,expSign:he}:se?{style:T,source:St,expDigits:se}:he?{style:T,source:St,expSign:he}:{style:T,source:St};break;case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),P.unit={style:T};break;case"currency":/^[A-Z]{3}$/.test(N)?(this.assertEmpty("unit"),P.unit={style:T,currency:N}):this.badOption(T,N);break;case"measure-unit":Ue(N)?(this.assertEmpty("unit"),P.unit={style:T,unit:N}):this.badOption(T,N);break;case"per-measure-unit":Ue(N)?(this.assertEmpty("unitPer"),P.unitPer=N):this.badOption(T,N);break;case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),P.unitWidth=T;break;case"precision-integer":case"precision-unlimited":case"precision-currency-standard":case"precision-currency-cash":this.assertEmpty("precision"),P.precision={style:T};break;case"precision-increment":var Ft=Number(N);Ft>0?(this.assertEmpty("precision"),P.precision={style:T,increment:Ft}):this.badOption(T,N);break;case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),P.roundingMode=T;break;case"integer-width":if(/^\+0*$/.test(N))this.assertEmpty("integerWidth"),P.integerWidth={source:N,min:N.length-1};else{var qt=N.match(/^#*(0*)$/);qt?(this.assertEmpty("integerWidth"),P.integerWidth={source:N,min:qt[1].length,max:qt[0].length}):this.badOption(T,N)}break;case"scale":var ut=Number(N);ut>0?(this.assertEmpty("scale"),P.scale=ut):this.badOption(T,N);break;case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),P.group=T;break;case"latin":this.assertEmpty("numberingSystem"),P.numberingSystem="latn";break;case"numbering-system":["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(N)!==-1?(this.assertEmpty("numberingSystem"),P.numberingSystem=N):this.badOption(T,N);break;case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),P.sign=T;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),P.decimal=T;break;default:var Vt=function(xt,Kt,kn){var ni=Rt(xt,"fraction");if(ni){Kt.length>1&&kn(new Qe(xt,Kt,1));var Nn={style:"precision-fraction",source:xt,minFraction:ni.min};ni.max!=null&&(Nn.maxFraction=ni.max);var Ye=Kt[0],vt=Rt(Ye,"significant");return vt?(Nn.source="".concat(xt,"/").concat(Ye),Nn.minSignificant=vt.min,vt.max!=null&&(Nn.maxSignificant=vt.max)):Ye&&kn(new we(xt,Ye)),Nn}var Pt=Rt(xt,"significant");if(Pt){var Ht,Jt=z(Kt);try{for(Jt.s();!(Ht=Jt.n()).done;){var zt=Ht.value;kn(new we(xt,zt))}}catch(Vn){Jt.e(Vn)}finally{Jt.f()}var ln={style:"precision-fraction",source:xt,minSignificant:Pt.min};return Pt.max!=null&&(ln.maxSignificant=Pt.max),ln}return null}(T,S,this.onError);Vt?(this.assertEmpty("precision"),P.precision=Vt):this.onError(new De(T))}}}}]),v}();function pe(v){var T,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(Vt){throw Vt},N=[],P=z(v.split(" "));try{for(P.s();!(T=P.n()).done;){var J=T.value;if(J){var se=J.split("/"),he=se.shift()||"";N.push({stem:he,options:se})}}}catch(Vt){P.e(Vt)}finally{P.f()}for(var be=new Ct(S),qe=0,St=N;qe<St.length;qe++){var Ft=St[qe],qt=Ft.stem,ut=Ft.options;be.parseToken(qt,ut)}return be.skeleton}function $e(v,T,S,N){typeof T=="string"&&(T=T.indexOf("::")===0?pe(T.slice(2),N):_t(T,S,N));var P=Te(v,T),J=it(T,N),se=function(Vt){var xt=Ce(Vt),Kt=Vt.precision;return Kt&&Kt.style==="precision-increment"?function(kn){return function(ni,Nn){var Ye=+ni+Nn/2;return Ye-Ye%+Nn}(kn,Kt.increment)*xt}:function(kn){return kn*xt}}(T),he=new Intl.NumberFormat(P,J);if(T.affix){var be=L(T.affix.pos,2),qe=be[0],St=be[1],Ft=L(T.affix.neg||["",""],2),qt=Ft[0],ut=Ft[1];return function(Vt){var xt=he.format(se(Vt));return Vt<0?"".concat(qt).concat(xt).concat(ut):"".concat(qe).concat(xt).concat(St)}}return function(Vt){return he.format(se(Vt))}}function Ae(v,T,S,N){typeof T=="string"&&(T=T.indexOf("::")===0?pe(T.slice(2),N):_t(T,S,N));var P=Te(v,T),J=it(T,N),se=function(xt){var Kt=Ce(xt),kn=xt.precision;if(kn&&kn.style==="precision-increment"){var ni="+n + ".concat(kn.increment/2),Nn="x - (x % +".concat(kn.increment,")");return Kt!==1&&(Nn="(".concat(Nn,") * ").concat(Kt)),"function(n) { var x = ".concat(ni,"; return ").concat(Nn,"; }")}return Kt!==1?"function(n) { return n * ".concat(Kt,"; }"):null}(T),he=["(function() {","var opt = ".concat(JSON.stringify(J),";"),"var nf = new Intl.NumberFormat(".concat(JSON.stringify(P),", opt);")],be="nf.format(value)";if(se&&(he.push("var mod = ".concat(se,";")),be="nf.format(mod(value))"),T.affix){var qe=L(T.affix.pos.map(function(xt){return JSON.stringify(xt)}),2),St=qe[0],Ft=qe[1];if(T.affix.neg){var qt=L(T.affix.neg.map(function(xt){return JSON.stringify(xt)}),2),ut=qt[0],Vt=qt[1];be="value < 0 ? ".concat(ut," + ").concat(be," + ").concat(Vt," : ").concat(St," + ").concat(be," + ").concat(Ft)}else be="".concat(St," + ").concat(be," + ").concat(Ft)}return he.push("return function(value) { return ".concat(be,"; }")),he.join(`
  `)+`
})()`}var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:a.g!==void 0?a.g:typeof self<"u"?self:{},Ge={},Oe={},dt={exports:{}};(function(v){var T,S;T=de,S=function(){var N=Object.prototype.hasOwnProperty,P=Object.prototype.toString,J=typeof new RegExp().sticky=="boolean";function se(Ye){return Ye&&P.call(Ye)==="[object RegExp]"}function he(Ye){return Ye&&f(Ye)==="object"&&!se(Ye)&&!Array.isArray(Ye)}function be(Ye){return"("+Ye+")"}function qe(Ye){return Ye.length?"(?:"+Ye.map(function(vt){return"(?:"+vt+")"}).join("|")+")":"(?!)"}function St(Ye){if(typeof Ye=="string")return"(?:"+Ye.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+")";if(se(Ye)){if(Ye.ignoreCase)throw new Error("RegExp /i flag not allowed");if(Ye.global)throw new Error("RegExp /g flag is implied");if(Ye.sticky)throw new Error("RegExp /y flag is implied");if(Ye.multiline)throw new Error("RegExp /m flag is implied");return Ye.source}throw new Error("Not a pattern: "+Ye)}function Ft(Ye,vt){if(he(vt)||(vt={match:vt}),vt.include)throw new Error("Matching rules cannot also include states");var Pt={defaultType:Ye,lineBreaks:!!vt.error||!!vt.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Ht in vt)N.call(vt,Ht)&&(Pt[Ht]=vt[Ht]);if(typeof Pt.type=="string"&&Ye!==Pt.type)throw new Error("Type transform cannot be a string (type '"+Pt.type+"' for token '"+Ye+"')");var Jt=Pt.match;return Pt.match=Array.isArray(Jt)?Jt:Jt?[Jt]:[],Pt.match.sort(function(zt,ln){return se(zt)&&se(ln)?0:se(ln)?-1:se(zt)?1:ln.length-zt.length}),Pt}function qt(Ye){return Array.isArray(Ye)?function(vt){for(var Pt=[],Ht=0;Ht<vt.length;Ht++){var Jt=vt[Ht];if(Jt.include)for(var zt=[].concat(Jt.include),ln=0;ln<zt.length;ln++)Pt.push({include:zt[ln]});else{if(!Jt.type)throw new Error("Rule has no type: "+JSON.stringify(Jt));Pt.push(Ft(Jt.type,Jt))}}return Pt}(Ye):function(vt){for(var Pt=Object.getOwnPropertyNames(vt),Ht=[],Jt=0;Jt<Pt.length;Jt++){var zt=Pt[Jt],ln=vt[zt],Vn=[].concat(ln);if(zt!=="include"){var on=[];Vn.forEach(function(oi){he(oi)?(on.length&&Ht.push(Ft(zt,on)),Ht.push(Ft(zt,oi)),on=[]):on.push(oi)}),on.length&&Ht.push(Ft(zt,on))}else for(var _n=0;_n<Vn.length;_n++)Ht.push({include:Vn[_n]})}return Ht}(Ye)}var ut=Ft("error",{lineBreaks:!0,shouldThrow:!0});function Vt(Ye,vt){for(var Pt=null,Ht=Object.create(null),Jt=!0,zt=null,ln=[],Vn=[],on=0;on<Ye.length;on++)Ye[on].fallback&&(Jt=!1);for(on=0;on<Ye.length;on++){var _n=Ye[on];if(_n.include)throw new Error("Inheritance is not allowed in stateless lexers");if(_n.error||_n.fallback){if(Pt)throw!_n.fallback==!Pt.fallback?new Error("Multiple "+(_n.fallback?"fallback":"error")+" rules not allowed (for token '"+_n.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+_n.defaultType+"')");Pt=_n}var oi=_n.match.slice();if(Jt)for(;oi.length&&typeof oi[0]=="string"&&oi[0].length===1;)Ht[oi.shift().charCodeAt(0)]=_n;if(_n.pop||_n.push||_n.next){if(!vt)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+_n.defaultType+"')");if(_n.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+_n.defaultType+"')")}if(oi.length!==0){Jt=!1,ln.push(_n);for(var ii=0;ii<oi.length;ii++){var il=oi[ii];if(se(il)){if(zt===null)zt=il.unicode;else if(zt!==il.unicode&&_n.fallback===!1)throw new Error("If one rule is /u then all must be")}}var mr=qe(oi.map(St)),Ui=new RegExp(mr);if(Ui.test(""))throw new Error("RegExp matches empty string: "+Ui);if(new RegExp("|"+mr).exec("").length-1>0)throw new Error("RegExp has capture groups: "+Ui+`
Use (?: … ) instead`);if(!_n.lineBreaks&&Ui.test(`
`))throw new Error("Rule should declare lineBreaks: "+Ui);Vn.push(be(mr))}}var zi=Pt&&Pt.fallback,pr=J&&!zi?"ym":"gm",Wr=J||zi?"":"|";return zt===!0&&(pr+="u"),{regexp:new RegExp(qe(Vn)+Wr,pr),groups:ln,fast:Ht,error:Pt||ut}}function xt(Ye,vt,Pt){var Ht=Ye&&(Ye.push||Ye.next);if(Ht&&!Pt[Ht])throw new Error("Missing state '"+Ht+"' (in token '"+Ye.defaultType+"' of state '"+vt+"')");if(Ye&&Ye.pop&&+Ye.pop!=1)throw new Error("pop must be 1 (in token '"+Ye.defaultType+"' of state '"+vt+"')")}var Kt=function(Ye,vt){this.startState=vt,this.states=Ye,this.buffer="",this.stack=[],this.reset()};Kt.prototype.reset=function(Ye,vt){return this.buffer=Ye||"",this.index=0,this.line=vt?vt.line:1,this.col=vt?vt.col:1,this.queuedToken=vt?vt.queuedToken:null,this.queuedThrow=vt?vt.queuedThrow:null,this.setState(vt?vt.state:this.startState),this.stack=vt&&vt.stack?vt.stack.slice():[],this},Kt.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedThrow:this.queuedThrow}},Kt.prototype.setState=function(Ye){if(Ye&&this.state!==Ye){this.state=Ye;var vt=this.states[Ye];this.groups=vt.groups,this.error=vt.error,this.re=vt.regexp,this.fast=vt.fast}},Kt.prototype.popState=function(){this.setState(this.stack.pop())},Kt.prototype.pushState=function(Ye){this.stack.push(this.state),this.setState(Ye)};var kn=J?function(Ye,vt){return Ye.exec(vt)}:function(Ye,vt){var Pt=Ye.exec(vt);return Pt[0].length===0?null:Pt};function ni(){return this.value}if(Kt.prototype._getGroup=function(Ye){for(var vt=this.groups.length,Pt=0;Pt<vt;Pt++)if(Ye[Pt+1]!==void 0)return this.groups[Pt];throw new Error("Cannot find token type for matched text")},Kt.prototype.next=function(){var Ye=this.index;if(this.queuedGroup){var vt=this._token(this.queuedGroup,this.queuedText,Ye);return this.queuedGroup=null,this.queuedText="",vt}var Pt=this.buffer;if(Ye!==Pt.length){if(ln=this.fast[Pt.charCodeAt(Ye)])return this._token(ln,Pt.charAt(Ye),Ye);var Ht=this.re;Ht.lastIndex=Ye;var Jt=kn(Ht,Pt),zt=this.error;if(Jt==null)return this._token(zt,Pt.slice(Ye,Pt.length),Ye);var ln=this._getGroup(Jt),Vn=Jt[0];return zt.fallback&&Jt.index!==Ye?(this.queuedGroup=ln,this.queuedText=Vn,this._token(zt,Pt.slice(Ye,Jt.index),Ye)):this._token(ln,Vn,Ye)}},Kt.prototype._token=function(Ye,vt,Pt){var Ht=0;if(Ye.lineBreaks){var Jt=/\n/g,zt=1;if(vt===`
`)Ht=1;else for(;Jt.exec(vt);)Ht++,zt=Jt.lastIndex}var ln={type:typeof Ye.type=="function"&&Ye.type(vt)||Ye.defaultType,value:typeof Ye.value=="function"?Ye.value(vt):vt,text:vt,toString:ni,offset:Pt,lineBreaks:Ht,line:this.line,col:this.col},Vn=vt.length;if(this.index+=Vn,this.line+=Ht,Ht!==0?this.col=Vn-zt+1:this.col+=Vn,Ye.shouldThrow)throw new Error(this.formatError(ln,"invalid syntax"));return Ye.pop?this.popState():Ye.push?this.pushState(Ye.push):Ye.next&&this.setState(Ye.next),ln},typeof Symbol<"u"&&Symbol.iterator){var Nn=function(Ye){this.lexer=Ye};Nn.prototype.next=function(){var Ye=this.lexer.next();return{value:Ye,done:!Ye}},Nn.prototype[Symbol.iterator]=function(){return this},Kt.prototype[Symbol.iterator]=function(){return new Nn(this)}}return Kt.prototype.formatError=function(Ye,vt){if(Ye==null){var Pt=this.buffer.slice(this.index);Ye={text:Pt,offset:this.index,lineBreaks:Pt.indexOf(`
`)===-1?0:1,line:this.line,col:this.col}}var Ht=Math.max(0,Ye.offset-Ye.col+1),Jt=Ye.lineBreaks?Ye.text.indexOf(`
`):Ye.text.length,zt=this.buffer.substring(Ht,Ye.offset+Jt);return vt+=" at line "+Ye.line+" col "+Ye.col+`:

`,(vt+="  "+zt+`
`)+"  "+Array(Ye.col).join(" ")+"^"},Kt.prototype.clone=function(){return new Kt(this.states,this.state)},Kt.prototype.has=function(Ye){return!0},{compile:function(Ye){var vt=Vt(qt(Ye));return new Kt({start:vt},"start")},states:function(Ye,vt){var Pt=Ye.$all?qt(Ye.$all):[];delete Ye.$all;var Ht=Object.getOwnPropertyNames(Ye);vt||(vt=Ht[0]);for(var Jt=Object.create(null),zt=0;zt<Ht.length;zt++)Jt[zi=Ht[zt]]=qt(Ye[zi]).concat(Pt);for(zt=0;zt<Ht.length;zt++)for(var ln=Jt[zi=Ht[zt]],Vn=Object.create(null),on=0;on<ln.length;on++){var _n=ln[on];if(_n.include){var oi=[on,1];if(_n.include!==zi&&!Vn[_n.include]){Vn[_n.include]=!0;var ii=Jt[_n.include];if(!ii)throw new Error("Cannot include nonexistent state '"+_n.include+"' (in state '"+zi+"')");for(var il=0;il<ii.length;il++){var mr=ii[il];ln.indexOf(mr)===-1&&oi.push(mr)}}ln.splice.apply(ln,oi),on--}}var Ui=Object.create(null);for(zt=0;zt<Ht.length;zt++){var zi;Ui[zi=Ht[zt]]=Vt(Jt[zi],!0)}for(zt=0;zt<Ht.length;zt++){var pr=Ht[zt],Wr=Ui[pr],ta=Wr.groups;for(on=0;on<ta.length;on++)xt(ta[on],pr,Ui);var na=Object.getOwnPropertyNames(Wr.fast);for(on=0;on<na.length;on++)xt(Wr.fast[na[on]],pr,Ui)}return new Kt(Ui,vt)},error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:function(Ye){for(var vt=Object.create(null),Pt=Object.create(null),Ht=Object.getOwnPropertyNames(Ye),Jt=0;Jt<Ht.length;Jt++){var zt=Ht[Jt],ln=Ye[zt];(Array.isArray(ln)?ln:[ln]).forEach(function(ii){if((Pt[ii.length]=Pt[ii.length]||[]).push(ii),typeof ii!="string")throw new Error("keyword must be string (in keyword '"+zt+"')");vt[ii]=zt})}function Vn(ii){return JSON.stringify(ii)}var on="";for(var _n in on+=`switch (value.length) {
`,Pt){var oi=Pt[_n];on+="case "+_n+`:
`,on+=`switch (value) {
`,oi.forEach(function(ii){var il=vt[ii];on+="case "+Vn(ii)+": return "+Vn(il)+`
`}),on+=`}
`}return on+=`}
`,Function("value",on)}}},v.exports?v.exports=S():T.moo=S()})(dt),function(v){var T=de&&de.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(v,"__esModule",{value:!0}),v.lexer=v.states=void 0;var S=T(dt.exports);v.states={body:{doubleapos:{match:"''",value:function(){return"'"}},quoted:{lineBreaks:!0,match:/'[#\{\}](?:(?:(?![])[\s\S])*?(?:(?!')[\s\S]))?'(?!')/,value:function(N){return N.slice(1,-1).replace(/''/g,"'")}},argument:{lineBreaks:!0,match:/\{[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,push:"arg",value:function(N){return N.substring(1).trim()}},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/(?:(?![])[\s\S])(?:(?![#'\{\}])[\s\S])*/}},arg:{select:{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:plural|select|selectordinal)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,next:"select",value:function(N){return N.split(",")[1].trim()}},"func-args":{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,/,next:"body",value:function(N){return N.split(",")[1].trim()}},"func-simple":{lineBreaks:!0,match:/,[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,value:function(N){return N.substring(1).trim()}},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*offset[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*[0-9]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*/,value:function(N){return N.split(":")[1].trim()}},case:{lineBreaks:!0,match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:=[0-9]+|(?:(?![\t-\r -\/:-@\[-\^`\{-~\x85\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u200E-\u2029\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46])[\s\S])+)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{/,push:"body",value:function(N){return N.substring(0,N.indexOf("{")).trim()}},end:{match:/[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\}/,pop:1}}},v.lexer=S.default.states(v.states)}(Oe),Object.defineProperty(Ge,"__esModule",{value:!0});var Ie=Ge.parse=Ge.ParseError=void 0,at=Oe,Ze=function(v){return{offset:v.offset,line:v.line,col:v.col,text:v.text,lineBreaks:v.lineBreaks}},Me=function(v){return v==="plural"||v==="select"||v==="selectordinal"},je=["number","date","time","spellout","ordinal","duration"],ot=["zero","one","two","few","many","other"],rt=function(v){b(S,v);var T=B(S);function S(N,P){return c(this,S),T.call(this,at.lexer.formatError(N,P))}return d(S)}(I(Error));Ge.ParseError=rt;var Bt=function(){function v(T,S){c(this,v),this.lexer=at.lexer.reset(T),this.cardinalKeys=S&&S.cardinal||ot,this.ordinalKeys=S&&S.ordinal||ot,this.strict=S&&S.strict||!1}return d(v,[{key:"parse",value:function(){return this.parseBody(!1,!0)}},{key:"checkSelectKey",value:function(T,S,N){if(N[0]==="="){if(S==="select")throw new rt(T,"The case ".concat(N," is not valid with select"))}else if(S!=="select"){var P=S==="plural"?this.cardinalKeys:this.ordinalKeys;if(P.length>0&&!P.includes(N)){var J="The ".concat(S," case ").concat(N," is not valid in this locale");throw new rt(T,J)}}}},{key:"parseSelect",value:function(T,S,N,P){var J={type:P,arg:T.value,cases:[],ctx:N};P==="plural"||P==="selectordinal"?S=!0:this.strict&&(S=!1);var se,he=z(this.lexer);try{for(he.s();!(se=he.n()).done;){var be=se.value;switch(be.type){case"offset":if(P==="select")throw new rt(be,"Unexpected plural offset for select");if(J.cases.length>0)throw new rt(be,"Plural offset must be set before cases");J.pluralOffset=Number(be.value),N.text+=be.text,N.lineBreaks+=be.lineBreaks;break;case"case":this.checkSelectKey(be,P,be.value),J.cases.push({key:be.value,tokens:this.parseBody(S),ctx:Ze(be)});break;case"end":return J;default:throw new rt(be,"Unexpected lexer token: ".concat(be.type))}}}catch(qe){he.e(qe)}finally{he.f()}throw new rt(null,"Unexpected message end")}},{key:"parseArgToken",value:function(T,S){var N=Ze(T),P=this.lexer.next();if(!P)throw new rt(null,"Unexpected message end");if(N.text+=P.text,N.lineBreaks+=P.lineBreaks,this.strict&&(P.type==="func-simple"||P.type==="func-args")&&!je.includes(P.value)){var J="Invalid strict mode function arg type: ".concat(P.value);throw new rt(T,J)}switch(P.type){case"end":return{type:"argument",arg:T.value,ctx:N};case"func-simple":var se=this.lexer.next();if(!se)throw new rt(null,"Unexpected message end");if(se.type!=="end")throw new rt(se,"Unexpected lexer token: ".concat(se.type));if(N.text+=se.text,Me(P.value.toLowerCase()))throw new rt(P,"Invalid type identifier: ".concat(P.value));return{type:"function",arg:T.value,key:P.value,ctx:N};case"func-args":if(Me(P.value.toLowerCase())){var he="Invalid type identifier: ".concat(P.value);throw new rt(P,he)}var be=this.parseBody(!this.strict&&S);return this.strict&&be.length>0&&(be=function(qe,St){var Ft,qt="",ut="",Vt=z(St);try{for(Vt.s();!(Ft=Vt.n()).done;){var xt=Ft.value,Kt=xt.ctx.text;switch(ut+=Kt,xt.type){case"content":qt+=xt.value;break;case"argument":case"function":case"octothorpe":qt+=Kt;break;default:throw new rt(qe,"Unsupported part in strict mode function arg style: ".concat(Kt))}}}catch(kn){Vt.e(kn)}finally{Vt.f()}return[{type:"content",value:qt.trim(),ctx:Object.assign({},St[0].ctx,{text:ut})}]}(T,be)),{type:"function",arg:T.value,key:P.value,param:be,ctx:N};case"select":if(Me(P.value))return this.parseSelect(T,S,N,P.value);throw new rt(P,"Unexpected select type ".concat(P.value));default:throw new rt(P,"Unexpected lexer token: ".concat(P.type))}}},{key:"parseBody",value:function(T,S){var N,P=[],J=null,se=z(this.lexer);try{for(se.s();!(N=se.n()).done;){var he=N.value;if(he.type==="argument")J&&(J=null),P.push(this.parseArgToken(he,T));else if(he.type==="octothorpe"&&T)J&&(J=null),P.push({type:"octothorpe",ctx:Ze(he)});else{if(he.type==="end"&&!S)return P;var be=he.value;if(!T&&he.type==="quoted"&&be[0]==="#"){if(be.includes("{")){var qe="Unsupported escape pattern: ".concat(be);throw new rt(he,qe)}be=he.text}J?(J.value+=be,J.ctx.text+=he.text,J.ctx.lineBreaks+=he.lineBreaks):(J={type:"content",value:be,ctx:Ze(he)},P.push(J))}}}catch(St){se.e(St)}finally{se.f()}if(S)return P;throw new rt(null,"Unexpected message end")}}]),v}();function Ot(v){return Ot[v]||(Ot[v]=new Intl.NumberFormat(v))}Ie=Ge.parse=function(v){return new Bt(v,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).parse()};var Pe=Object.freeze({__proto__:null,_nf:Ot,number:function(v,T,S){return Ot(v).format(T-S)},strictNumber:function(v,T,S,N){var P=T-S;if(isNaN(P))throw new Error("`"+N+"` or its offset is not a number");return Ot(v).format(P)},plural:function(v,T,S,N,P){if({}.hasOwnProperty.call(N,v))return N[v];T&&(v-=T);var J=S(v,P);return J in N?N[J]:N.other},select:function(v,T){return{}.hasOwnProperty.call(T,v)?T[v]:T.other},reqArgs:function(v,T){for(var S=0;S<v.length;++S)if(!T||T[v[S]]===void 0)throw new Error("Message requires argument '".concat(v[S],"'"))}}),Je={};function ft(v,T){var S=String(v)+JSON.stringify(T);return Je[S]||(Je[S]=new Intl.NumberFormat(v,T)),Je[S]}var Se=Object.freeze({__proto__:null,date:function(v,T,S){var N={day:"numeric",month:"short",year:"numeric"};switch(S){case"full":N.weekday="long";case"long":N.month="long";break;case"short":N.month="numeric"}return new Date(v).toLocaleDateString(T,N)},duration:function(v){if(typeof v!="number"&&(v=Number(v)),!isFinite(v))return String(v);var T="";v<0?(T="-",v=Math.abs(v)):v=Number(v);var S=v%60,N=[Math.round(S)===S?S:S.toFixed(3)];return v<60?N.unshift(0):(v=Math.round((v-Number(N[0]))/60),N.unshift(v%60),v>=60&&(v=Math.round((v-Number(N[0]))/60),N.unshift(v))),T+N.shift()+":"+N.map(function(P){return P<10?"0"+String(P):String(P)}).join(":")},numberCurrency:function(v,T,S){return ft(T,{style:"currency",currency:S,minimumFractionDigits:2,maximumFractionDigits:2}).format(v)},numberFmt:function(v,T,S,N){var P=S&&S.split(":")||[],J=P[0],se=P[1];return ft(T,{integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:se&&se.trim()||N,minimumFractionDigits:2,maximumFractionDigits:2}}[J]||{}).format(v)},numberInteger:function(v,T){return ft(T,{maximumFractionDigits:0}).format(v)},numberPercent:function(v,T){return ft(T,{style:"percent"}).format(v)},time:function(v,T,S){var N={second:"numeric",minute:"numeric",hour:"numeric"};switch(S){case"full":case"long":N.timeZoneName="short";break;case"short":delete N.second}return new Date(v).toLocaleTimeString(T,N)}}),ct={break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},tn={await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0};function Mt(v,T){T&&(v+=" "+function(N){for(var P=0,J=0;J<N.length;++J)P=(P<<5)-P+N.charCodeAt(J),P|=0;return P}(v).toString(36));var S=v.trim().replace(/\W+/g,"_");return ct[S]||tn[S]||/^\d/.test(S)?"_"+S:S}function Qt(v,T){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(T)&&!ct[T])return v?v+"."+T:T;var S=JSON.stringify(T);return v?v+"["+S+"]":S}var sn=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^")),Xe="@messageformat/runtime/lib/plurals",Et=function(){function v(T){this.arguments=[],this.runtime={},this.options=T}return v.prototype.compile=function(T,S,N){var P,J,se=this;if(typeof T=="object"){var he={};try{for(var be=H(Object.keys(T)),qe=be.next();!qe.done;qe=be.next()){var St=qe.value,Ft=N&&N[St]||S;he[St]=this.compile(T[St],Ft,N)}}catch(kn){P={error:kn}}finally{try{qe&&!qe.done&&(J=be.return)&&J.call(be)}finally{if(P)throw P.error}}return he}this.plural=S;var qt={cardinal:S.cardinals,ordinal:S.ordinals,strict:this.options.strict};this.arguments=[];var ut=Ie(T,qt).map(function(kn){return se.token(kn,null)}),Vt=this.arguments.length>0,xt=this.concatenate(ut,!0);if(this.options.requireAllArguments&&Vt){this.setRuntimeFn("reqArgs");var Kt=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(Kt,", d); return ").concat(xt,"; }")}return"(".concat(Vt?"d":"",") => ").concat(xt)},v.prototype.cases=function(T,S){var N=this,P=!0,J=T.cases.map(function(St){var Ft=St.key,qt=St.tokens;Ft==="other"&&(P=!1);var ut=qt.map(function(Vt){return N.token(Vt,S)});return"".concat(Qt(null,Ft.replace(/^=/,"")),": ").concat(N.concatenate(ut,!1))});if(P){var se=T.type,he=this.plural,be=he.cardinals,qe=he.ordinals;if(se==="select"||se==="plural"&&be.includes("other")||se==="selectordinal"&&qe.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(T)))}return"{ ".concat(J.join(", ")," }")},v.prototype.concatenate=function(T,S){return this.options.returnType==="values"&&(S||T.length>1)?"["+T.join(", ")+"]":T.join(" + ")||'""'},v.prototype.token=function(T,S){if(T.type==="content")return JSON.stringify(T.value);var N,P,J,se,he,be,qe=this.plural,St=qe.id,Ft=qe.lc;switch("arg"in T?(this.arguments.push(T.arg),N=[Qt("d",T.arg)]):N=[],T.type){case"argument":return this.options.biDiSupport?(J=String(N[0]),se=Ft,he=sn.test(se),be=JSON.stringify(he?"‏":"‎"),"".concat(be," + ").concat(J," + ").concat(be)):String(N[0]);case"select":P="select",S&&this.options.strict&&(S=null),N.push(this.cases(T,S)),this.setRuntimeFn("select");break;case"selectordinal":P="plural",N.push(T.pluralOffset||0,St,this.cases(T,T),1),this.setLocale(St,!0),this.setRuntimeFn("plural");break;case"plural":P="plural",N.push(T.pluralOffset||0,St,this.cases(T,T)),this.setLocale(St,!1),this.setRuntimeFn("plural");break;case"function":if(!this.options.customFormatters[T.key]){if(T.key==="date"){P=this.setDateFormatter(T,N,S);break}if(T.key==="number"){P=this.setNumberFormatter(T,N,S);break}}if(N.push(JSON.stringify(this.plural.locale)),T.param){S&&this.options.strict&&(S=null);var qt=this.getFormatterArg(T,S);qt&&N.push(qt)}P=T.key,this.setFormatter(P);break;case"octothorpe":if(!S)return'"#"';N=[JSON.stringify(this.plural.locale),Qt("d",S.arg),S.pluralOffset||0],this.options.strict?(P="strictNumber",N.push(JSON.stringify(S.arg)),this.setRuntimeFn("strictNumber")):(P="number",this.setRuntimeFn("number"))}if(!P)throw new Error("Parser error for token "+JSON.stringify(T));return"".concat(P,"(").concat(N.join(", "),")")},v.prototype.runtimeIncludes=function(T,S){if(Mt(T)!==T)throw new SyntaxError("Reserved word used as ".concat(S," identifier: ").concat(T));var N=this.runtime[T];if(!N||N.type===S)return N;throw new TypeError("Cannot override ".concat(N.type," runtime function as ").concat(S,": ").concat(T))},v.prototype.setLocale=function(T,S){var N,P,J,se=this.runtimeIncludes(T,"locale"),he=this.plural,be=he.getCardinal,qe=he.getPlural,St=he.isDefault;if(!S&&St&&be){if(se)return;N=function(Ft){return be(Ft)},P="@messageformat/runtime/lib/cardinals",J=function(){return String(be)}}else{if(se&&(!St||se.module===Xe))return;N=function(Ft,qt){return qe(Ft,qt)},P=St?Xe:qe.module||null,J=function(){return String(qe)}}this.runtime[T]=Object.assign(N,{id:T,module:P,toString:J,type:"locale"})},v.prototype.setRuntimeFn=function(T){this.runtimeIncludes(T,"runtime")||(this.runtime[T]=Object.assign(Pe[T],{id:T,module:"@messageformat/runtime",type:"runtime"}))},v.prototype.getFormatterArg=function(T,S){var N,P,J,se,he=this,be=T.key,qe=T.param,St=this.options.customFormatters[be]||nn(be)&&Se[be];if(!St||!qe)return null;var Ft="arg"in St&&St.arg||"string";if(Ft==="options"){var qt="";try{for(var ut=H(qe),Vt=ut.next();!Vt.done;Vt=ut.next()){var xt=Vt.value;if(xt.type!=="content")throw new SyntaxError("Expected literal options for ".concat(be," formatter"));qt+=xt.value}}catch(ln){N={error:ln}}finally{try{Vt&&!Vt.done&&(P=ut.return)&&P.call(ut)}finally{if(N)throw N.error}}var Kt={};try{for(var kn=H(qt.split(",")),ni=kn.next();!ni.done;ni=kn.next()){var Nn=ni.value,Ye=Nn.indexOf(":");if(Ye===-1)Kt[Nn.trim()]=null;else{var vt=Nn.substring(0,Ye).trim(),Pt=Nn.substring(Ye+1).trim();if(Pt==="true")Kt[vt]=!0;else if(Pt==="false")Kt[vt]=!1;else if(Pt==="null")Kt[vt]=null;else{var Ht=Number(Pt);Kt[vt]=Number.isFinite(Ht)?Ht:Pt}}}}catch(ln){J={error:ln}}finally{try{ni&&!ni.done&&(se=kn.return)&&se.call(kn)}finally{if(J)throw J.error}}return JSON.stringify(Kt)}var Jt=qe.map(function(ln){return he.token(ln,S)});if(Ft==="raw")return"[".concat(Jt.join(", "),"]");var zt=Jt.join(" + ");return zt?"(".concat(zt,").trim()"):'""'},v.prototype.setFormatter=function(T){if(!this.runtimeIncludes(T,"formatter")){var S=this.options.customFormatters[T];if(S)typeof S=="function"&&(S={formatter:S}),this.runtime[T]=Object.assign(S.formatter,{type:"formatter"},"module"in S&&S.module&&S.id?{id:Mt(S.id),module:S.module}:{id:null,module:null});else{if(!nn(T))throw new Error("Formatting function not found: ".concat(T));this.runtime[T]=Object.assign(Se[T],{type:"formatter"},{id:T,module:"@messageformat/runtime/lib/formatters"})}}},v.prototype.setDateFormatter=function(T,S,N){var P=this,J=T.param,se=this.plural.locale,he=J&&J.length===1&&J[0];if(he&&he.type==="content"&&/^\s*::/.test(he.value)){var be=he.value.trim().substr(2),qe=Mt("date_".concat(se,"_").concat(be),!0);if(!this.runtimeIncludes(qe,"formatter")){var St=function(qt,ut,Vt){typeof ut=="string"&&(ut=ce(ut));var xt=ie(ut,Vt),Kt=new Intl.DateTimeFormat(qt,xt);return function(kn){return Kt.format(kn)}}(se,be);this.runtime[qe]=Object.assign(St,{id:qe,module:null,toString:function(){return function(qt,ut,Vt){typeof ut=="string"&&(ut=ce(ut));var xt=ie(ut,Vt);return["(function() {","var opt = ".concat(JSON.stringify(xt),";"),"var dtf = new Intl.DateTimeFormat(".concat(JSON.stringify(qt),", opt);"),"return function(value) { return dtf.format(value); }"].join(`
  `)+`
})()`}(se,be)},type:"formatter"})}return qe}if(S.push(JSON.stringify(se)),J&&J.length>0){N&&this.options.strict&&(N=null);var Ft=J.map(function(qt){return P.token(qt,N)});S.push("("+(Ft.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},v.prototype.setNumberFormatter=function(T,S,N){var P=this,J=T.param,se=this.plural.locale;if(!J||J.length===0)return S.unshift(JSON.stringify(se)),S.push("0"),this.setRuntimeFn("number"),"number";if(S.push(JSON.stringify(se)),J.length===1&&J[0].type==="content"){var he=J[0].value.trim();switch(he){case"currency":return S.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var be=he.match(/^currency:([A-Z]+)$/);if(be)return S.push(JSON.stringify(be[1])),this.setFormatter("numberCurrency"),"numberCurrency";var qe=Mt("number_".concat(se,"_").concat(he),!0);if(!this.runtimeIncludes(qe,"formatter")){var St=this.options.currency,Ft=$e(se,he,St);this.runtime[qe]=Object.assign(Ft,{id:null,module:null,toString:function(){return Ae(se,he,St)},type:"formatter"})}return qe}N&&this.options.strict&&(N=null);var qt=J.map(function(ut){return P.token(ut,N)});return S.push("("+(qt.join(" + ")||'""')+").trim()"),S.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},v}();function nn(v){return v in Se}var Re=function(v){return v==1?"one":"other"},yt=function(v){return v==0||v==1?"one":"other"},dn=function(v){return v>=0&&v<=1?"one":"other"},rn=function(v){var T=!String(v).split(".")[1];return v==1&&T?"one":"other"},Gt=function(v){return"other"},xn=function(v){return v==1?"one":v==2?"two":"other"},In=Re,wn=yt,cn=dn,Ni=Re,En=dn,bn=Re,un=rn,Bi=Re,On=Re,$n=Re,yn=Re,Qn=Re,Ti=yt,Dn=Gt,Ln=dn,Si=Gt,Fn=Re,Pn=rn,Ci=Re,jn=Re,Un=Re,Gn=Re,qn=rn,ei=dn,Yn=Re,Hn=Gt,zn=Re,Wn=Re,Ii=rn,Oi=Re,Ri=rn,Cl=Re,Ne=dn,kt=rn,me=Re,tt=Re,al=rn,Il=rn,Ol=Re,Rl=dn,Al=yt,Nl=Re,Bl=Re,Ml=dn,Dl=Gt,Ll=Re,Fl=rn,Pl=Gt,jl=Gt,Ul=Gt,Gl=rn,ql=xn,Yl=Gt,Hl=Gt,zl=Re,Wl=Re,Vl=Gt,Jl=Gt,Xt=Re,Hi=Re,Rk=Re,Ak=Gt,Nk=Gt,Bk=Re,Mk=Re,Dk=Re,Lk=Gt,Fk=dn,Pk=Gt,jk=Re,Uk=Re,Gk=Re,qk=Re,Yk=Re,Hk=Re,zk=rn,Wk=Gt,Vk=yt,Jk=Gt,Xk=Re,Kk=yt,Zk=Re,Qk=Re,xk=Re,ev=Re,tv=Gt,nv=Gt,iv=Re,lv=xn,rv=Re,ov=Re,sv=Re,fv=rn,av=Re,cv=Re,uv=Re,_v=Gt,dv=Re,mv=yt,pv=Re,hv=Re,gv=Re,bv=Re,$v=Re,yv=Gt,kv=yt,vv=Re,wv=dn,Ev=Re,Tv=Re,Sv=Re,Cv=Re,Iv=Gt,Ov=Re,Rv=xn,Av=rn,Nv=rn,Bv=Re,Mv=Re,Dv=xn,Lv=Re,Fv=Gt,Pv=Gt,jv=xn,Uv=xn,Gv=xn,qv=xn,Yv=xn,Hv=Re,zv=Re,Wv=Re,Vv=Re,Jv=Re,Xv=Re,Kv=Gt,Zv=rn,Qv=rn,xv=Re,e2=Re,t2=Re,n2=Re,i2=Gt,l2=yt,r2=Re,o2=Re,s2=Re,f2=Gt,a2=Gt,c2=Re,u2=Re,_2=Re,d2=Gt,m2=rn,p2=Re,h2=Re,g2=Gt,b2=Re,$2=Re,y2=yt,k2=Re,v2=Gt,w2=Re,E2=Re,T2=rn,S2=Gt,C2=Gt,I2=Gt,O2=dn,R2=Object.freeze({__proto__:null,af:In,ak:wn,am:cn,an:Ni,ar:function(v){var T=String(v).split("."),S=Number(T[0])==v&&T[0].slice(-2);return v==0?"zero":v==1?"one":v==2?"two":S>=3&&S<=10?"few":S>=11&&S<=99?"many":"other"},ars:function(v){var T=String(v).split("."),S=Number(T[0])==v&&T[0].slice(-2);return v==0?"zero":v==1?"one":v==2?"two":S>=3&&S<=10?"few":S>=11&&S<=99?"many":"other"},as:En,asa:bn,ast:un,az:Bi,bal:On,be:function(v){var T=String(v).split("."),S=Number(T[0])==v,N=S&&T[0].slice(-1),P=S&&T[0].slice(-2);return N==1&&P!=11?"one":N>=2&&N<=4&&(P<12||P>14)?"few":S&&N==0||N>=5&&N<=9||P>=11&&P<=14?"many":"other"},bem:$n,bez:yn,bg:Qn,bho:Ti,bm:Dn,bn:Ln,bo:Si,br:function(v){var T=String(v).split("."),S=Number(T[0])==v,N=S&&T[0].slice(-1),P=S&&T[0].slice(-2),J=S&&T[0].slice(-6);return N==1&&P!=11&&P!=71&&P!=91?"one":N==2&&P!=12&&P!=72&&P!=92?"two":(N==3||N==4||N==9)&&(P<10||P>19)&&(P<70||P>79)&&(P<90||P>99)?"few":v!=0&&S&&J==0?"many":"other"},brx:Fn,bs:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-1),se=S.slice(-2),he=N.slice(-1),be=N.slice(-2);return P&&J==1&&se!=11||he==1&&be!=11?"one":P&&J>=2&&J<=4&&(se<12||se>14)||he>=2&&he<=4&&(be<12||be>14)?"few":"other"},ca:Pn,ce:Ci,ceb:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-1),se=N.slice(-1);return P&&(S==1||S==2||S==3)||P&&J!=4&&J!=6&&J!=9||!P&&se!=4&&se!=6&&se!=9?"one":"other"},cgg:jn,chr:Un,ckb:Gn,cs:function(v){var T=String(v).split("."),S=T[0],N=!T[1];return v==1&&N?"one":S>=2&&S<=4&&N?"few":N?"other":"many"},cy:function(v){return v==0?"zero":v==1?"one":v==2?"two":v==3?"few":v==6?"many":"other"},da:function(v){var T=String(v).split("."),S=T[0],N=Number(T[0])==v;return v!=1&&(N||S!=0&&S!=1)?"other":"one"},de:qn,doi:ei,dsb:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-2),se=N.slice(-2);return P&&J==1||se==1?"one":P&&J==2||se==2?"two":P&&(J==3||J==4)||se==3||se==4?"few":"other"},dv:Yn,dz:Hn,ee:zn,el:Wn,en:Ii,eo:Oi,es:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-6);return v==1?"one":S!=0&&P==0&&N?"many":"other"},et:Ri,eu:Cl,fa:Ne,ff:function(v){return v>=0&&v<2?"one":"other"},fi:kt,fil:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-1),se=N.slice(-1);return P&&(S==1||S==2||S==3)||P&&J!=4&&J!=6&&J!=9||!P&&se!=4&&se!=6&&se!=9?"one":"other"},fo:me,fr:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-6);return v>=0&&v<2?"one":S!=0&&P==0&&N?"many":"other"},fur:tt,fy:al,ga:function(v){var T=String(v).split("."),S=Number(T[0])==v;return v==1?"one":v==2?"two":S&&v>=3&&v<=6?"few":S&&v>=7&&v<=10?"many":"other"},gd:function(v){var T=String(v).split("."),S=Number(T[0])==v;return v==1||v==11?"one":v==2||v==12?"two":S&&v>=3&&v<=10||S&&v>=13&&v<=19?"few":"other"},gl:Il,gsw:Ol,gu:Rl,guw:Al,gv:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-1),J=S.slice(-2);return N&&P==1?"one":N&&P==2?"two":!N||J!=0&&J!=20&&J!=40&&J!=60&&J!=80?N?"other":"many":"few"},ha:Nl,haw:Bl,he:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=Number(T[0])==v,J=P&&T[0].slice(-1);return v==1&&N?"one":S==2&&N?"two":N&&(v<0||v>10)&&P&&J==0?"many":"other"},hi:Ml,hnj:Dl,hr:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-1),se=S.slice(-2),he=N.slice(-1),be=N.slice(-2);return P&&J==1&&se!=11||he==1&&be!=11?"one":P&&J>=2&&J<=4&&(se<12||se>14)||he>=2&&he<=4&&(be<12||be>14)?"few":"other"},hsb:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-2),se=N.slice(-2);return P&&J==1||se==1?"one":P&&J==2||se==2?"two":P&&(J==3||J==4)||se==3||se==4?"few":"other"},hu:Ll,hy:function(v){return v>=0&&v<2?"one":"other"},ia:Fl,id:Pl,ig:jl,ii:Ul,io:Gl,is:function(v){var T=String(v).split("."),S=T[0],N=Number(T[0])==v,P=S.slice(-1),J=S.slice(-2);return N&&P==1&&J!=11||!N?"one":"other"},it:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-6);return v==1&&N?"one":S!=0&&P==0&&N?"many":"other"},iu:ql,ja:Yl,jbo:Hl,jgo:zl,jmc:Wl,jv:Vl,jw:Jl,ka:Xt,kab:function(v){return v>=0&&v<2?"one":"other"},kaj:Hi,kcg:Rk,kde:Ak,kea:Nk,kk:Bk,kkj:Mk,kl:Dk,km:Lk,kn:Fk,ko:Pk,ks:jk,ksb:Uk,ksh:function(v){return v==0?"zero":v==1?"one":"other"},ku:Gk,kw:function(v){var T=String(v).split("."),S=Number(T[0])==v,N=S&&T[0].slice(-2),P=S&&T[0].slice(-3),J=S&&T[0].slice(-5),se=S&&T[0].slice(-6);return v==0?"zero":v==1?"one":N==2||N==22||N==42||N==62||N==82||S&&P==0&&(J>=1e3&&J<=2e4||J==4e4||J==6e4||J==8e4)||v!=0&&se==1e5?"two":N==3||N==23||N==43||N==63||N==83?"few":v==1||N!=1&&N!=21&&N!=41&&N!=61&&N!=81?"other":"many"},ky:qk,lag:function(v){var T=String(v).split(".")[0];return v==0?"zero":T!=0&&T!=1||v==0?"other":"one"},lb:Yk,lg:Hk,lij:zk,lkt:Wk,ln:Vk,lo:Jk,lt:function(v){var T=String(v).split("."),S=T[1]||"",N=Number(T[0])==v,P=N&&T[0].slice(-1),J=N&&T[0].slice(-2);return P==1&&(J<11||J>19)?"one":P>=2&&P<=9&&(J<11||J>19)?"few":S!=0?"many":"other"},lv:function(v){var T=String(v).split("."),S=T[1]||"",N=S.length,P=Number(T[0])==v,J=P&&T[0].slice(-1),se=P&&T[0].slice(-2),he=S.slice(-2),be=S.slice(-1);return P&&J==0||se>=11&&se<=19||N==2&&he>=11&&he<=19?"zero":J==1&&se!=11||N==2&&be==1&&he!=11||N!=2&&be==1?"one":"other"},mas:Xk,mg:Kk,mgo:Zk,mk:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-1),se=S.slice(-2),he=N.slice(-1),be=N.slice(-2);return P&&J==1&&se!=11||he==1&&be!=11?"one":"other"},ml:Qk,mn:xk,mo:function(v){var T=String(v).split("."),S=!T[1],N=Number(T[0])==v&&T[0].slice(-2);return v==1&&S?"one":!S||v==0||N>=2&&N<=19?"few":"other"},mr:ev,ms:tv,mt:function(v){var T=String(v).split("."),S=Number(T[0])==v&&T[0].slice(-2);return v==1?"one":v==0||S>=2&&S<=10?"few":S>=11&&S<=19?"many":"other"},my:nv,nah:iv,naq:lv,nb:rv,nd:ov,ne:sv,nl:fv,nn:av,nnh:cv,no:uv,nqo:_v,nr:dv,nso:mv,ny:pv,nyn:hv,om:gv,or:bv,os:$v,osa:yv,pa:kv,pap:vv,pcm:wv,pl:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-1),J=S.slice(-2);return v==1&&N?"one":N&&P>=2&&P<=4&&(J<12||J>14)?"few":N&&S!=1&&(P==0||P==1)||N&&P>=5&&P<=9||N&&J>=12&&J<=14?"many":"other"},prg:function(v){var T=String(v).split("."),S=T[1]||"",N=S.length,P=Number(T[0])==v,J=P&&T[0].slice(-1),se=P&&T[0].slice(-2),he=S.slice(-2),be=S.slice(-1);return P&&J==0||se>=11&&se<=19||N==2&&he>=11&&he<=19?"zero":J==1&&se!=11||N==2&&be==1&&he!=11||N!=2&&be==1?"one":"other"},ps:Ev,pt:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-6);return S==0||S==1?"one":S!=0&&P==0&&N?"many":"other"},pt_PT:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-6);return v==1&&N?"one":S!=0&&P==0&&N?"many":"other"},rm:Tv,ro:function(v){var T=String(v).split("."),S=!T[1],N=Number(T[0])==v&&T[0].slice(-2);return v==1&&S?"one":!S||v==0||N>=2&&N<=19?"few":"other"},rof:Sv,ru:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-1),J=S.slice(-2);return N&&P==1&&J!=11?"one":N&&P>=2&&P<=4&&(J<12||J>14)?"few":N&&P==0||N&&P>=5&&P<=9||N&&J>=11&&J<=14?"many":"other"},rwk:Cv,sah:Iv,saq:Ov,sat:Rv,sc:Av,scn:Nv,sd:Bv,sdh:Mv,se:Dv,seh:Lv,ses:Fv,sg:Pv,sh:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-1),se=S.slice(-2),he=N.slice(-1),be=N.slice(-2);return P&&J==1&&se!=11||he==1&&be!=11?"one":P&&J>=2&&J<=4&&(se<12||se>14)||he>=2&&he<=4&&(be<12||be>14)?"few":"other"},shi:function(v){var T=String(v).split("."),S=Number(T[0])==v;return v>=0&&v<=1?"one":S&&v>=2&&v<=10?"few":"other"},si:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"";return v==0||v==1||S==0&&N==1?"one":"other"},sk:function(v){var T=String(v).split("."),S=T[0],N=!T[1];return v==1&&N?"one":S>=2&&S<=4&&N?"few":N?"other":"many"},sl:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-2);return N&&P==1?"one":N&&P==2?"two":N&&(P==3||P==4)||!N?"few":"other"},sma:jv,smi:Uv,smj:Gv,smn:qv,sms:Yv,sn:Hv,so:zv,sq:Wv,sr:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-1),se=S.slice(-2),he=N.slice(-1),be=N.slice(-2);return P&&J==1&&se!=11||he==1&&be!=11?"one":P&&J>=2&&J<=4&&(se<12||se>14)||he>=2&&he<=4&&(be<12||be>14)?"few":"other"},ss:Vv,ssy:Jv,st:Xv,su:Kv,sv:Zv,sw:Qv,syr:xv,ta:e2,te:t2,teo:n2,th:i2,ti:l2,tig:r2,tk:o2,tl:function(v){var T=String(v).split("."),S=T[0],N=T[1]||"",P=!T[1],J=S.slice(-1),se=N.slice(-1);return P&&(S==1||S==2||S==3)||P&&J!=4&&J!=6&&J!=9||!P&&se!=4&&se!=6&&se!=9?"one":"other"},tn:s2,to:f2,tpi:a2,tr:c2,ts:u2,tzm:function(v){var T=String(v).split("."),S=Number(T[0])==v;return v==0||v==1||S&&v>=11&&v<=99?"one":"other"},ug:_2,uk:function(v){var T=String(v).split("."),S=T[0],N=!T[1],P=S.slice(-1),J=S.slice(-2);return N&&P==1&&J!=11?"one":N&&P>=2&&P<=4&&(J<12||J>14)?"few":N&&P==0||N&&P>=5&&P<=9||N&&J>=11&&J<=14?"many":"other"},und:d2,ur:m2,uz:p2,ve:h2,vi:g2,vo:b2,vun:$2,wa:y2,wae:k2,wo:v2,xh:w2,xog:E2,yi:T2,yo:S2,yue:C2,zh:I2,zu:O2}),xi="zero",It="one",An="two",fn="few",mn="many",lt="other",nt={cardinal:[It,lt],ordinal:[lt]},Xl={cardinal:[It,lt],ordinal:[It,lt]},hn={cardinal:[lt],ordinal:[lt]},_r={cardinal:[It,fn,mn,lt],ordinal:[lt]},el={cardinal:[It,An,lt],ordinal:[lt]},A2=nt,N2=nt,B2=nt,M2=nt,D2={cardinal:[xi,It,An,fn,mn,lt],ordinal:[lt]},L2={cardinal:[xi,It,An,fn,mn,lt],ordinal:[lt]},F2={cardinal:[It,lt],ordinal:[It,An,fn,mn,lt]},P2=nt,j2=nt,U2={cardinal:[It,lt],ordinal:[It,fn,mn,lt]},G2=Xl,q2={cardinal:[It,fn,mn,lt],ordinal:[fn,lt]},Y2=nt,H2=nt,z2=nt,W2=nt,V2=hn,J2={cardinal:[It,lt],ordinal:[It,An,fn,mn,lt]},X2=hn,K2={cardinal:[It,An,fn,mn,lt],ordinal:[lt]},Z2=nt,Q2={cardinal:[It,fn,lt],ordinal:[lt]},x2={cardinal:[It,lt],ordinal:[It,An,fn,lt]},ew=nt,tw=nt,nw=nt,iw=nt,lw=nt,rw=_r,ow={cardinal:[xi,It,An,fn,mn,lt],ordinal:[xi,It,An,fn,mn,lt]},sw=nt,fw=nt,aw=nt,cw={cardinal:[It,An,fn,lt],ordinal:[lt]},uw=nt,_w=hn,dw=nt,mw=nt,pw={cardinal:[It,lt],ordinal:[It,An,fn,lt]},hw=nt,gw={cardinal:[It,mn,lt],ordinal:[lt]},bw=nt,$w=nt,yw=nt,kw=nt,vw=nt,ww=Xl,Ew=nt,Tw={cardinal:[It,mn,lt],ordinal:[It,lt]},Sw=nt,Cw=nt,Iw={cardinal:[It,An,fn,mn,lt],ordinal:[It,lt]},Ow={cardinal:[It,An,fn,lt],ordinal:[It,An,fn,lt]},Rw=nt,Aw=nt,Nw={cardinal:[It,lt],ordinal:[It,An,fn,mn,lt]},Bw=nt,Mw={cardinal:[It,An,fn,mn,lt],ordinal:[lt]},Dw=nt,Lw=nt,Fw={cardinal:[It,An,mn,lt],ordinal:[lt]},Pw={cardinal:[It,lt],ordinal:[It,An,fn,mn,lt]},jw=hn,Uw={cardinal:[It,fn,lt],ordinal:[lt]},Gw={cardinal:[It,An,fn,lt],ordinal:[lt]},qw=Xl,Yw=Xl,Hw=nt,zw=hn,Ww=hn,Vw=hn,Jw=nt,Xw=nt,Kw={cardinal:[It,mn,lt],ordinal:[mn,lt]},Zw=el,Qw=hn,xw=hn,eE=nt,tE=nt,nE=hn,iE=hn,lE={cardinal:[It,lt],ordinal:[It,mn,lt]},rE=nt,oE=nt,sE=nt,fE=hn,aE=hn,cE={cardinal:[It,lt],ordinal:[mn,lt]},uE=nt,_E=nt,dE=hn,mE=nt,pE=hn,hE=nt,gE=nt,bE={cardinal:[xi,It,lt],ordinal:[lt]},$E=nt,yE={cardinal:[xi,It,An,fn,mn,lt],ordinal:[It,mn,lt]},kE=nt,vE={cardinal:[xi,It,lt],ordinal:[lt]},wE=nt,EE=nt,TE={cardinal:[It,lt],ordinal:[mn,lt]},SE=hn,CE=nt,IE={cardinal:[lt],ordinal:[It,lt]},OE=_r,RE={cardinal:[xi,It,lt],ordinal:[lt]},AE=nt,NE=nt,BE=nt,ME={cardinal:[It,lt],ordinal:[It,An,mn,lt]},DE=nt,LE=nt,FE={cardinal:[It,fn,lt],ordinal:[It,lt]},PE={cardinal:[It,lt],ordinal:[It,An,fn,lt]},jE={cardinal:[lt],ordinal:[It,lt]},UE=_r,GE=hn,qE=nt,YE=el,HE=nt,zE=nt,WE=Xl,VE=nt,JE=nt,XE=nt,KE=nt,ZE=hn,QE=nt,xE=nt,eT=nt,tT=nt,nT=nt,iT={cardinal:[It,lt],ordinal:[It,An,fn,mn,lt]},lT=nt,rT=hn,oT=nt,sT=nt,fT=nt,aT=_r,cT={cardinal:[xi,It,lt],ordinal:[lt]},uT=nt,_T={cardinal:[It,mn,lt],ordinal:[lt]},dT={cardinal:[It,mn,lt],ordinal:[lt]},mT=nt,pT={cardinal:[It,fn,lt],ordinal:[It,lt]},hT=nt,gT=_r,bT=nt,$T=hn,yT=nt,kT=el,vT={cardinal:[It,lt],ordinal:[mn,lt]},wT={cardinal:[It,lt],ordinal:[mn,lt]},ET=nt,TT=nt,ST=el,CT=nt,IT=hn,OT=hn,RT={cardinal:[It,fn,lt],ordinal:[lt]},AT={cardinal:[It,fn,lt],ordinal:[lt]},NT=nt,BT=_r,MT={cardinal:[It,An,fn,lt],ordinal:[lt]},DT=el,LT=el,FT=el,PT=el,jT=el,UT=nt,GT=nt,qT={cardinal:[It,lt],ordinal:[It,mn,lt]},YT={cardinal:[It,fn,lt],ordinal:[lt]},HT=nt,zT=nt,WT=nt,VT=hn,JT=Xl,XT=nt,KT=nt,ZT=nt,QT=nt,xT=nt,e3=hn,t3=nt,n3=nt,i3={cardinal:[It,lt],ordinal:[fn,lt]},l3=Xl,r3=nt,o3=hn,s3=hn,f3=nt,a3=nt,c3=nt,u3=nt,_3={cardinal:[It,fn,mn,lt],ordinal:[fn,lt]},d3=hn,m3=nt,p3=nt,h3=nt,g3={cardinal:[lt],ordinal:[It,lt]},b3=nt,$3=nt,y3=nt,k3=nt,v3=hn,w3=nt,E3=nt,T3=nt,S3=hn,C3=hn,I3=hn,O3=nt,ea=Object.freeze({__proto__:null,af:A2,ak:N2,am:B2,an:M2,ar:D2,ars:L2,as:F2,asa:P2,ast:j2,az:U2,bal:G2,be:q2,bem:Y2,bez:H2,bg:z2,bho:W2,bm:V2,bn:J2,bo:X2,br:K2,brx:Z2,bs:Q2,ca:x2,ce:ew,ceb:tw,cgg:nw,chr:iw,ckb:lw,cs:rw,cy:ow,da:sw,de:fw,doi:aw,dsb:cw,dv:uw,dz:_w,ee:dw,el:mw,en:pw,eo:hw,es:gw,et:bw,eu:$w,fa:yw,ff:kw,fi:vw,fil:ww,fo:Ew,fr:Tw,fur:Sw,fy:Cw,ga:Iw,gd:Ow,gl:Rw,gsw:Aw,gu:Nw,guw:Bw,gv:Mw,ha:Dw,haw:Lw,he:Fw,hi:Pw,hnj:jw,hr:Uw,hsb:Gw,hu:qw,hy:Yw,ia:Hw,id:zw,ig:Ww,ii:Vw,io:Jw,is:Xw,it:Kw,iu:Zw,ja:Qw,jbo:xw,jgo:eE,jmc:tE,jv:nE,jw:iE,ka:lE,kab:rE,kaj:oE,kcg:sE,kde:fE,kea:aE,kk:cE,kkj:uE,kl:_E,km:dE,kn:mE,ko:pE,ks:hE,ksb:gE,ksh:bE,ku:$E,kw:yE,ky:kE,lag:vE,lb:wE,lg:EE,lij:TE,lkt:SE,ln:CE,lo:IE,lt:OE,lv:RE,mas:AE,mg:NE,mgo:BE,mk:ME,ml:DE,mn:LE,mo:FE,mr:PE,ms:jE,mt:UE,my:GE,nah:qE,naq:YE,nb:HE,nd:zE,ne:WE,nl:VE,nn:JE,nnh:XE,no:KE,nqo:ZE,nr:QE,nso:xE,ny:eT,nyn:tT,om:nT,or:iT,os:lT,osa:rT,pa:oT,pap:sT,pcm:fT,pl:aT,prg:cT,ps:uT,pt:_T,pt_PT:dT,rm:mT,ro:pT,rof:hT,ru:gT,rwk:bT,sah:$T,saq:yT,sat:kT,sc:vT,scn:wT,sd:ET,sdh:TT,se:ST,seh:CT,ses:IT,sg:OT,sh:RT,shi:AT,si:NT,sk:BT,sl:MT,sma:DT,smi:LT,smj:FT,smn:PT,sms:jT,sn:UT,so:GT,sq:qT,sr:YT,ss:HT,ssy:zT,st:WT,su:VT,sv:JT,sw:XT,syr:KT,ta:ZT,te:QT,teo:xT,th:e3,ti:t3,tig:n3,tk:i3,tl:l3,tn:r3,to:o3,tpi:s3,tr:f3,ts:a3,tzm:c3,ug:u3,uk:_3,und:d3,ur:m3,uz:p3,ve:h3,vi:g3,vo:b3,vun:$3,wa:y3,wae:k3,wo:v3,xh:w3,xog:E3,yi:T3,yo:S3,yue:C3,zh:I3,zu:O3}),Tt=function(v,T){return T?"other":v==1?"one":"other"},tl=function(v,T){return T?"other":v==0||v==1?"one":"other"},dr=function(v,T){return T?"other":v>=0&&v<=1?"one":"other"},Pi=function(v,T){var S=!String(v).split(".")[1];return T?"other":v==1&&S?"one":"other"},gn=function(v,T){return"other"},nl=function(v,T){return T?"other":v==1?"one":v==2?"two":"other"},R3=Tt,A3=tl,N3=dr,B3=Tt,M3=Tt,D3=Pi,L3=Tt,F3=Tt,P3=Tt,j3=tl,U3=gn,G3=gn,q3=Tt,Y3=Tt,H3=Tt,z3=Tt,W3=Tt,V3=Pi,J3=dr,X3=Tt,K3=gn,Z3=Tt,Q3=Tt,x3=Tt,eS=Pi,tS=Tt,nS=dr,iS=Pi,lS=Tt,rS=Tt,oS=Pi,sS=Pi,fS=Tt,aS=tl,cS=Tt,uS=Tt,_S=gn,dS=Pi,mS=gn,pS=gn,hS=gn,gS=Pi,bS=nl,$S=gn,yS=gn,kS=Tt,vS=Tt,wS=gn,ES=gn,TS=Tt,SS=Tt,CS=gn,IS=gn,OS=Tt,RS=Tt,AS=gn,NS=dr,BS=gn,MS=Tt,DS=Tt,LS=Tt,FS=Tt,PS=Tt,jS=Tt,US=gn,GS=tl,qS=Tt,YS=tl,HS=Tt,zS=Tt,WS=Tt,VS=gn,JS=Tt,XS=nl,KS=Tt,ZS=Tt,QS=Pi,xS=Tt,e4=Tt,t4=Tt,n4=gn,i4=Tt,l4=tl,r4=Tt,o4=Tt,s4=Tt,f4=Tt,a4=gn,c4=tl,u4=Tt,_4=dr,d4=Tt,m4=Tt,p4=Tt,h4=Tt,g4=gn,b4=Tt,$4=nl,y4=Tt,k4=Tt,v4=nl,w4=Tt,E4=gn,T4=gn,S4=nl,C4=nl,I4=nl,O4=nl,R4=nl,A4=Tt,N4=Tt,B4=Tt,M4=Tt,D4=Tt,L4=gn,F4=Pi,P4=Tt,j4=Tt,U4=Tt,G4=Tt,q4=gn,Y4=tl,H4=Tt,z4=Tt,W4=gn,V4=gn,J4=Tt,X4=Tt,K4=Tt,Z4=gn,Q4=Pi,x4=Tt,eC=Tt,tC=Tt,nC=Tt,iC=tl,lC=Tt,rC=gn,oC=Tt,sC=Tt,fC=Pi,aC=gn,cC=gn,uC=gn,_C=dr,$o=Object.freeze({__proto__:null,af:R3,ak:A3,am:N3,an:B3,ar:function(v,T){var S=String(v).split("."),N=Number(S[0])==v&&S[0].slice(-2);return T?"other":v==0?"zero":v==1?"one":v==2?"two":N>=3&&N<=10?"few":N>=11&&N<=99?"many":"other"},ars:function(v,T){var S=String(v).split("."),N=Number(S[0])==v&&S[0].slice(-2);return T?"other":v==0?"zero":v==1?"one":v==2?"two":N>=3&&N<=10?"few":N>=11&&N<=99?"many":"other"},as:function(v,T){return T?v==1||v==5||v==7||v==8||v==9||v==10?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v>=0&&v<=1?"one":"other"},asa:M3,ast:D3,az:function(v,T){var S=String(v).split(".")[0],N=S.slice(-1),P=S.slice(-2),J=S.slice(-3);return T?N==1||N==2||N==5||N==7||N==8||P==20||P==50||P==70||P==80?"one":N==3||N==4||J==100||J==200||J==300||J==400||J==500||J==600||J==700||J==800||J==900?"few":S==0||N==6||P==40||P==60||P==90?"many":"other":v==1?"one":"other"},bal:function(v,T){return v==1?"one":"other"},be:function(v,T){var S=String(v).split("."),N=Number(S[0])==v,P=N&&S[0].slice(-1),J=N&&S[0].slice(-2);return T?P!=2&&P!=3||J==12||J==13?"other":"few":P==1&&J!=11?"one":P>=2&&P<=4&&(J<12||J>14)?"few":N&&P==0||P>=5&&P<=9||J>=11&&J<=14?"many":"other"},bem:L3,bez:F3,bg:P3,bho:j3,bm:U3,bn:function(v,T){return T?v==1||v==5||v==7||v==8||v==9||v==10?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v>=0&&v<=1?"one":"other"},bo:G3,br:function(v,T){var S=String(v).split("."),N=Number(S[0])==v,P=N&&S[0].slice(-1),J=N&&S[0].slice(-2),se=N&&S[0].slice(-6);return T?"other":P==1&&J!=11&&J!=71&&J!=91?"one":P==2&&J!=12&&J!=72&&J!=92?"two":(P==3||P==4||P==9)&&(J<10||J>19)&&(J<70||J>79)&&(J<90||J>99)?"few":v!=0&&N&&se==0?"many":"other"},brx:q3,bs:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-1),he=N.slice(-2),be=P.slice(-1),qe=P.slice(-2);return T?"other":J&&se==1&&he!=11||be==1&&qe!=11?"one":J&&se>=2&&se<=4&&(he<12||he>14)||be>=2&&be<=4&&(qe<12||qe>14)?"few":"other"},ca:function(v,T){var S=!String(v).split(".")[1];return T?v==1||v==3?"one":v==2?"two":v==4?"few":"other":v==1&&S?"one":"other"},ce:Y3,ceb:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-1),he=P.slice(-1);return T?"other":J&&(N==1||N==2||N==3)||J&&se!=4&&se!=6&&se!=9||!J&&he!=4&&he!=6&&he!=9?"one":"other"},cgg:H3,chr:z3,ckb:W3,cs:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1];return T?"other":v==1&&P?"one":N>=2&&N<=4&&P?"few":P?"other":"many"},cy:function(v,T){return T?v==0||v==7||v==8||v==9?"zero":v==1?"one":v==2?"two":v==3||v==4?"few":v==5||v==6?"many":"other":v==0?"zero":v==1?"one":v==2?"two":v==3?"few":v==6?"many":"other"},da:function(v,T){var S=String(v).split("."),N=S[0],P=Number(S[0])==v;return T||v!=1&&(P||N!=0&&N!=1)?"other":"one"},de:V3,doi:J3,dsb:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-2),he=P.slice(-2);return T?"other":J&&se==1||he==1?"one":J&&se==2||he==2?"two":J&&(se==3||se==4)||he==3||he==4?"few":"other"},dv:X3,dz:K3,ee:Z3,el:Q3,en:function(v,T){var S=String(v).split("."),N=!S[1],P=Number(S[0])==v,J=P&&S[0].slice(-1),se=P&&S[0].slice(-2);return T?J==1&&se!=11?"one":J==2&&se!=12?"two":J==3&&se!=13?"few":"other":v==1&&N?"one":"other"},eo:x3,es:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-6);return T?"other":v==1?"one":N!=0&&J==0&&P?"many":"other"},et:eS,eu:tS,fa:nS,ff:function(v,T){return T?"other":v>=0&&v<2?"one":"other"},fi:iS,fil:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-1),he=P.slice(-1);return T?v==1?"one":"other":J&&(N==1||N==2||N==3)||J&&se!=4&&se!=6&&se!=9||!J&&he!=4&&he!=6&&he!=9?"one":"other"},fo:lS,fr:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-6);return T?v==1?"one":"other":v>=0&&v<2?"one":N!=0&&J==0&&P?"many":"other"},fur:rS,fy:oS,ga:function(v,T){var S=String(v).split("."),N=Number(S[0])==v;return T?v==1?"one":"other":v==1?"one":v==2?"two":N&&v>=3&&v<=6?"few":N&&v>=7&&v<=10?"many":"other"},gd:function(v,T){var S=String(v).split("."),N=Number(S[0])==v;return T?v==1||v==11?"one":v==2||v==12?"two":v==3||v==13?"few":"other":v==1||v==11?"one":v==2||v==12?"two":N&&v>=3&&v<=10||N&&v>=13&&v<=19?"few":"other"},gl:sS,gsw:fS,gu:function(v,T){return T?v==1?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v>=0&&v<=1?"one":"other"},guw:aS,gv:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-1),se=N.slice(-2);return T?"other":P&&J==1?"one":P&&J==2?"two":!P||se!=0&&se!=20&&se!=40&&se!=60&&se!=80?P?"other":"many":"few"},ha:cS,haw:uS,he:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=Number(S[0])==v,se=J&&S[0].slice(-1);return T?"other":v==1&&P?"one":N==2&&P?"two":P&&(v<0||v>10)&&J&&se==0?"many":"other"},hi:function(v,T){return T?v==1?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v>=0&&v<=1?"one":"other"},hnj:_S,hr:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-1),he=N.slice(-2),be=P.slice(-1),qe=P.slice(-2);return T?"other":J&&se==1&&he!=11||be==1&&qe!=11?"one":J&&se>=2&&se<=4&&(he<12||he>14)||be>=2&&be<=4&&(qe<12||qe>14)?"few":"other"},hsb:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-2),he=P.slice(-2);return T?"other":J&&se==1||he==1?"one":J&&se==2||he==2?"two":J&&(se==3||se==4)||he==3||he==4?"few":"other"},hu:function(v,T){return T?v==1||v==5?"one":"other":v==1?"one":"other"},hy:function(v,T){return T?v==1?"one":"other":v>=0&&v<2?"one":"other"},ia:dS,id:mS,ig:pS,ii:hS,io:gS,is:function(v,T){var S=String(v).split("."),N=S[0],P=Number(S[0])==v,J=N.slice(-1),se=N.slice(-2);return T?"other":P&&J==1&&se!=11||!P?"one":"other"},it:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-6);return T?v==11||v==8||v==80||v==800?"many":"other":v==1&&P?"one":N!=0&&J==0&&P?"many":"other"},iu:bS,ja:$S,jbo:yS,jgo:kS,jmc:vS,jv:wS,jw:ES,ka:function(v,T){var S=String(v).split(".")[0],N=S.slice(-2);return T?S==1?"one":S==0||N>=2&&N<=20||N==40||N==60||N==80?"many":"other":v==1?"one":"other"},kab:function(v,T){return T?"other":v>=0&&v<2?"one":"other"},kaj:TS,kcg:SS,kde:CS,kea:IS,kk:function(v,T){var S=String(v).split("."),N=Number(S[0])==v,P=N&&S[0].slice(-1);return T?P==6||P==9||N&&P==0&&v!=0?"many":"other":v==1?"one":"other"},kkj:OS,kl:RS,km:AS,kn:NS,ko:BS,ks:MS,ksb:DS,ksh:function(v,T){return T?"other":v==0?"zero":v==1?"one":"other"},ku:LS,kw:function(v,T){var S=String(v).split("."),N=Number(S[0])==v,P=N&&S[0].slice(-2),J=N&&S[0].slice(-3),se=N&&S[0].slice(-5),he=N&&S[0].slice(-6);return T?N&&v>=1&&v<=4||P>=1&&P<=4||P>=21&&P<=24||P>=41&&P<=44||P>=61&&P<=64||P>=81&&P<=84?"one":v==5||P==5?"many":"other":v==0?"zero":v==1?"one":P==2||P==22||P==42||P==62||P==82||N&&J==0&&(se>=1e3&&se<=2e4||se==4e4||se==6e4||se==8e4)||v!=0&&he==1e5?"two":P==3||P==23||P==43||P==63||P==83?"few":v==1||P!=1&&P!=21&&P!=41&&P!=61&&P!=81?"other":"many"},ky:FS,lag:function(v,T){var S=String(v).split(".")[0];return T?"other":v==0?"zero":S!=0&&S!=1||v==0?"other":"one"},lb:PS,lg:jS,lij:function(v,T){var S=String(v).split("."),N=!S[1],P=Number(S[0])==v;return T?v==11||v==8||P&&v>=80&&v<=89||P&&v>=800&&v<=899?"many":"other":v==1&&N?"one":"other"},lkt:US,ln:GS,lo:function(v,T){return T&&v==1?"one":"other"},lt:function(v,T){var S=String(v).split("."),N=S[1]||"",P=Number(S[0])==v,J=P&&S[0].slice(-1),se=P&&S[0].slice(-2);return T?"other":J==1&&(se<11||se>19)?"one":J>=2&&J<=9&&(se<11||se>19)?"few":N!=0?"many":"other"},lv:function(v,T){var S=String(v).split("."),N=S[1]||"",P=N.length,J=Number(S[0])==v,se=J&&S[0].slice(-1),he=J&&S[0].slice(-2),be=N.slice(-2),qe=N.slice(-1);return T?"other":J&&se==0||he>=11&&he<=19||P==2&&be>=11&&be<=19?"zero":se==1&&he!=11||P==2&&qe==1&&be!=11||P!=2&&qe==1?"one":"other"},mas:qS,mg:YS,mgo:HS,mk:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-1),he=N.slice(-2),be=P.slice(-1),qe=P.slice(-2);return T?se==1&&he!=11?"one":se==2&&he!=12?"two":se!=7&&se!=8||he==17||he==18?"other":"many":J&&se==1&&he!=11||be==1&&qe!=11?"one":"other"},ml:zS,mn:WS,mo:function(v,T){var S=String(v).split("."),N=!S[1],P=Number(S[0])==v&&S[0].slice(-2);return T?v==1?"one":"other":v==1&&N?"one":!N||v==0||P>=2&&P<=19?"few":"other"},mr:function(v,T){return T?v==1?"one":v==2||v==3?"two":v==4?"few":"other":v==1?"one":"other"},ms:function(v,T){return T&&v==1?"one":"other"},mt:function(v,T){var S=String(v).split("."),N=Number(S[0])==v&&S[0].slice(-2);return T?"other":v==1?"one":v==0||N>=2&&N<=10?"few":N>=11&&N<=19?"many":"other"},my:VS,nah:JS,naq:XS,nb:KS,nd:ZS,ne:function(v,T){var S=String(v).split("."),N=Number(S[0])==v;return T?N&&v>=1&&v<=4?"one":"other":v==1?"one":"other"},nl:QS,nn:xS,nnh:e4,no:t4,nqo:n4,nr:i4,nso:l4,ny:r4,nyn:o4,om:s4,or:function(v,T){var S=String(v).split("."),N=Number(S[0])==v;return T?v==1||v==5||N&&v>=7&&v<=9?"one":v==2||v==3?"two":v==4?"few":v==6?"many":"other":v==1?"one":"other"},os:f4,osa:a4,pa:c4,pap:u4,pcm:_4,pl:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-1),se=N.slice(-2);return T?"other":v==1&&P?"one":P&&J>=2&&J<=4&&(se<12||se>14)?"few":P&&N!=1&&(J==0||J==1)||P&&J>=5&&J<=9||P&&se>=12&&se<=14?"many":"other"},prg:function(v,T){var S=String(v).split("."),N=S[1]||"",P=N.length,J=Number(S[0])==v,se=J&&S[0].slice(-1),he=J&&S[0].slice(-2),be=N.slice(-2),qe=N.slice(-1);return T?"other":J&&se==0||he>=11&&he<=19||P==2&&be>=11&&be<=19?"zero":se==1&&he!=11||P==2&&qe==1&&be!=11||P!=2&&qe==1?"one":"other"},ps:d4,pt:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-6);return T?"other":N==0||N==1?"one":N!=0&&J==0&&P?"many":"other"},pt_PT:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-6);return T?"other":v==1&&P?"one":N!=0&&J==0&&P?"many":"other"},rm:m4,ro:function(v,T){var S=String(v).split("."),N=!S[1],P=Number(S[0])==v&&S[0].slice(-2);return T?v==1?"one":"other":v==1&&N?"one":!N||v==0||P>=2&&P<=19?"few":"other"},rof:p4,ru:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-1),se=N.slice(-2);return T?"other":P&&J==1&&se!=11?"one":P&&J>=2&&J<=4&&(se<12||se>14)?"few":P&&J==0||P&&J>=5&&J<=9||P&&se>=11&&se<=14?"many":"other"},rwk:h4,sah:g4,saq:b4,sat:$4,sc:function(v,T){var S=!String(v).split(".")[1];return T?v==11||v==8||v==80||v==800?"many":"other":v==1&&S?"one":"other"},scn:function(v,T){var S=!String(v).split(".")[1];return T?v==11||v==8||v==80||v==800?"many":"other":v==1&&S?"one":"other"},sd:y4,sdh:k4,se:v4,seh:w4,ses:E4,sg:T4,sh:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-1),he=N.slice(-2),be=P.slice(-1),qe=P.slice(-2);return T?"other":J&&se==1&&he!=11||be==1&&qe!=11?"one":J&&se>=2&&se<=4&&(he<12||he>14)||be>=2&&be<=4&&(qe<12||qe>14)?"few":"other"},shi:function(v,T){var S=String(v).split("."),N=Number(S[0])==v;return T?"other":v>=0&&v<=1?"one":N&&v>=2&&v<=10?"few":"other"},si:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"";return T?"other":v==0||v==1||N==0&&P==1?"one":"other"},sk:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1];return T?"other":v==1&&P?"one":N>=2&&N<=4&&P?"few":P?"other":"many"},sl:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=N.slice(-2);return T?"other":P&&J==1?"one":P&&J==2?"two":P&&(J==3||J==4)||!P?"few":"other"},sma:S4,smi:C4,smj:I4,smn:O4,sms:R4,sn:A4,so:N4,sq:function(v,T){var S=String(v).split("."),N=Number(S[0])==v,P=N&&S[0].slice(-1),J=N&&S[0].slice(-2);return T?v==1?"one":P==4&&J!=14?"many":"other":v==1?"one":"other"},sr:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-1),he=N.slice(-2),be=P.slice(-1),qe=P.slice(-2);return T?"other":J&&se==1&&he!=11||be==1&&qe!=11?"one":J&&se>=2&&se<=4&&(he<12||he>14)||be>=2&&be<=4&&(qe<12||qe>14)?"few":"other"},ss:B4,ssy:M4,st:D4,su:L4,sv:function(v,T){var S=String(v).split("."),N=!S[1],P=Number(S[0])==v,J=P&&S[0].slice(-1),se=P&&S[0].slice(-2);return T?J!=1&&J!=2||se==11||se==12?"other":"one":v==1&&N?"one":"other"},sw:F4,syr:P4,ta:j4,te:U4,teo:G4,th:q4,ti:Y4,tig:H4,tk:function(v,T){var S=String(v).split("."),N=Number(S[0])==v&&S[0].slice(-1);return T?N==6||N==9||v==10?"few":"other":v==1?"one":"other"},tl:function(v,T){var S=String(v).split("."),N=S[0],P=S[1]||"",J=!S[1],se=N.slice(-1),he=P.slice(-1);return T?v==1?"one":"other":J&&(N==1||N==2||N==3)||J&&se!=4&&se!=6&&se!=9||!J&&he!=4&&he!=6&&he!=9?"one":"other"},tn:z4,to:W4,tpi:V4,tr:J4,ts:X4,tzm:function(v,T){var S=String(v).split("."),N=Number(S[0])==v;return T?"other":v==0||v==1||N&&v>=11&&v<=99?"one":"other"},ug:K4,uk:function(v,T){var S=String(v).split("."),N=S[0],P=!S[1],J=Number(S[0])==v,se=J&&S[0].slice(-1),he=J&&S[0].slice(-2),be=N.slice(-1),qe=N.slice(-2);return T?se==3&&he!=13?"few":"other":P&&be==1&&qe!=11?"one":P&&be>=2&&be<=4&&(qe<12||qe>14)?"few":P&&be==0||P&&be>=5&&be<=9||P&&qe>=11&&qe<=14?"many":"other"},und:Z4,ur:Q4,uz:x4,ve:eC,vi:function(v,T){return T&&v==1?"one":"other"},vo:tC,vun:nC,wa:iC,wae:lC,wo:rC,xh:oC,xog:sC,yi:fC,yo:aC,yue:cC,zh:uC,zu:_C});function vs(v){if(typeof v!="string"||v.length<2)throw new RangeError("Invalid language tag: ".concat(v));if(v.startsWith("pt-PT"))return"pt-PT";var T=v.match(/.+?(?=[-_])/);return T?T[0]:v}function yo(v){if(typeof v=="function"){var T=vs(v.name);return{isDefault:!1,id:Mt(T),lc:T,locale:v.name,getPlural:v,cardinals:v.cardinals||[],ordinals:v.ordinals||[]}}var S=vs(v),N=Mt(S);return function(P){return P in $o}(N)?{isDefault:!0,id:N,lc:S,locale:v,getCardinal:R2[N],getPlural:$o[N],cardinals:ea[N].cardinal,ordinals:ea[N].ordinal}:null}function dC(v){return Mt(vs(v))in $o}var mC=function(){function v(T,S){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},requireAllArguments:!1,returnType:"string",strict:S&&S.strictNumberSign||!1},S),T==="*"?this.plurals=(P=v.defaultLocale,(J=Object.keys($o).filter(function(se){return se!==P})).unshift(P),J.map(yo)):Array.isArray(T)?this.plurals=T.map(yo).filter(Boolean):T&&(N=yo(T))&&(this.plurals=[N]),this.plurals.length===0){var N=yo(v.defaultLocale);this.plurals=[N]}var P,J}return v.escape=function(T,S){var N=S?/[#{}]/g:/[{}]/g;return String(T).replace(N,"'$&'")},v.supportedLocalesOf=function(T){return(Array.isArray(T)?T:[T]).filter(dC)},v.prototype.resolvedOptions=function(){return W(W({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},v.prototype.compile=function(T){var S,N,P=new Et(this.options),J="return "+P.compile(T,this.plurals[0]),se=[],he=[];try{for(var be=H(Object.entries(P.runtime)),qe=be.next();!qe.done;qe=be.next()){var St=ne(qe.value,2),Ft=St[0],qt=St[1];se.push(Ft),he.push(qt)}}catch(ut){S={error:ut}}finally{try{qe&&!qe.done&&(N=be.return)&&N.call(be)}finally{if(S)throw S.error}}return new(Function.bind.apply(Function,M(M([void 0],ne(se),!1),[J],!1)))().apply(void 0,M([],ne(he),!1))},v.defaultLocale="en",v}();return mC}()},669:(l,s,a)=>{l.exports=a(609)},448:(l,s,a)=>{var f=a(867),c=a(26),u=a(372),d=a(327),b=a(97),k=a(109),y=a(985),E=a(874),C=a(648),I=a(644),A=a(205);l.exports=function(B){return new Promise(function(L,D){var Y,z=B.data,W=B.headers,H=B.responseType;function ne(){B.cancelToken&&B.cancelToken.unsubscribe(Y),B.signal&&B.signal.removeEventListener("abort",Y)}f.isFormData(z)&&f.isStandardBrowserEnv()&&delete W["Content-Type"];var M=new XMLHttpRequest;if(B.auth){var X=B.auth.username||"",te=B.auth.password?unescape(encodeURIComponent(B.auth.password)):"";W.Authorization="Basic "+btoa(X+":"+te)}var F=b(B.baseURL,B.url);function j(){if(M){var Q="getAllResponseHeaders"in M?k(M.getAllResponseHeaders()):null,V={data:H&&H!=="text"&&H!=="json"?M.response:M.responseText,status:M.status,statusText:M.statusText,headers:Q,config:B,request:M};c(function(ie){L(ie),ne()},function(ie){D(ie),ne()},V),M=null}}if(M.open(B.method.toUpperCase(),d(F,B.params,B.paramsSerializer),!0),M.timeout=B.timeout,"onloadend"in M?M.onloadend=j:M.onreadystatechange=function(){M&&M.readyState===4&&(M.status!==0||M.responseURL&&M.responseURL.indexOf("file:")===0)&&setTimeout(j)},M.onabort=function(){M&&(D(new C("Request aborted",C.ECONNABORTED,B,M)),M=null)},M.onerror=function(){D(new C("Network Error",C.ERR_NETWORK,B,M,M)),M=null},M.ontimeout=function(){var Q=B.timeout?"timeout of "+B.timeout+"ms exceeded":"timeout exceeded",V=B.transitional||E;B.timeoutErrorMessage&&(Q=B.timeoutErrorMessage),D(new C(Q,V.clarifyTimeoutError?C.ETIMEDOUT:C.ECONNABORTED,B,M)),M=null},f.isStandardBrowserEnv()){var Z=(B.withCredentials||y(F))&&B.xsrfCookieName?u.read(B.xsrfCookieName):void 0;Z&&(W[B.xsrfHeaderName]=Z)}"setRequestHeader"in M&&f.forEach(W,function(Q,V){z===void 0&&V.toLowerCase()==="content-type"?delete W[V]:M.setRequestHeader(V,Q)}),f.isUndefined(B.withCredentials)||(M.withCredentials=!!B.withCredentials),H&&H!=="json"&&(M.responseType=B.responseType),typeof B.onDownloadProgress=="function"&&M.addEventListener("progress",B.onDownloadProgress),typeof B.onUploadProgress=="function"&&M.upload&&M.upload.addEventListener("progress",B.onUploadProgress),(B.cancelToken||B.signal)&&(Y=function(Q){M&&(D(!Q||Q&&Q.type?new I:Q),M.abort(),M=null)},B.cancelToken&&B.cancelToken.subscribe(Y),B.signal&&(B.signal.aborted?Y():B.signal.addEventListener("abort",Y))),z||(z=null);var x=A(F);x&&["http","https","file"].indexOf(x)===-1?D(new C("Unsupported protocol "+x+":",C.ERR_BAD_REQUEST,B)):M.send(z)})}},609:(l,s,a)=>{var f=a(867),c=a(849),u=a(321),d=a(185),b=function k(y){var E=new u(y),C=c(u.prototype.request,E);return f.extend(C,u.prototype,E),f.extend(C,E),C.create=function(I){return k(d(y,I))},C}(a(546));b.Axios=u,b.CanceledError=a(644),b.CancelToken=a(972),b.isCancel=a(502),b.VERSION=a(288).version,b.toFormData=a(675),b.AxiosError=a(648),b.Cancel=b.CanceledError,b.all=function(k){return Promise.all(k)},b.spread=a(713),b.isAxiosError=a(268),l.exports=b,l.exports.default=b},972:(l,s,a)=>{var f=a(644);function c(u){if(typeof u!="function")throw new TypeError("executor must be a function.");var d;this.promise=new Promise(function(k){d=k});var b=this;this.promise.then(function(k){if(b._listeners){var y,E=b._listeners.length;for(y=0;y<E;y++)b._listeners[y](k);b._listeners=null}}),this.promise.then=function(k){var y,E=new Promise(function(C){b.subscribe(C),y=C}).then(k);return E.cancel=function(){b.unsubscribe(y)},E},u(function(k){b.reason||(b.reason=new f(k),d(b.reason))})}c.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},c.prototype.subscribe=function(u){this.reason?u(this.reason):this._listeners?this._listeners.push(u):this._listeners=[u]},c.prototype.unsubscribe=function(u){if(this._listeners){var d=this._listeners.indexOf(u);d!==-1&&this._listeners.splice(d,1)}},c.source=function(){var u;return{token:new c(function(d){u=d}),cancel:u}},l.exports=c},644:(l,s,a)=>{var f=a(648);function c(u){f.call(this,u??"canceled",f.ERR_CANCELED),this.name="CanceledError"}a(867).inherits(c,f,{__CANCEL__:!0}),l.exports=c},502:l=>{l.exports=function(s){return!(!s||!s.__CANCEL__)}},321:(l,s,a)=>{var f=a(867),c=a(327),u=a(782),d=a(572),b=a(185),k=a(97),y=a(875),E=y.validators;function C(I){this.defaults=I,this.interceptors={request:new u,response:new u}}C.prototype.request=function(I,A){typeof I=="string"?(A=A||{}).url=I:A=I||{},(A=b(this.defaults,A)).method?A.method=A.method.toLowerCase():this.defaults.method?A.method=this.defaults.method.toLowerCase():A.method="get";var B=A.transitional;B!==void 0&&y.assertOptions(B,{silentJSONParsing:E.transitional(E.boolean),forcedJSONParsing:E.transitional(E.boolean),clarifyTimeoutError:E.transitional(E.boolean)},!1);var L=[],D=!0;this.interceptors.request.forEach(function(X){typeof X.runWhen=="function"&&X.runWhen(A)===!1||(D=D&&X.synchronous,L.unshift(X.fulfilled,X.rejected))});var Y,z=[];if(this.interceptors.response.forEach(function(X){z.push(X.fulfilled,X.rejected)}),!D){var W=[d,void 0];for(Array.prototype.unshift.apply(W,L),W=W.concat(z),Y=Promise.resolve(A);W.length;)Y=Y.then(W.shift(),W.shift());return Y}for(var H=A;L.length;){var ne=L.shift(),M=L.shift();try{H=ne(H)}catch(X){M(X);break}}try{Y=d(H)}catch(X){return Promise.reject(X)}for(;z.length;)Y=Y.then(z.shift(),z.shift());return Y},C.prototype.getUri=function(I){I=b(this.defaults,I);var A=k(I.baseURL,I.url);return c(A,I.params,I.paramsSerializer)},f.forEach(["delete","get","head","options"],function(I){C.prototype[I]=function(A,B){return this.request(b(B||{},{method:I,url:A,data:(B||{}).data}))}}),f.forEach(["post","put","patch"],function(I){function A(B){return function(L,D,Y){return this.request(b(Y||{},{method:I,headers:B?{"Content-Type":"multipart/form-data"}:{},url:L,data:D}))}}C.prototype[I]=A(),C.prototype[I+"Form"]=A(!0)}),l.exports=C},648:(l,s,a)=>{var f=a(867);function c(b,k,y,E,C){Error.call(this),this.message=b,this.name="AxiosError",k&&(this.code=k),y&&(this.config=y),E&&(this.request=E),C&&(this.response=C)}f.inherits(c,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var u=c.prototype,d={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(b){d[b]={value:b}}),Object.defineProperties(c,d),Object.defineProperty(u,"isAxiosError",{value:!0}),c.from=function(b,k,y,E,C,I){var A=Object.create(u);return f.toFlatObject(b,A,function(B){return B!==Error.prototype}),c.call(A,b.message,k,y,E,C),A.name=b.name,I&&Object.assign(A,I),A},l.exports=c},782:(l,s,a)=>{var f=a(867);function c(){this.handlers=[]}c.prototype.use=function(u,d,b){return this.handlers.push({fulfilled:u,rejected:d,synchronous:!!b&&b.synchronous,runWhen:b?b.runWhen:null}),this.handlers.length-1},c.prototype.eject=function(u){this.handlers[u]&&(this.handlers[u]=null)},c.prototype.forEach=function(u){f.forEach(this.handlers,function(d){d!==null&&u(d)})},l.exports=c},97:(l,s,a)=>{var f=a(793),c=a(303);l.exports=function(u,d){return u&&!f(d)?c(u,d):d}},572:(l,s,a)=>{var f=a(867),c=a(527),u=a(502),d=a(546),b=a(644);function k(y){if(y.cancelToken&&y.cancelToken.throwIfRequested(),y.signal&&y.signal.aborted)throw new b}l.exports=function(y){return k(y),y.headers=y.headers||{},y.data=c.call(y,y.data,y.headers,y.transformRequest),y.headers=f.merge(y.headers.common||{},y.headers[y.method]||{},y.headers),f.forEach(["delete","get","head","post","put","patch","common"],function(E){delete y.headers[E]}),(y.adapter||d.adapter)(y).then(function(E){return k(y),E.data=c.call(y,E.data,E.headers,y.transformResponse),E},function(E){return u(E)||(k(y),E&&E.response&&(E.response.data=c.call(y,E.response.data,E.response.headers,y.transformResponse))),Promise.reject(E)})}},185:(l,s,a)=>{var f=a(867);l.exports=function(c,u){u=u||{};var d={};function b(A,B){return f.isPlainObject(A)&&f.isPlainObject(B)?f.merge(A,B):f.isPlainObject(B)?f.merge({},B):f.isArray(B)?B.slice():B}function k(A){return f.isUndefined(u[A])?f.isUndefined(c[A])?void 0:b(void 0,c[A]):b(c[A],u[A])}function y(A){if(!f.isUndefined(u[A]))return b(void 0,u[A])}function E(A){return f.isUndefined(u[A])?f.isUndefined(c[A])?void 0:b(void 0,c[A]):b(void 0,u[A])}function C(A){return A in u?b(c[A],u[A]):A in c?b(void 0,c[A]):void 0}var I={url:y,method:y,data:y,baseURL:E,transformRequest:E,transformResponse:E,paramsSerializer:E,timeout:E,timeoutMessage:E,withCredentials:E,adapter:E,responseType:E,xsrfCookieName:E,xsrfHeaderName:E,onUploadProgress:E,onDownloadProgress:E,decompress:E,maxContentLength:E,maxBodyLength:E,beforeRedirect:E,transport:E,httpAgent:E,httpsAgent:E,cancelToken:E,socketPath:E,responseEncoding:E,validateStatus:C};return f.forEach(Object.keys(c).concat(Object.keys(u)),function(A){var B=I[A]||k,L=B(A);f.isUndefined(L)&&B!==C||(d[A]=L)}),d}},26:(l,s,a)=>{var f=a(648);l.exports=function(c,u,d){var b=d.config.validateStatus;d.status&&b&&!b(d.status)?u(new f("Request failed with status code "+d.status,[f.ERR_BAD_REQUEST,f.ERR_BAD_RESPONSE][Math.floor(d.status/100)-4],d.config,d.request,d)):c(d)}},527:(l,s,a)=>{var f=a(867),c=a(546);l.exports=function(u,d,b){var k=this||c;return f.forEach(b,function(y){u=y.call(k,u,d)}),u}},546:(l,s,a)=>{var f=a(867),c=a(16),u=a(648),d=a(874),b=a(675),k={"Content-Type":"application/x-www-form-urlencoded"};function y(I,A){!f.isUndefined(I)&&f.isUndefined(I["Content-Type"])&&(I["Content-Type"]=A)}var E,C={transitional:d,adapter:((typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(E=a(448)),E),transformRequest:[function(I,A){if(c(A,"Accept"),c(A,"Content-Type"),f.isFormData(I)||f.isArrayBuffer(I)||f.isBuffer(I)||f.isStream(I)||f.isFile(I)||f.isBlob(I))return I;if(f.isArrayBufferView(I))return I.buffer;if(f.isURLSearchParams(I))return y(A,"application/x-www-form-urlencoded;charset=utf-8"),I.toString();var B,L=f.isObject(I),D=A&&A["Content-Type"];if((B=f.isFileList(I))||L&&D==="multipart/form-data"){var Y=this.env&&this.env.FormData;return b(B?{"files[]":I}:I,Y&&new Y)}return L||D==="application/json"?(y(A,"application/json"),function(z,W,H){if(f.isString(z))try{return(0,JSON.parse)(z),f.trim(z)}catch(ne){if(ne.name!=="SyntaxError")throw ne}return(0,JSON.stringify)(z)}(I)):I}],transformResponse:[function(I){var A=this.transitional||C.transitional,B=A&&A.silentJSONParsing,L=A&&A.forcedJSONParsing,D=!B&&this.responseType==="json";if(D||L&&f.isString(I)&&I.length)try{return JSON.parse(I)}catch(Y){if(D)throw Y.name==="SyntaxError"?u.from(Y,u.ERR_BAD_RESPONSE,this,null,this.response):Y}return I}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:a(623)},validateStatus:function(I){return I>=200&&I<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};f.forEach(["delete","get","head"],function(I){C.headers[I]={}}),f.forEach(["post","put","patch"],function(I){C.headers[I]=f.merge(k)}),l.exports=C},874:l=>{l.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},288:l=>{l.exports={version:"0.27.2"}},849:l=>{l.exports=function(s,a){return function(){for(var f=new Array(arguments.length),c=0;c<f.length;c++)f[c]=arguments[c];return s.apply(a,f)}}},327:(l,s,a)=>{var f=a(867);function c(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}l.exports=function(u,d,b){if(!d)return u;var k;if(b)k=b(d);else if(f.isURLSearchParams(d))k=d.toString();else{var y=[];f.forEach(d,function(C,I){C!=null&&(f.isArray(C)?I+="[]":C=[C],f.forEach(C,function(A){f.isDate(A)?A=A.toISOString():f.isObject(A)&&(A=JSON.stringify(A)),y.push(c(I)+"="+c(A))}))}),k=y.join("&")}if(k){var E=u.indexOf("#");E!==-1&&(u=u.slice(0,E)),u+=(u.indexOf("?")===-1?"?":"&")+k}return u}},303:l=>{l.exports=function(s,a){return a?s.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):s}},372:(l,s,a)=>{var f=a(867);l.exports=f.isStandardBrowserEnv()?{write:function(c,u,d,b,k,y){var E=[];E.push(c+"="+encodeURIComponent(u)),f.isNumber(d)&&E.push("expires="+new Date(d).toGMTString()),f.isString(b)&&E.push("path="+b),f.isString(k)&&E.push("domain="+k),y===!0&&E.push("secure"),document.cookie=E.join("; ")},read:function(c){var u=document.cookie.match(new RegExp("(^|;\\s*)("+c+")=([^;]*)"));return u?decodeURIComponent(u[3]):null},remove:function(c){this.write(c,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:l=>{l.exports=function(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}},268:(l,s,a)=>{var f=a(867);l.exports=function(c){return f.isObject(c)&&c.isAxiosError===!0}},985:(l,s,a)=>{var f=a(867);l.exports=f.isStandardBrowserEnv()?function(){var c,u=/(msie|trident)/i.test(navigator.userAgent),d=document.createElement("a");function b(k){var y=k;return u&&(d.setAttribute("href",y),y=d.href),d.setAttribute("href",y),{href:d.href,protocol:d.protocol?d.protocol.replace(/:$/,""):"",host:d.host,search:d.search?d.search.replace(/^\?/,""):"",hash:d.hash?d.hash.replace(/^#/,""):"",hostname:d.hostname,port:d.port,pathname:d.pathname.charAt(0)==="/"?d.pathname:"/"+d.pathname}}return c=b(window.location.href),function(k){var y=f.isString(k)?b(k):k;return y.protocol===c.protocol&&y.host===c.host}}():function(){return!0}},16:(l,s,a)=>{var f=a(867);l.exports=function(c,u){f.forEach(c,function(d,b){b!==u&&b.toUpperCase()===u.toUpperCase()&&(c[u]=d,delete c[b])})}},623:l=>{l.exports=null},109:(l,s,a)=>{var f=a(867),c=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];l.exports=function(u){var d,b,k,y={};return u&&f.forEach(u.split(`
`),function(E){if(k=E.indexOf(":"),d=f.trim(E.substr(0,k)).toLowerCase(),b=f.trim(E.substr(k+1)),d){if(y[d]&&c.indexOf(d)>=0)return;y[d]=d==="set-cookie"?(y[d]?y[d]:[]).concat([b]):y[d]?y[d]+", "+b:b}}),y}},205:l=>{l.exports=function(s){var a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return a&&a[1]||""}},713:l=>{l.exports=function(s){return function(a){return s.apply(null,a)}}},675:(l,s,a)=>{var f=a(867);l.exports=function(c,u){u=u||new FormData;var d=[];function b(k){return k===null?"":f.isDate(k)?k.toISOString():f.isArrayBuffer(k)||f.isTypedArray(k)?typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}return function k(y,E){if(f.isPlainObject(y)||f.isArray(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+E);d.push(y),f.forEach(y,function(C,I){if(!f.isUndefined(C)){var A,B=E?E+"."+I:I;if(C&&!E&&typeof C=="object"){if(f.endsWith(I,"{}"))C=JSON.stringify(C);else if(f.endsWith(I,"[]")&&(A=f.toArray(C)))return void A.forEach(function(L){!f.isUndefined(L)&&u.append(B,b(L))})}k(C,B)}}),d.pop()}else u.append(E,b(y))}(c),u}},875:(l,s,a)=>{var f=a(288).version,c=a(648),u={};["object","boolean","number","function","string","symbol"].forEach(function(b,k){u[b]=function(y){return typeof y===b||"a"+(k<1?"n ":" ")+b}});var d={};u.transitional=function(b,k,y){function E(C,I){return"[Axios v"+f+"] Transitional option '"+C+"'"+I+(y?". "+y:"")}return function(C,I,A){if(b===!1)throw new c(E(I," has been removed"+(k?" in "+k:"")),c.ERR_DEPRECATED);return k&&!d[I]&&(d[I]=!0,console.warn(E(I," has been deprecated since v"+k+" and will be removed in the near future"))),!b||b(C,I,A)}},l.exports={assertOptions:function(b,k,y){if(typeof b!="object")throw new c("options must be an object",c.ERR_BAD_OPTION_VALUE);for(var E=Object.keys(b),C=E.length;C-- >0;){var I=E[C],A=k[I];if(A){var B=b[I],L=B===void 0||A(B,I,b);if(L!==!0)throw new c("option "+I+" must be "+L,c.ERR_BAD_OPTION_VALUE)}else if(y!==!0)throw new c("Unknown option "+I,c.ERR_BAD_OPTION)}},validators:u}},867:(l,s,a)=>{var f,c=a(849),u=Object.prototype.toString,d=(f=Object.create(null),function(M){var X=u.call(M);return f[X]||(f[X]=X.slice(8,-1).toLowerCase())});function b(M){return M=M.toLowerCase(),function(X){return d(X)===M}}function k(M){return Array.isArray(M)}function y(M){return M===void 0}var E=b("ArrayBuffer");function C(M){return M!==null&&typeof M=="object"}function I(M){if(d(M)!=="object")return!1;var X=Object.getPrototypeOf(M);return X===null||X===Object.prototype}var A=b("Date"),B=b("File"),L=b("Blob"),D=b("FileList");function Y(M){return u.call(M)==="[object Function]"}var z=b("URLSearchParams");function W(M,X){if(M!=null)if(typeof M!="object"&&(M=[M]),k(M))for(var te=0,F=M.length;te<F;te++)X.call(null,M[te],te,M);else for(var j in M)Object.prototype.hasOwnProperty.call(M,j)&&X.call(null,M[j],j,M)}var H,ne=(H=typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array),function(M){return H&&M instanceof H});l.exports={isArray:k,isArrayBuffer:E,isBuffer:function(M){return M!==null&&!y(M)&&M.constructor!==null&&!y(M.constructor)&&typeof M.constructor.isBuffer=="function"&&M.constructor.isBuffer(M)},isFormData:function(M){var X="[object FormData]";return M&&(typeof FormData=="function"&&M instanceof FormData||u.call(M)===X||Y(M.toString)&&M.toString()===X)},isArrayBufferView:function(M){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(M):M&&M.buffer&&E(M.buffer)},isString:function(M){return typeof M=="string"},isNumber:function(M){return typeof M=="number"},isObject:C,isPlainObject:I,isUndefined:y,isDate:A,isFile:B,isBlob:L,isFunction:Y,isStream:function(M){return C(M)&&Y(M.pipe)},isURLSearchParams:z,isStandardBrowserEnv:function(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"},forEach:W,merge:function M(){var X={};function te(Z,x){I(X[x])&&I(Z)?X[x]=M(X[x],Z):I(Z)?X[x]=M({},Z):k(Z)?X[x]=Z.slice():X[x]=Z}for(var F=0,j=arguments.length;F<j;F++)W(arguments[F],te);return X},extend:function(M,X,te){return W(X,function(F,j){M[j]=te&&typeof F=="function"?c(F,te):F}),M},trim:function(M){return M.trim?M.trim():M.replace(/^\s+|\s+$/g,"")},stripBOM:function(M){return M.charCodeAt(0)===65279&&(M=M.slice(1)),M},inherits:function(M,X,te,F){M.prototype=Object.create(X.prototype,F),M.prototype.constructor=M,te&&Object.assign(M.prototype,te)},toFlatObject:function(M,X,te){var F,j,Z,x={};X=X||{};do{for(j=(F=Object.getOwnPropertyNames(M)).length;j-- >0;)x[Z=F[j]]||(X[Z]=M[Z],x[Z]=!0);M=Object.getPrototypeOf(M)}while(M&&(!te||te(M,X))&&M!==Object.prototype);return X},kindOf:d,kindOfTest:b,endsWith:function(M,X,te){M=String(M),(te===void 0||te>M.length)&&(te=M.length),te-=X.length;var F=M.indexOf(X,te);return F!==-1&&F===te},toArray:function(M){if(!M)return null;var X=M.length;if(y(X))return null;for(var te=new Array(X);X-- >0;)te[X]=M[X];return te},isTypedArray:ne,isFileList:D}},487:l=>{var s={utf8:{stringToBytes:function(a){return s.bin.stringToBytes(unescape(encodeURIComponent(a)))},bytesToString:function(a){return decodeURIComponent(escape(s.bin.bytesToString(a)))}},bin:{stringToBytes:function(a){for(var f=[],c=0;c<a.length;c++)f.push(255&a.charCodeAt(c));return f},bytesToString:function(a){for(var f=[],c=0;c<a.length;c++)f.push(String.fromCharCode(a[c]));return f.join("")}}};l.exports=s},12:l=>{var s,a;s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(f,c){return f<<c|f>>>32-c},rotr:function(f,c){return f<<32-c|f>>>c},endian:function(f){if(f.constructor==Number)return 16711935&a.rotl(f,8)|4278255360&a.rotl(f,24);for(var c=0;c<f.length;c++)f[c]=a.endian(f[c]);return f},randomBytes:function(f){for(var c=[];f>0;f--)c.push(Math.floor(256*Math.random()));return c},bytesToWords:function(f){for(var c=[],u=0,d=0;u<f.length;u++,d+=8)c[d>>>5]|=f[u]<<24-d%32;return c},wordsToBytes:function(f){for(var c=[],u=0;u<32*f.length;u+=8)c.push(f[u>>>5]>>>24-u%32&255);return c},bytesToHex:function(f){for(var c=[],u=0;u<f.length;u++)c.push((f[u]>>>4).toString(16)),c.push((15&f[u]).toString(16));return c.join("")},hexToBytes:function(f){for(var c=[],u=0;u<f.length;u+=2)c.push(parseInt(f.substr(u,2),16));return c},bytesToBase64:function(f){for(var c=[],u=0;u<f.length;u+=3)for(var d=f[u]<<16|f[u+1]<<8|f[u+2],b=0;b<4;b++)8*u+6*b<=8*f.length?c.push(s.charAt(d>>>6*(3-b)&63)):c.push("=");return c.join("")},base64ToBytes:function(f){f=f.replace(/[^A-Z0-9+\/]/gi,"");for(var c=[],u=0,d=0;u<f.length;d=++u%4)d!=0&&c.push((s.indexOf(f.charAt(u-1))&Math.pow(2,-2*d+8)-1)<<2*d|s.indexOf(f.charAt(u))>>>6-2*d);return c}},l.exports=a},738:l=>{function s(a){return!!a.constructor&&typeof a.constructor.isBuffer=="function"&&a.constructor.isBuffer(a)}l.exports=function(a){return a!=null&&(s(a)||function(f){return typeof f.readFloatLE=="function"&&typeof f.slice=="function"&&s(f.slice(0,0))}(a)||!!a._isBuffer)}},568:(l,s,a)=>{var f,c,u,d,b;f=a(12),c=a(487).utf8,u=a(738),d=a(487).bin,(b=function(k,y){k.constructor==String?k=y&&y.encoding==="binary"?d.stringToBytes(k):c.stringToBytes(k):u(k)?k=Array.prototype.slice.call(k,0):Array.isArray(k)||k.constructor===Uint8Array||(k=k.toString());for(var E=f.bytesToWords(k),C=8*k.length,I=1732584193,A=-271733879,B=-1732584194,L=271733878,D=0;D<E.length;D++)E[D]=16711935&(E[D]<<8|E[D]>>>24)|4278255360&(E[D]<<24|E[D]>>>8);E[C>>>5]|=128<<C%32,E[14+(C+64>>>9<<4)]=C;var Y=b._ff,z=b._gg,W=b._hh,H=b._ii;for(D=0;D<E.length;D+=16){var ne=I,M=A,X=B,te=L;I=Y(I,A,B,L,E[D+0],7,-680876936),L=Y(L,I,A,B,E[D+1],12,-389564586),B=Y(B,L,I,A,E[D+2],17,606105819),A=Y(A,B,L,I,E[D+3],22,-1044525330),I=Y(I,A,B,L,E[D+4],7,-176418897),L=Y(L,I,A,B,E[D+5],12,1200080426),B=Y(B,L,I,A,E[D+6],17,-1473231341),A=Y(A,B,L,I,E[D+7],22,-45705983),I=Y(I,A,B,L,E[D+8],7,1770035416),L=Y(L,I,A,B,E[D+9],12,-1958414417),B=Y(B,L,I,A,E[D+10],17,-42063),A=Y(A,B,L,I,E[D+11],22,-1990404162),I=Y(I,A,B,L,E[D+12],7,1804603682),L=Y(L,I,A,B,E[D+13],12,-40341101),B=Y(B,L,I,A,E[D+14],17,-1502002290),I=z(I,A=Y(A,B,L,I,E[D+15],22,1236535329),B,L,E[D+1],5,-165796510),L=z(L,I,A,B,E[D+6],9,-1069501632),B=z(B,L,I,A,E[D+11],14,643717713),A=z(A,B,L,I,E[D+0],20,-373897302),I=z(I,A,B,L,E[D+5],5,-701558691),L=z(L,I,A,B,E[D+10],9,38016083),B=z(B,L,I,A,E[D+15],14,-660478335),A=z(A,B,L,I,E[D+4],20,-405537848),I=z(I,A,B,L,E[D+9],5,568446438),L=z(L,I,A,B,E[D+14],9,-1019803690),B=z(B,L,I,A,E[D+3],14,-187363961),A=z(A,B,L,I,E[D+8],20,1163531501),I=z(I,A,B,L,E[D+13],5,-1444681467),L=z(L,I,A,B,E[D+2],9,-51403784),B=z(B,L,I,A,E[D+7],14,1735328473),I=W(I,A=z(A,B,L,I,E[D+12],20,-1926607734),B,L,E[D+5],4,-378558),L=W(L,I,A,B,E[D+8],11,-2022574463),B=W(B,L,I,A,E[D+11],16,1839030562),A=W(A,B,L,I,E[D+14],23,-35309556),I=W(I,A,B,L,E[D+1],4,-1530992060),L=W(L,I,A,B,E[D+4],11,1272893353),B=W(B,L,I,A,E[D+7],16,-155497632),A=W(A,B,L,I,E[D+10],23,-1094730640),I=W(I,A,B,L,E[D+13],4,681279174),L=W(L,I,A,B,E[D+0],11,-358537222),B=W(B,L,I,A,E[D+3],16,-722521979),A=W(A,B,L,I,E[D+6],23,76029189),I=W(I,A,B,L,E[D+9],4,-640364487),L=W(L,I,A,B,E[D+12],11,-421815835),B=W(B,L,I,A,E[D+15],16,530742520),I=H(I,A=W(A,B,L,I,E[D+2],23,-995338651),B,L,E[D+0],6,-198630844),L=H(L,I,A,B,E[D+7],10,1126891415),B=H(B,L,I,A,E[D+14],15,-1416354905),A=H(A,B,L,I,E[D+5],21,-57434055),I=H(I,A,B,L,E[D+12],6,1700485571),L=H(L,I,A,B,E[D+3],10,-1894986606),B=H(B,L,I,A,E[D+10],15,-1051523),A=H(A,B,L,I,E[D+1],21,-2054922799),I=H(I,A,B,L,E[D+8],6,1873313359),L=H(L,I,A,B,E[D+15],10,-30611744),B=H(B,L,I,A,E[D+6],15,-1560198380),A=H(A,B,L,I,E[D+13],21,1309151649),I=H(I,A,B,L,E[D+4],6,-145523070),L=H(L,I,A,B,E[D+11],10,-1120210379),B=H(B,L,I,A,E[D+2],15,718787259),A=H(A,B,L,I,E[D+9],21,-343485551),I=I+ne>>>0,A=A+M>>>0,B=B+X>>>0,L=L+te>>>0}return f.endian([I,A,B,L])})._ff=function(k,y,E,C,I,A,B){var L=k+(y&E|~y&C)+(I>>>0)+B;return(L<<A|L>>>32-A)+y},b._gg=function(k,y,E,C,I,A,B){var L=k+(y&C|E&~C)+(I>>>0)+B;return(L<<A|L>>>32-A)+y},b._hh=function(k,y,E,C,I,A,B){var L=k+(y^E^C)+(I>>>0)+B;return(L<<A|L>>>32-A)+y},b._ii=function(k,y,E,C,I,A,B){var L=k+(E^(y|~C))+(I>>>0)+B;return(L<<A|L>>>32-A)+y},b._blocksize=16,b._digestsize=16,l.exports=function(k,y){if(k==null)throw new Error("Illegal argument "+k);var E=f.wordsToBytes(b(k,y));return y&&y.asBytes?E:y&&y.asString?d.bytesToString(E):f.bytesToHex(E)}},61:(l,s,a)=>{var f=a(698).default;function c(){l.exports=c=function(){return u},l.exports.__esModule=!0,l.exports.default=l.exports;var u={},d=Object.prototype,b=d.hasOwnProperty,k=Object.defineProperty||function(re,ee,ce){re[ee]=ce.value},y=typeof Symbol=="function"?Symbol:{},E=y.iterator||"@@iterator",C=y.asyncIterator||"@@asyncIterator",I=y.toStringTag||"@@toStringTag";function A(re,ee,ce){return Object.defineProperty(re,ee,{value:ce,enumerable:!0,configurable:!0,writable:!0}),re[ee]}try{A({},"")}catch{A=function(ee,ce,Ee){return ee[ce]=Ee}}function B(re,ee,ce,Ee){var we=ee&&ee.prototype instanceof Y?ee:Y,De=Object.create(we.prototype),ze=new V(Ee||[]);return k(De,"_invoke",{value:j(re,ce,ze)}),De}function L(re,ee,ce){try{return{type:"normal",arg:re.call(ee,ce)}}catch(Ee){return{type:"throw",arg:Ee}}}u.wrap=B;var D={};function Y(){}function z(){}function W(){}var H={};A(H,E,function(){return this});var ne=Object.getPrototypeOf,M=ne&&ne(ne(ie([])));M&&M!==d&&b.call(M,E)&&(H=M);var X=W.prototype=Y.prototype=Object.create(H);function te(re){["next","throw","return"].forEach(function(ee){A(re,ee,function(ce){return this._invoke(ee,ce)})})}function F(re,ee){function ce(we,De,ze,We){var Ve=L(re[we],re,De);if(Ve.type!=="throw"){var Qe=Ve.arg,ve=Qe.value;return ve&&f(ve)=="object"&&b.call(ve,"__await")?ee.resolve(ve.__await).then(function(Te){ce("next",Te,ze,We)},function(Te){ce("throw",Te,ze,We)}):ee.resolve(ve).then(function(Te){Qe.value=Te,ze(Qe)},function(Te){return ce("throw",Te,ze,We)})}We(Ve.arg)}var Ee;k(this,"_invoke",{value:function(we,De){function ze(){return new ee(function(We,Ve){ce(we,De,We,Ve)})}return Ee=Ee?Ee.then(ze,ze):ze()}})}function j(re,ee,ce){var Ee="suspendedStart";return function(we,De){if(Ee==="executing")throw new Error("Generator is already running");if(Ee==="completed"){if(we==="throw")throw De;return{value:void 0,done:!0}}for(ce.method=we,ce.arg=De;;){var ze=ce.delegate;if(ze){var We=Z(ze,ce);if(We){if(We===D)continue;return We}}if(ce.method==="next")ce.sent=ce._sent=ce.arg;else if(ce.method==="throw"){if(Ee==="suspendedStart")throw Ee="completed",ce.arg;ce.dispatchException(ce.arg)}else ce.method==="return"&&ce.abrupt("return",ce.arg);Ee="executing";var Ve=L(re,ee,ce);if(Ve.type==="normal"){if(Ee=ce.done?"completed":"suspendedYield",Ve.arg===D)continue;return{value:Ve.arg,done:ce.done}}Ve.type==="throw"&&(Ee="completed",ce.method="throw",ce.arg=Ve.arg)}}}function Z(re,ee){var ce=re.iterator[ee.method];if(ce===void 0){if(ee.delegate=null,ee.method==="throw"){if(re.iterator.return&&(ee.method="return",ee.arg=void 0,Z(re,ee),ee.method==="throw"))return D;ee.method="throw",ee.arg=new TypeError("The iterator does not provide a 'throw' method")}return D}var Ee=L(ce,re.iterator,ee.arg);if(Ee.type==="throw")return ee.method="throw",ee.arg=Ee.arg,ee.delegate=null,D;var we=Ee.arg;return we?we.done?(ee[re.resultName]=we.value,ee.next=re.nextLoc,ee.method!=="return"&&(ee.method="next",ee.arg=void 0),ee.delegate=null,D):we:(ee.method="throw",ee.arg=new TypeError("iterator result is not an object"),ee.delegate=null,D)}function x(re){var ee={tryLoc:re[0]};1 in re&&(ee.catchLoc=re[1]),2 in re&&(ee.finallyLoc=re[2],ee.afterLoc=re[3]),this.tryEntries.push(ee)}function Q(re){var ee=re.completion||{};ee.type="normal",delete ee.arg,re.completion=ee}function V(re){this.tryEntries=[{tryLoc:"root"}],re.forEach(x,this),this.reset(!0)}function ie(re){if(re){var ee=re[E];if(ee)return ee.call(re);if(typeof re.next=="function")return re;if(!isNaN(re.length)){var ce=-1,Ee=function we(){for(;++ce<re.length;)if(b.call(re,ce))return we.value=re[ce],we.done=!1,we;return we.value=void 0,we.done=!0,we};return Ee.next=Ee}}return{next:_e}}function _e(){return{value:void 0,done:!0}}return z.prototype=W,k(X,"constructor",{value:W,configurable:!0}),k(W,"constructor",{value:z,configurable:!0}),z.displayName=A(W,I,"GeneratorFunction"),u.isGeneratorFunction=function(re){var ee=typeof re=="function"&&re.constructor;return!!ee&&(ee===z||(ee.displayName||ee.name)==="GeneratorFunction")},u.mark=function(re){return Object.setPrototypeOf?Object.setPrototypeOf(re,W):(re.__proto__=W,A(re,I,"GeneratorFunction")),re.prototype=Object.create(X),re},u.awrap=function(re){return{__await:re}},te(F.prototype),A(F.prototype,C,function(){return this}),u.AsyncIterator=F,u.async=function(re,ee,ce,Ee,we){we===void 0&&(we=Promise);var De=new F(B(re,ee,ce,Ee),we);return u.isGeneratorFunction(ee)?De:De.next().then(function(ze){return ze.done?ze.value:De.next()})},te(X),A(X,I,"Generator"),A(X,E,function(){return this}),A(X,"toString",function(){return"[object Generator]"}),u.keys=function(re){var ee=Object(re),ce=[];for(var Ee in ee)ce.push(Ee);return ce.reverse(),function we(){for(;ce.length;){var De=ce.pop();if(De in ee)return we.value=De,we.done=!1,we}return we.done=!0,we}},u.values=ie,V.prototype={constructor:V,reset:function(re){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Q),!re)for(var ee in this)ee.charAt(0)==="t"&&b.call(this,ee)&&!isNaN(+ee.slice(1))&&(this[ee]=void 0)},stop:function(){this.done=!0;var re=this.tryEntries[0].completion;if(re.type==="throw")throw re.arg;return this.rval},dispatchException:function(re){if(this.done)throw re;var ee=this;function ce(Ve,Qe){return De.type="throw",De.arg=re,ee.next=Ve,Qe&&(ee.method="next",ee.arg=void 0),!!Qe}for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var we=this.tryEntries[Ee],De=we.completion;if(we.tryLoc==="root")return ce("end");if(we.tryLoc<=this.prev){var ze=b.call(we,"catchLoc"),We=b.call(we,"finallyLoc");if(ze&&We){if(this.prev<we.catchLoc)return ce(we.catchLoc,!0);if(this.prev<we.finallyLoc)return ce(we.finallyLoc)}else if(ze){if(this.prev<we.catchLoc)return ce(we.catchLoc,!0)}else{if(!We)throw new Error("try statement without catch or finally");if(this.prev<we.finallyLoc)return ce(we.finallyLoc)}}}},abrupt:function(re,ee){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var Ee=this.tryEntries[ce];if(Ee.tryLoc<=this.prev&&b.call(Ee,"finallyLoc")&&this.prev<Ee.finallyLoc){var we=Ee;break}}we&&(re==="break"||re==="continue")&&we.tryLoc<=ee&&ee<=we.finallyLoc&&(we=null);var De=we?we.completion:{};return De.type=re,De.arg=ee,we?(this.method="next",this.next=we.finallyLoc,D):this.complete(De)},complete:function(re,ee){if(re.type==="throw")throw re.arg;return re.type==="break"||re.type==="continue"?this.next=re.arg:re.type==="return"?(this.rval=this.arg=re.arg,this.method="return",this.next="end"):re.type==="normal"&&ee&&(this.next=ee),D},finish:function(re){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ce=this.tryEntries[ee];if(ce.finallyLoc===re)return this.complete(ce.completion,ce.afterLoc),Q(ce),D}},catch:function(re){for(var ee=this.tryEntries.length-1;ee>=0;--ee){var ce=this.tryEntries[ee];if(ce.tryLoc===re){var Ee=ce.completion;if(Ee.type==="throw"){var we=Ee.arg;Q(ce)}return we}}throw new Error("illegal catch attempt")},delegateYield:function(re,ee,ce){return this.delegate={iterator:ie(re),resultName:ee,nextLoc:ce},this.method==="next"&&(this.arg=void 0),D}},u}l.exports=c,l.exports.__esModule=!0,l.exports.default=l.exports},698:l=>{function s(a){return l.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},l.exports.__esModule=!0,l.exports.default=l.exports,s(a)}l.exports=s,l.exports.__esModule=!0,l.exports.default=l.exports},687:(l,s,a)=>{var f=a(61)();l.exports=f;try{regeneratorRuntime=f}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=f:Function("r","regeneratorRuntime = r")(f)}}},t={};function i(l){var s=t[l];if(s!==void 0)return s.exports;var a=t[l]={exports:{}};return n[l].call(a.exports,a,a.exports,i),a.exports}i.n=l=>{var s=l&&l.__esModule?()=>l.default:()=>l;return i.d(s,{a:s}),s},i.d=(l,s)=>{for(var a in s)i.o(s,a)&&!i.o(l,a)&&Object.defineProperty(l,a,{enumerable:!0,get:s[a]})},i.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),i.o=(l,s)=>Object.prototype.hasOwnProperty.call(l,s),i.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var o={};return(()=>{function l(pe,$e){($e==null||$e>pe.length)&&($e=pe.length);for(var Ae=0,de=new Array($e);Ae<$e;Ae++)de[Ae]=pe[Ae];return de}function s(pe,$e){if(pe){if(typeof pe=="string")return l(pe,$e);var Ae=Object.prototype.toString.call(pe).slice(8,-1);return Ae==="Object"&&pe.constructor&&(Ae=pe.constructor.name),Ae==="Map"||Ae==="Set"?Array.from(pe):Ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ae)?l(pe,$e):void 0}}function a(pe){return function($e){if(Array.isArray($e))return l($e)}(pe)||function($e){if(typeof Symbol<"u"&&$e[Symbol.iterator]!=null||$e["@@iterator"]!=null)return Array.from($e)}(pe)||s(pe)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function f(pe,$e,Ae){return $e in pe?Object.defineProperty(pe,$e,{value:Ae,enumerable:!0,configurable:!0,writable:!0}):pe[$e]=Ae,pe}function c(pe,$e,Ae,de,Ge,Oe,dt){try{var Ie=pe[Oe](dt),at=Ie.value}catch(Ze){return void Ae(Ze)}Ie.done?$e(at):Promise.resolve(at).then(de,Ge)}function u(pe){return function(){var $e=this,Ae=arguments;return new Promise(function(de,Ge){var Oe=pe.apply($e,Ae);function dt(at){c(Oe,de,Ge,dt,Ie,"next",at)}function Ie(at){c(Oe,de,Ge,dt,Ie,"throw",at)}dt(void 0)})}}function d(pe,$e){if(!(pe instanceof $e))throw new TypeError("Cannot call a class as a function")}function b(pe,$e){for(var Ae=0;Ae<$e.length;Ae++){var de=$e[Ae];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(pe,de.key,de)}}function k(pe,$e,Ae){return $e&&b(pe.prototype,$e),Ae&&b(pe,Ae),Object.defineProperty(pe,"prototype",{writable:!1}),pe}i.r(o),i.d(o,{FETCHING_LOCALES:()=>ee,FETCHING_TRANSLATIONS:()=>V,LOCALES_FETCHED:()=>ce,LOCALES_FETCH_FAILED:()=>Ee,LOCALE_CHANGED:()=>re,MessageFormatRenderer:()=>Ke,PseudoTranslationPolicy:()=>$t,SourceErrorPolicy:()=>Ue,SourceStringPolicy:()=>_t,TRANSLATIONS_FETCHED:()=>ie,TRANSLATIONS_FETCH_FAILED:()=>_e,ThrowErrorPolicy:()=>ke,createNativeInstance:()=>Lt,escape:()=>j,explodePlurals:()=>Be,generateHashedKey:()=>F,generateKey:()=>te,implodePlurals:()=>et,isPluralized:()=>xe,isString:()=>Z,normalizeLocale:()=>x,offEvent:()=>ze,onEvent:()=>De,sendEvent:()=>We,sleep:()=>Q,t:()=>Ct,tx:()=>Rt});var y=i(687),E=i.n(y),C=i(669),I=i.n(C);function A(pe,$e){var Ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(pe);$e&&(de=de.filter(function(Ge){return Object.getOwnPropertyDescriptor(pe,Ge).enumerable})),Ae.push.apply(Ae,de)}return Ae}function B(pe){for(var $e=1;$e<arguments.length;$e++){var Ae=arguments[$e]!=null?arguments[$e]:{};$e%2?A(Object(Ae),!0).forEach(function(de){f(pe,de,Ae[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(Ae)):A(Object(Ae)).forEach(function(de){Object.defineProperty(pe,de,Object.getOwnPropertyDescriptor(Ae,de))})}return pe}var L=function(){function pe(){d(this,pe),this.translationsByLocale={}}return k(pe,[{key:"update",value:function($e,Ae){var de=this.translationsByLocale[$e]||{};this.translationsByLocale[$e]=B(B({},de),Ae)}},{key:"getTranslations",value:function($e){return this.translationsByLocale[$e]||{}}},{key:"hasTranslations",value:function($e){return!!this.translationsByLocale[$e]}},{key:"isStale",value:function($e){return!this.hasTranslations($e)}},{key:"get",value:function($e,Ae){return this.getTranslations(Ae)[$e]||""}}]),pe}(),D=function(){function pe(){d(this,pe)}return k(pe,[{key:"handle",value:function($e,Ae,de,Ge){return Ae}}]),pe}(),Y=function(){function pe(){d(this,pe)}return k(pe,[{key:"handle",value:function($e,Ae){return $e}}]),pe}(),z=i(160),W=i.n(z),H={},ne=function(){function pe(){d(this,pe)}return k(pe,[{key:"render",value:function($e,Ae,de){var Ge=(Ae||"").split("_")[0];if(!H[Ge])try{H[Ge]=new(W())(Ge)}catch{H[Ge]=new(W())}return H[Ge].compile($e)(de)}}]),pe}(),M=i(568),X=i.n(M);function te(pe){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $e._key?$e._key:$e._context?"".concat(pe,"::").concat($e._context):"".concat(pe)}function F(pe){var $e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if($e._key)return $e._key;var Ae="";return $e._context&&(Ae=(Ae=$e._context).replace(/,/g,":")),X()("5:".concat(pe,":").concat(Ae))}function j(pe){return pe.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function Z(pe){return Object.prototype.toString.call(pe)==="[object String]"}function x(pe){var $e=pe.split("-");return $e.length===1?pe:[$e[0],$e[1].toUpperCase()].join("_")}function Q(pe){return new Promise(function($e){setTimeout(function(){$e()},pe)})}var V="FETCHING_TRANSLATIONS",ie="TRANSLATIONS_FETCHED",_e="TRANSLATIONS_FETCH_FAILED",re="LOCALE_CHANGED",ee="FETCHING_LOCALES",ce="LOCALES_FETCHED",Ee="LOCALES_FETCH_FAILED",we={};function De(pe,$e){we[pe]=we[pe]||[],we[pe].push($e)}function ze(pe,$e){var Ae=we[pe]||[],de=Ae.indexOf($e);de!==-1&&Ae.splice(de,1)}function We(pe,$e,Ae){(we[pe]||[]).forEach(function(de){de($e,Ae)})}function Ve(pe,$e){return function(Ae){if(Array.isArray(Ae))return Ae}(pe)||function(Ae,de){var Ge=Ae==null?null:typeof Symbol<"u"&&Ae[Symbol.iterator]||Ae["@@iterator"];if(Ge!=null){var Oe,dt,Ie=[],at=!0,Ze=!1;try{for(Ge=Ge.call(Ae);!(at=(Oe=Ge.next()).done)&&(Ie.push(Oe.value),!de||Ie.length!==de);at=!0);}catch(Me){Ze=!0,dt=Me}finally{try{at||Ge.return==null||Ge.return()}finally{if(Ze)throw dt}}return Ie}}(pe,$e)||s(pe,$e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qe(pe,$e){var Ae=typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(!Ae){if(Array.isArray(pe)||(Ae=function(at,Ze){if(at){if(typeof at=="string")return ve(at,Ze);var Me=Object.prototype.toString.call(at).slice(8,-1);return Me==="Object"&&at.constructor&&(Me=at.constructor.name),Me==="Map"||Me==="Set"?Array.from(at):Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me)?ve(at,Ze):void 0}}(pe))||$e&&pe&&typeof pe.length=="number"){Ae&&(pe=Ae);var de=0,Ge=function(){};return{s:Ge,n:function(){return de>=pe.length?{done:!0}:{done:!1,value:pe[de++]}},e:function(at){throw at},f:Ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe,dt=!0,Ie=!1;return{s:function(){Ae=Ae.call(pe)},n:function(){var at=Ae.next();return dt=at.done,at},e:function(at){Ie=!0,Oe=at},f:function(){try{dt||Ae.return==null||Ae.return()}finally{if(Ie)throw Oe}}}}function ve(pe,$e){($e==null||$e>pe.length)&&($e=pe.length);for(var Ae=0,de=new Array($e);Ae<$e;Ae++)de[Ae]=pe[Ae];return de}var Te=["zero","one","two","few","many","other"];function Ce(pe){var $e=pe.indexOf("{");if($e===-1)return[null,null];var Ae=pe.substring(0,$e).trim();if(Ae[0]==="="){if(Ae=Ae.substring(1),Number.isNaN(parseInt(Ae,10))||parseInt(Ae,10)!==parseFloat(Ae))return[null,null];if(Ae=parseInt(Ae,10),(Ae=Te[Ae])===void 0)return[null,null]}else if(Te.indexOf(Ae)===-1)return[null,null];return[Ae,pe.substring($e)]}function it(pe){for(var $e=0,Ae=!1,de=0;de<pe.length;){var Ge=pe[de];if(Ge==="'"){var Oe=pe[de+1];Oe==="'"?de+=1:Ae?Ae=!1:Oe!=="{"&&Oe!=="}"||(Ae=!0)}else if(Ge==="{")Ae||($e+=1);else if(Ge==="}"&&(Ae||($e-=1),$e===0))return[pe.substring(1,de),pe.substring(de+1).trim()];de+=1}return[null,null]}function Be(pe){var $e=[null,{other:pe}],Ae=function(rt){if(!(rt.length>1&&rt[0]==="{"&&rt[rt.length-1]==="}"))return[null,null];var Bt=rt.indexOf(",");if(Bt===-1)return[null,null];var Ot=rt.indexOf(",",Bt+1);if(Ot===-1)return[null,null];var Pe=rt.substring(1,Bt).trim(),Je=rt.substring(Bt+1,Ot).trim();return/^[\w_]+$/.test(Pe)&&Je==="plural"?[Pe,rt.substring(Ot+1,rt.length-1).trim()]:[null,null]}(pe),de=Ve(Ae,2),Ge=de[0],Oe=de[1];if(Ge==null)return $e;var dt,Ie,at={},Ze=Ve(Ce(Oe),2);if(dt=Ze[0],Oe=Ze[1],dt==null)return $e;var Me=Ve(it(Oe.trim()),2);if(Ie=Me[0],Oe=Me[1],Ie==null)return $e;for(at[dt]=Ie;Oe.trim();){var je=Ve(Ce(Oe.trim()),2);if(dt=je[0],Oe=je[1],dt==null)return $e;var ot=Ve(it(Oe.trim()),2);if(Ie=ot[0],Oe=ot[1],Ie==null)return $e;at[dt]=Ie}return(Object.keys(at).length!==1||"other"in at)&&"one"in at&&"other"in at?[Ge,at]:$e}function et(pe){var $e,Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"???",de=["{".concat(Ae,", plural,")],Ge=Qe(Te);try{for(Ge.s();!($e=Ge.n()).done;){var Oe=$e.value;if(Oe in pe){var dt=pe[Oe];de.push(" ".concat(Oe," {").concat(dt,"}"))}}}catch(Ie){Ge.e(Ie)}finally{Ge.f()}return de.push("}"),de.join("")}function xe(pe){var $e=Be(pe)[1];return Object.keys($e).length>1}function At(pe,$e){var Ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(pe);$e&&(de=de.filter(function(Ge){return Object.getOwnPropertyDescriptor(pe,Ge).enumerable})),Ae.push.apply(Ae,de)}return Ae}function wt(pe){for(var $e=1;$e<arguments.length;$e++){var Ae=arguments[$e]!=null?arguments[$e]:{};$e%2?At(Object(Ae),!0).forEach(function(de){f(pe,de,Ae[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(Ae)):At(Object(Ae)).forEach(function(de){Object.defineProperty(pe,de,Object.getOwnPropertyDescriptor(Ae,de))})}return pe}var st=function(){function pe(){d(this,pe),this.cdsHost="https://cds.svc.transifex.net",this.token="",this.secret="",this.filterTags="",this.fetchTimeout=0,this.fetchInterval=250,this.cache=new L,this.missingPolicy=new Y,this.errorPolicy=new D,this.stringRenderer=new ne,this.currentLocale="",this.locales=[],this.languages=[],this.childInstances=[]}var $e,Ae,de,Ge,Oe,dt,Ie,at;return k(pe,[{key:"init",value:function(Ze){var Me=this;["cdsHost","token","secret","cache","filterTags","fetchTimeout","fetchInterval","missingPolicy","errorPolicy","stringRenderer","currentLocale"].forEach(function(je){Ze[je]!==void 0&&(Me[je]=Ze[je])}),this.fetchedTags={}}},{key:"translate",value:function(Ze,Me){return this.translateLocale(this.currentLocale,Ze,Me)}},{key:"translateLocale",value:function(Ze,Me,je){try{var ot=this.cache.get(te(Me,je),Ze);if(ot||(ot=this.cache.get(F(Me,je),Ze)),ot&&ot.startsWith("{???")&&xe(Me)){var rt=Me.substring(1,Me.indexOf(",")).trim();ot="{".concat(rt).concat(ot.substring(4))}var Bt=!1;if(ot||(Bt=!0,ot=Me),je&&je._escapeVars){var Ot={};Object.keys(je).forEach(function(Pe){var Je=je[Pe];Ot[Pe]=Z(Je)?j(Je):Je}),ot=this.stringRenderer.render(ot,Ze,Ot)}else ot=this.stringRenderer.render(ot,Ze,je);return Bt&&Ze&&(ot=this.missingPolicy.handle(ot,Ze)),Z(ot)||(ot="".concat(ot)),ot}catch(Pe){return this.errorPolicy.handle(Pe,"".concat(Me),Ze,je)}}},{key:"fetchTranslations",value:(at=u(E().mark(function Ze(Me){var je,ot,rt,Bt,Ot,Pe,Je,ft,Se,ct=this,tn=arguments;return E().wrap(function(Mt){for(;;)switch(Mt.prev=Mt.next){case 0:if(je=tn.length>1&&tn[1]!==void 0?tn[1]:{},ot=je.filterTags||this.filterTags,je.refresh||this.cache.isStale(Me)||!(!ot&&this.cache.hasTranslations(Me)||ot&&(this.fetchedTags[Me]||[]).indexOf(ot)!==-1)){Mt.next=4;break}return Mt.abrupt("return");case 4:ot&&(Me in this.fetchedTags||(this.fetchedTags[Me]=[]),this.fetchedTags[Me].indexOf(ot)===-1&&this.fetchedTags[Me].push(ot)),rt=function(Qt){return We(_e,{localeCode:Me,filterTags:ot},ct),Qt},Mt.prev=6,We(V,{localeCode:Me,filterTags:ot},this),Ot=202,Pe=Date.now();case 10:if(Ot!==202){Mt.next=24;break}return Je="".concat(this.cdsHost,"/content/").concat(Me),ot&&(Je="".concat(Je,"?filter[tags]=").concat(ot)),Mt.next=15,I().get(Je,{headers:{Authorization:"Bearer ".concat(this.token),"Accept-version":"v2","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.3.0")}});case 15:if(Bt=Mt.sent,Ot=Bt.status,!(this.fetchTimeout>0&&Date.now()-Pe>=this.fetchTimeout)){Mt.next=19;break}throw rt(new Error("Fetch translations timeout"));case 19:if(!(Ot===202&&this.fetchInterval>0)){Mt.next=22;break}return Mt.next=22,Q(this.fetchInterval);case 22:Mt.next=10;break;case 24:if(!(ft=Bt.data)||!ft.data){Mt.next=32;break}Se={},Object.keys(ft.data).forEach(function(Qt){ft.data[Qt].string&&(Se[Qt]=ft.data[Qt].string)}),this.cache.update(Me,Se),We(ie,{localeCode:Me,filterTags:ot},this),Mt.next=33;break;case 32:throw rt(new Error("Could not fetch translations"));case 33:Mt.next=38;break;case 35:throw Mt.prev=35,Mt.t0=Mt.catch(6),rt(Mt.t0);case 38:case"end":return Mt.stop()}},Ze,this,[[6,35]])})),function(Ze){return at.apply(this,arguments)})},{key:"invalidateCDS",value:(Ie=u(E().mark(function Ze(){var Me,je,ot,rt=arguments;return E().wrap(function(Bt){for(;;)switch(Bt.prev=Bt.next){case 0:if(Me=rt.length>0&&rt[0]!==void 0?rt[0]:{},this.token){Bt.next=3;break}throw new Error("token is not defined");case 3:if(this.secret){Bt.next=5;break}throw new Error("secret is not defined");case 5:return je=Me.purge?"purge":"invalidate",Bt.next=8,I().post("".concat(this.cdsHost,"/").concat(je),{},{headers:{Authorization:"Bearer ".concat(this.token,":").concat(this.secret),"Accept-version":"v2","Content-Type":"application/json;charset=utf-8","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.3.0")}});case 8:return ot=Bt.sent,Bt.abrupt("return",ot.data);case 10:case"end":return Bt.stop()}},Ze,this)})),function(){return Ie.apply(this,arguments)})},{key:"pushSource",value:(dt=u(E().mark(function Ze(Me){var je,ot,rt,Bt,Ot,Pe,Je,ft=arguments;return E().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(je=ft.length>1&&ft[1]!==void 0?ft[1]:{},this.token){Se.next=3;break}throw new Error("token is not defined");case 3:if(this.secret){Se.next=5;break}throw new Error("secret is not defined");case 5:return ot={Authorization:"Bearer ".concat(this.token,":").concat(this.secret),"Accept-version":"v2","Content-Type":"application/json;charset=utf-8","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.3.0")},Se.next=8,I().post("".concat(this.cdsHost,"/content"),{data:Me,meta:{purge:!!je.purge,override_tags:!!je.overrideTags}},{headers:ot});case 8:if(rt=Se.sent,Bt="".concat(this.cdsHost).concat(rt.data.data.links.job),!je.noWait){Se.next=12;break}return Se.abrupt("return",{jobUrl:Bt});case 12:Ot={status:""};case 13:return Se.next=15,Q(1500);case 15:return Se.next=17,I().get(Bt,{headers:ot});case 17:Pe=Se.sent,Je=Pe.data.data,Ot=wt(wt({},Je.details||{}),{},{errors:Je.errors||[],status:Je.status});case 20:if(Ot.status==="pending"||Ot.status==="processing"){Se.next=13;break}case 21:return Se.abrupt("return",wt({jobUrl:Bt},Ot));case 22:case"end":return Se.stop()}},Ze,this)})),function(Ze){return dt.apply(this,arguments)})},{key:"getLocales",value:(Oe=u(E().mark(function Ze(){var Me,je,ot,rt,Bt,Ot=this,Pe=arguments;return E().wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:if((Pe.length>0&&Pe[0]!==void 0?Pe[0]:{}).refresh||!(this.locales.length>0)){Je.next=4;break}return Je.abrupt("return",a(this.locales));case 4:if(this.token){Je.next=6;break}return Je.abrupt("return",[]);case 6:Me=function(ft){return We(Ee,null,Ot),ft},Je.prev=7,We(ee,null,this),ot=202,rt=Date.now();case 11:if(ot!==202){Je.next=23;break}return Je.next=14,I().get("".concat(this.cdsHost,"/languages"),{headers:{Authorization:"Bearer ".concat(this.token),"Accept-version":"v2","X-NATIVE-SDK":"txjs/".concat("browser","/").concat("4.3.0")}});case 14:if(je=Je.sent,ot=je.status,!(this.fetchTimeout>0&&Date.now()-rt>=this.fetchTimeout)){Je.next=18;break}throw Me(new Error("Get locales timeout"));case 18:if(!(ot===202&&this.fetchInterval>0)){Je.next=21;break}return Je.next=21,Q(this.fetchInterval);case 21:Je.next=11;break;case 23:if(!(Bt=je.data)||!Bt.data){Je.next=30;break}this.languages=Bt.data,this.locales=this.languages.map(function(ft){return ft.code}),We(ce,null,this),Je.next=31;break;case 30:throw Me(new Error("Could not fetch languages"));case 31:Je.next=36;break;case 33:throw Je.prev=33,Je.t0=Je.catch(7),Me(Je.t0);case 36:return Je.abrupt("return",a(this.locales));case 37:case"end":return Je.stop()}},Ze,this,[[7,33]])})),function(){return Oe.apply(this,arguments)})},{key:"getCurrentLocale",value:function(){return this.currentLocale}},{key:"isCurrent",value:function(Ze){return Ze===this.currentLocale}},{key:"setCurrentLocale",value:(Ge=u(E().mark(function Ze(Me){return E().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(!this.isCurrent(Me)){je.next=4;break}return je.next=3,this._syncInstances(this.childInstances);case 3:return je.abrupt("return");case 4:if(Me){je.next=10;break}return this.currentLocale="",je.next=8,this._syncInstances(this.childInstances);case 8:return We(re,this.currentLocale,this),je.abrupt("return");case 10:return je.next=12,this.fetchTranslations(Me);case 12:return this.currentLocale=Me,je.next=15,this._syncInstances(this.childInstances);case 15:We(re,Me,this);case 16:case"end":return je.stop()}},Ze,this)})),function(Ze){return Ge.apply(this,arguments)})},{key:"getLanguages",value:(de=u(E().mark(function Ze(){var Me,je=arguments;return E().wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:return Me=je.length>0&&je[0]!==void 0?je[0]:{},ot.next=3,this.getLocales(Me);case 3:return ot.abrupt("return",a(this.languages));case 4:case"end":return ot.stop()}},Ze,this)})),function(){return de.apply(this,arguments)})},{key:"controllerOf",value:(Ae=u(E().mark(function Ze(Me){return E().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:if(Me!==this){je.next=2;break}throw new Error("Cannot add self as instance");case 2:if(Me.childInstances.indexOf(this)===-1){je.next=4;break}throw new Error("Cycle reference error, instance is controller of this");case 4:return this.childInstances.push(Me),je.next=7,this._syncInstances([Me]);case 7:return je.abrupt("return",Me);case 8:case"end":return je.stop()}},Ze,this)})),function(Ze){return Ae.apply(this,arguments)})},{key:"_syncInstances",value:($e=u(E().mark(function Ze(Me){var je,ot;return E().wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(!(je=this.getCurrentLocale())){rt.next=15;break}ot=0;case 3:if(!(ot<Me.length)){rt.next=15;break}if(Me[ot].getCurrentLocale()===je){rt.next=12;break}return rt.prev=5,rt.next=8,Me[ot].fetchTranslations(je);case 8:rt.next=12;break;case 10:rt.prev=10,rt.t0=rt.catch(5);case 12:ot++,rt.next=3;break;case 15:Me.forEach(function(Bt){Bt.getCurrentLocale()!==je&&(Bt.currentLocale=je,We(re,je,Bt))});case 16:case"end":return rt.stop()}},Ze,this,[[5,10]])})),function(Ze){return $e.apply(this,arguments)})}]),pe}(),Ut={a:"ȧ",A:"Ȧ",b:"ƀ",B:"Ɓ",c:"ƈ",C:"Ƈ",d:"ḓ",D:"Ḓ",e:"ḗ",E:"Ḗ",f:"ƒ",F:"Ƒ",g:"ɠ",G:"Ɠ",h:"ħ",H:"Ħ",i:"ī",I:"Ī",j:"ĵ",J:"Ĵ",k:"ķ",K:"Ķ",l:"ŀ",L:"Ŀ",m:"ḿ",M:"Ḿ",n:"ƞ",N:"Ƞ",o:"ǿ",O:"Ǿ",p:"ƥ",P:"Ƥ",q:"ɋ",Q:"Ɋ",r:"ř",R:"Ř",s:"ş",S:"Ş",t:"ŧ",T:"Ŧ",v:"ṽ",V:"Ṽ",u:"ŭ",U:"Ŭ",w:"ẇ",W:"Ẇ",x:"ẋ",X:"Ẋ",y:"ẏ",Y:"Ẏ",z:"ẑ",Z:"Ẑ"},$t=function(){function pe(){d(this,pe)}return k(pe,[{key:"handle",value:function($e,Ae){return $e.split(/__txnative__/).map(function(de){for(var Ge="",Oe=0;Oe<de.length;Oe+=1){var dt=de.charAt(Oe);if(Ut[dt]){var Ie=dt.toLowerCase();Ge+=Ie==="a"||Ie==="e"||Ie==="o"||Ie==="u"?Ut[dt]+Ut[dt]:Ut[dt]}else Ge+=dt}return Ge}).join("__txnative__")}}]),pe}(),_t=Y,Ue=D,ke=function(){function pe(){d(this,pe)}return k(pe,[{key:"handle",value:function($e,Ae,de,Ge){throw $e||new Error('Error translating "'.concat(Ae,'"'))}}]),pe}(),Ke=ne,Lt=function(pe){var $e=new st;return $e.t=$e.translate.bind($e),pe&&$e.init(pe),$e},Rt=new st,Ct=Rt.translate.bind(Rt)})(),o})())})(uy);var O=uy.exports;const gr=[];function lo(r,e=oe){let n;const t=new Set;function i(s){if(mt(r,s)&&(r=s,n)){const a=!gr.length;for(const f of t)f[1](),gr.push(f,r);if(a){for(let f=0;f<gr.length;f+=2)gr[f][0](gr[f+1]);gr.length=0}}}function o(s){i(s(r))}function l(s,a=oe){const f=[s,a];return t.add(f),t.size===1&&(n=e(i)||oe),s(r),()=>{t.delete(f),t.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:l}}/*! gettext.js - Guillaume Potier - MIT Licensed */var MC=function(r){r=r||{},this&&(this.__version="2.0.0");var e={domain:"messages",locale:(typeof document<"u"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(y){return{nplurals:2,plural:y!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},n={isObject:function(y){var E=typeof y;return E==="function"||E==="object"&&!!y},isArray:function(y){return toString.call(y)==="[object Array]"}},t={},i=r.locale||e.locale,o=r.domain||e.domain,l={},s={},a=r.ctxt_delimiter||e.ctxt_delimiter;r.messages&&(l[o]={},l[o][i]=r.messages),r.plural_forms&&(s[i]=r.plural_forms);var f=function(y){var E=arguments;return y.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(C,I){return E[I]}).replace(/%% /g,"%")},c=function(y){if(y.indexOf(a)!==-1){var E=y.split(a);return E[1]}return y},u=function(y){for(var E=[y],C=y.lastIndexOf("-");C>0;)y=y.slice(0,C),E.push(y),C=y.lastIndexOf("-");return E},d=function(y){y=y.replace("_","-");var E=y.search(/[.@]/);return E!=-1&&(y=y.slice(0,E)),y},b=function(y){var E=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!E.test(y))throw new Error(f('The plural form "%1" is not valid',y));return new Function("n","var plural, nplurals; "+y+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},k=function(y,E,C){if(!C.plural_form)return f.apply(this,[c(y[0])].concat(Array.prototype.slice.call(arguments,3)));var I;return C.plural_func?I=C.plural_func(E):(t[i]||(t[i]=b(s[i])),I=t[i](E)),(typeof I.plural>"u"||I.plural>I.nplurals||y.length<=I.plural)&&(I.plural=0),f.apply(this,[c(y[I.plural])].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:f,expand_locale:u,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(y,E,C,I){if(!y||!E||!C)throw new Error("You must provide a domain, a locale and messages");if(typeof y!="string"||typeof E!="string"||!n.isObject(C))throw new Error("Invalid arguments");return E=d(E),I&&(s[E]=I),l[y]||(l[y]={}),l[y][E]=C,this},loadJSON:function(y,E){if(n.isObject(y)||(y=JSON.parse(y)),!y[""]||!y[""].language||!y[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var C=y[""];return delete y[""],this.setMessages(E||e.domain,C.language,y,C["plural-forms"])},setLocale:function(y){return i=d(y),this},getLocale:function(){return i},textdomain:function(y){return y?(o=y,this):o},gettext:function(y){return this.dcnpgettext.apply(this,[void 0,void 0,y,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(y,E,C){return this.dcnpgettext.apply(this,[void 0,void 0,y,E,C].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(y,E){return this.dcnpgettext.apply(this,[void 0,y,E,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(y,E,C,I,A){if(y=y||o,typeof C!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',C));var B,L={plural_form:!1},D=E?E+a+C:C,Y,z,W=u(i);for(var H in W)if(z=W[H],Y=l[y]&&l[y][z]&&l[y][z][D],I?Y=Y&&typeof l[y][z][D]!="string":Y=Y&&typeof l[y][z][D]=="string",Y)break;return Y?B=l[y][z][D]:(B=C,L.plural_func=e.plural_func),I?(L.plural_form=!0,k.apply(this,[Y?B:[C,I],A,L].concat(Array.prototype.slice.call(arguments,5)))):k.apply(this,[[B],A,L].concat(Array.prototype.slice.call(arguments,5)))}}};function Zt(r,e){var n;return e.type===r||e.type==="ITEM"&&(((n=e.subtypes)==null?void 0:n.includes(r))??!1)}const DC=new Map([["ITEM","item"],["AMMO","item"],["GUN","item"],["ARMOR","item"],["PET_ARMOR","item"],["TOOL","item"],["TOOLMOD","item"],["TOOL_ARMOR","item"],["BOOK","item"],["COMESTIBLE","item"],["ENGINE","item"],["WHEEL","item"],["GUNMOD","item"],["MAGAZINE","item"],["BATTERY","item"],["GENERIC","item"],["BIONIC_ITEM","item"],["MONSTER","monster"],["city_building","overmap_special"]]),ai=r=>DC.get(r)??r;let en=MC();const fa=["ITEM","AMMO","ARMOR","BATTERY","BIONIC_ITEM","BOOK","COMESTIBLE","CONTAINER","ENGINE","GENERIC","GUN","GUNMOD","MAGAZINE","PET_ARMOR","TOOL","TOOLMOD","TOOL_ARMOR","WHEEL","MONSTER","vehicle_part","json_flag"];function LC(r){return typeof r=="string"?r:"str_sp"in r?r.str_sp:r.str}function FC(r){return typeof r=="string"?r+"s":"str_sp"in r?r.str_sp:"str_pl"in r&&r.str_pl?r.str_pl:r.str+"s"}function Uo(r,e,n,t){const i=LC(r),o=e?FC(r):"";return en.dcnpgettext(t,void 0,i,o,n)||(n===1?i:o??i)}const Yt=r=>Uo(r,!1,1),aa=(r,e=2)=>Uo(r,!0,e),He=(r,e)=>xs(r,1,e),xs=(r,e=2,n)=>{var o;const t=((o=r==null?void 0:r.name)==null?void 0:o.male)??(r==null?void 0:r.name);if(t==null)return(r==null?void 0:r.id)??(r==null?void 0:r.abstract);const i=Array.isArray(t)?Uo(t[0],fa.includes(r.type),e,n):Uo(t,fa.includes(r.type),e,n);return i.length===0?(r==null?void 0:r.id)??(r==null?void 0:r.abstract):i},an=(r,e)=>He(r).localeCompare(He(e));function _y(r){const e=(r*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}function wr(r){if(typeof r>"u")return 0;if(typeof r=="number")return r*250;if(r.endsWith("ml"))return parseInt(r);if(r.endsWith("L"))return parseInt(r)*1e3;throw new Error("unknown volume unit: "+r)}const ca={μg:1e-6,ug:1e-6,mcg:1e-6,mg:.001,g:1,kg:1e3};function Qi(r){if(typeof r>"u")return 0;if(typeof r=="number")return r;let e,n=0;const t=new RegExp(`(\\d+)\\s+(${Object.keys(ca).join("|")})`,"g");for(;e=t.exec(r);){const[i,o,l]=e;n+=parseInt(o)*ca[l]}return n}function bl(r){if(typeof r=="number")return r/100;const e=1,n=1,t=60,i=t*60,o=i*24,l=[["turns",1*e],["turn",1*e],["t",1*e],["seconds",1*n],["second",1*n],["s",1*n],["minutes",1*t],["minute",1*t],["m",1*t],["hours",1*i],["hour",1*i],["h",1*i],["days",1*o],["day",1*o],["d",1*o]],[s,a]=r.trim().split(/\s+/),f=l.find(c=>c[0]===a);if(!f)throw new Error(`bad duration: ${JSON.stringify(r)}`);return Number(s)*f[1]}function ua(r){const e=bl(r);return`${Math.round(e/60)} m`}function Go(r){let e=bl(r),n=e/60|0;e-=n*60;let t=n/60|0;n-=t*60;let i=t/24|0;return t-=i*24,[[i,"d"],[t,"h"],[n,"m"],[e,"s"]].filter(([o])=>o).map(o=>o.join("")).join(" ")}function $l(r){return`${(wr(r)/1e3).toFixed(2)} L`}function Ar(r){return`${(Qi(r)/1e3).toFixed(2)} kg`}var es,ts,ns,is,ls,rs,os,ss,fs,as;class PC{constructor(e,n,t){Jn(this,"_raw");Jn(this,"_byType",new Map);Jn(this,"_byTypeById",new Map);Jn(this,"_abstractsByType",new Map);Jn(this,"_toolReplacements",null);Jn(this,"_craftingPseudoItems",new Map);Jn(this,"_migrations",new Map);Jn(this,"_flattenCache",new Map);Jn(this,"_nestedMapgensById",new Map);Jn(this,"release");Jn(this,"build_number");Jn(this,"_cachedDeathDrops",new Map);Jn(this,"_cachedUncraftRecipes",null);Jn(this,"_cachedMapgenSpawnItems",new Map);Jn(this,"_convertedTopLevelItemGroups",new Map);Jn(this,"_flattenItemGroupCache",new WeakMap);Jn(this,"_flatRequirementCache",new WeakMap);Jn(this,"_flatRequirementCacheExpandSubs",new WeakMap);Jn(this,"_flatRequirementCacheOnlyRecoverable",new WeakMap);Jn(this,"_normalizeRequirementsCache",new Map);Jn(this,"_itemComponentCache",null);Jn(this,"_constructionComponentCache",null);Mi(this,es,new Wi(this,"item",e=>{const n=[];for(const t of e.pocket_data??[])(t.pocket_type==="MAGAZINE"||t.pocket_type==="MAGAZINE_WELL")&&(n.push(...t.item_restriction??[]),n.push(...t.allowed_speedloaders??[]));return n}));Mi(this,ts,new Wi(this,"item",e=>{const n=[];for(const t of e.pocket_data??[])(t.pocket_type==="MAGAZINE"||t.pocket_type==="MAGAZINE_WELL")&&n.push(...t.flag_restriction??[]);return n}));Mi(this,ns,new Wi(this,"item",e=>{if(!e.id||!e.seed_data)return[];const n=[];return e.seed_data.fruit&&n.push(e.seed_data.fruit),e.seed_data.byproducts&&n.push(...e.seed_data.byproducts),n}));Mi(this,is,new Wi(this,"item",e=>{var t;function n(i){return i?Array.isArray(i)?i:Object.keys(i):[]}return e.id?n((t=e.brewable)==null?void 0:t.brew_results):[]}));Mi(this,ls,new Wi(this,"item",e=>Nr(e.use_action).flatMap(n=>"target"in n?[n.target]:[])));Mi(this,rs,new Wi(this,"furniture",e=>{var n;return(n=e.bash)!=null&&n.items?this.flattenItemGroup({subtype:"collection",entries:typeof e.bash.items=="string"?[{group:e.bash.items}]:e.bash.items}).map(t=>t.id):[]}));Mi(this,os,new Wi(this,"terrain",e=>{var n;return(n=e.bash)!=null&&n.items?this.flattenItemGroup({subtype:"collection",entries:typeof e.bash.items=="string"?[{group:e.bash.items}]:e.bash.items}).map(t=>t.id):[]}));Mi(this,ss,new Wi(this,"vehicle_part",e=>{if(!e.id)return[];const n=typeof e.breaks_into=="string"?this.convertTopLevelItemGroup(this.byId("item_group",e.breaks_into)):Array.isArray(e.breaks_into)?{subtype:"collection",entries:e.breaks_into}:e.breaks_into?e.breaks_into:null,t=n&&this.flattenItemGroup(n);return(t==null?void 0:t.map(i=>i.id))??[]}));Mi(this,fs,new Wi(this,"furniture",e=>{var t;return((t=e.deconstruct)!=null&&t.items?this.flattenItemGroup({subtype:"collection",entries:typeof e.deconstruct.items=="string"?[{group:e.deconstruct.items}]:e.deconstruct.items}):[]).map(i=>i.id)}));Mi(this,as,new Wi(this,"terrain",e=>{var t;return((t=e.deconstruct)!=null&&t.items?this.flattenItemGroup({subtype:"collection",entries:typeof e.deconstruct.items=="string"?[{group:e.deconstruct.items}]:e.deconstruct.items}):[]).map(i=>i.id)}));var i;this.release=t,this.build_number=n,this._raw=e.filter(o=>typeof o=="object");for(const o of e){if(!Object.hasOwnProperty.call(o,"type"))continue;if(o.type==="MIGRATION"){for(const s of typeof o.id=="string"?[o.id]:o.id){const{replace:a}=o;this._migrations.set(s,a)}continue}const l=ai(o.type);if(this._byType.has(l)||this._byType.set(l,[]),this._byType.get(l).push(o),Object.hasOwnProperty.call(o,"id")){if(this._byTypeById.has(l)||this._byTypeById.set(l,new Map),typeof o.id=="string")this._byTypeById.get(l).set(o.id,o);else if(Array.isArray(o.id))for(const s of o.id)this._byTypeById.get(l).set(s,o);if(Array.isArray(o.alias))for(const s of o.alias)this._byTypeById.get(l).set(s,o);else typeof o.alias=="string"&&this._byTypeById.get(l).set(o.alias,o)}if((l==="recipe"||l==="uncraft")&&Object.hasOwnProperty.call(o,"result")){this._byTypeById.has(l)||this._byTypeById.set(l,new Map);const s=o.result+(o.variant&&!o.abstract?"_"+o.variant:"")+(o.id_suffix?"_"+o.id_suffix:"");this._byTypeById.get(l).set(s,o)}if(l==="monstergroup"&&Object.hasOwnProperty.call(o,"name")){this._byTypeById.has(l)||this._byTypeById.set(l,new Map);const s=o.name;this._byTypeById.get(l).set(s,o)}Object.hasOwnProperty.call(o,"abstract")&&(this._abstractsByType.has(l)||this._abstractsByType.set(l,new Map),this._abstractsByType.get(l).set(o.abstract,o)),Object.hasOwnProperty.call(o,"crafting_pseudo_item")&&this._craftingPseudoItems.set(o.crafting_pseudo_item,o.id),Object.hasOwnProperty.call(o,"nested_mapgen_id")&&(this._nestedMapgensById.has(o.nested_mapgen_id)||this._nestedMapgensById.set(o.nested_mapgen_id,[]),this._nestedMapgensById.get(o.nested_mapgen_id).push(o))}(i=this._byTypeById.get("item_group"))==null||i.set("EMPTY_GROUP",{id:"EMPTY_GROUP",entries:[]})}byIdMaybe(e,n){if(typeof n!="string")throw new Error("Requested non-string id");const t=this._byTypeById.get(e);if(e==="item"&&!(t!=null&&t.has(n))&&this._migrations.has(n))return this.byIdMaybe(e,this._migrations.get(n));const i=t==null?void 0:t.get(n);if(i)return this._flatten(i)}byId(e,n){const t=this.byIdMaybe(e,n);if(!t)throw new Error('unknown object "'+n+'" of type "'+e+'"');return t}byType(e){var n;return((n=this._byType.get(e))==null?void 0:n.map(t=>this._flatten(t)))??[]}abstractById(e,n){var i;if(typeof n!="string")throw new Error("Requested non-string id");const t=(i=this._abstractsByType.get(e))==null?void 0:i.get(n);if(t)return this._flatten(t)}replacementTools(e){if(!this._toolReplacements){this._toolReplacements=new Map;for(const n of this.byType("item"))Zt("TOOL",n)&&Object.hasOwnProperty.call(n,"sub")&&n.sub&&(this._toolReplacements.has(n.sub)||this._toolReplacements.set(n.sub,[]),this._toolReplacements.get(n.sub).push(n.id))}return this._toolReplacements.get(e)??[]}craftingPseudoItem(e){return this._craftingPseudoItems.get(e)}nestedMapgensById(e){return this._nestedMapgensById.get(e)}all(){return this._raw}_flatten(e){var s,a;const n=e;if(this._flattenCache.has(n))return this._flattenCache.get(n);const t="copy-from"in n?((s=this._byTypeById.get(ai(n.type)))==null?void 0:s.get(n["copy-from"]))??((a=this._abstractsByType.get(ai(n.type)))==null?void 0:a.get(n["copy-from"])):null;if("copy-from"in n&&!t&&console.error(`Missing parent in ${n.id??n.abstract??n.result??JSON.stringify(n)}`),t===n)return console.warn("Object copied from itself:",n),this._flattenCache.set(n,n),n;if(!t)return this._flattenCache.set(n,n),n;const{abstract:i,...o}=this._flatten(t),l={...o,...n};o.vitamins&&n.vitamins&&(l.vitamins=[...o.vitamins.filter(f=>!n.vitamins.some(c=>c[0]===f[0])),...n.vitamins]),n.type==="vehicle"&&o.parts&&n.parts&&(l.parts=[...o.parts,...n.parts]);for(const f of Object.keys(l.relative??{}))if(typeof l.relative[f]=="number")if(f==="melee_damage"){const c=ir(JSON.parse(JSON.stringify(l.melee_damage)));for(const u of c)u.amount=(u.amount??0)+l.relative[f];l.melee_damage=c}else l[f]=(l[f]??0)+l.relative[f];else if((f==="damage"||f==="ranged_damage")&&l[f]){l[f]=JSON.parse(JSON.stringify(l[f]));const c=ir(l.relative[f]);for(const u of c){const d=Array.isArray(l[f])?l[f].find(b=>b.damage_type===u.damage_type):l[f].damage_type===u.damage_type?l[f]:null;d&&(d.amount=(d.amount??0)+(u.amount??0),d.armor_penetration=(d.armor_penetration??0)+(u.armor_penetration??0),d.armor_multiplier=(d.armor_multiplier??0)+(u.armor_multiplier??0),d.damage_multiplier=(d.damage_multiplier??0)+(u.damage_multiplier??0),d.constant_armor_multiplier=(d.constant_armor_multiplier??0)+(u.constant_armor_multiplier??0),d.constant_damage_multiplier=(d.constant_damage_multiplier??0)+(u.constant_damage_multiplier??0))}}else if((f==="melee_damage"||f==="armor"&&l.type==="MONSTER")&&l[f]){l[f]=JSON.parse(JSON.stringify(l[f]));for(const c of Object.keys(l.relative[f]))typeof l[f][c]=="number"||typeof l[f][c]>"u"?l[f][c]=(l[f][c]??0)+l.relative[f][c]:console.warn("unsupported relative melee_damage in ",l)}else if(f==="qualities"){l[f]=JSON.parse(JSON.stringify(l[f]));for(const[c,u]of l.relative[f]){const d=l[f].find(b=>b[0]===c);d[1]+=u}}delete l.relative;for(const f of Object.keys(l.proportional??{})){if((Zt("TOOL",l)||Zt("TOOL_ARMOR",l))&&"armor"in l&&(l.armor=JSON.parse(JSON.stringify(l.armor)),f==="encumbrance"))for(const c of l.armor??[])typeof c.encumbrance=="number"?c.encumbrance=c.encumbrance*l.proportional[f]|0:Array.isArray(c.encumbrance)&&(c.encumbrance=c.encumbrance.map(u=>u*l.proportional[f]|0));if(typeof l.proportional[f]=="number"&&f in l)if(f==="attack_cost"&&!(f in l)&&(l[f]=100),typeof l[f]=="string"){const c=/^\s*(\d+)\s*(.+)$/.exec(l[f]);if(c){const[,u,d]=c;l[f]=`${Number(u)*l.proportional[f]|0} ${d}`}}else if(typeof l[f]=="object"){l[f]=JSON.parse(JSON.stringify(l[f]));for(const[c,u]of Object.entries(l[f]))typeof u=="number"&&(l[f][c]*=l.proportional[f])}else l[f]*=l.proportional[f],l[f]=l[f]|0;else if(f==="damage"&&l[f]){l.damage=JSON.parse(JSON.stringify(l.damage));const c=ir(l.proportional.damage);for(const u of c){const d=Array.isArray(l.damage)?l.damage.find(b=>b.damage_type===u.damage_type):l.damage.damage_type===u.damage_type?l.damage:null;d&&(d.amount=(d.amount??0)*(u.amount??1),d.armor_penetration=(d.armor_penetration??0)*(u.armor_penetration??1),d.armor_multiplier=(d.armor_multiplier??0)*(u.armor_multiplier??1),d.damage_multiplier=(d.damage_multiplier??0)*(u.damage_multiplier??1),d.constant_armor_multiplier=(d.constant_armor_multiplier??0)*(u.constant_armor_multiplier??1),d.constant_damage_multiplier=(d.constant_damage_multiplier??0)*(u.constant_damage_multiplier??1))}}else if((f==="melee_damage"||f==="armor"&&l.type==="MONSTER")&&l[f]){l[f]=JSON.parse(JSON.stringify(l[f]));for(const c of Object.keys(l.proportional[f]))l[f][c]*=l.proportional[f][c],l[f][c]=l[f][c]|0}}delete l.proportional;for(const f of Object.keys(l.extend??{}))Array.isArray(l.extend[f])&&(f==="flags"?l[f]=(l[f]??[]).concat(l.extend[f].filter(c=>{var u;return!((u=l[f])!=null&&u.includes(c))})):l[f]=(l[f]??[]).concat(l.extend[f]));delete l.extend;for(const f of Object.keys(l.delete??{}))if(Array.isArray(l.delete[f])){const c=(u,d)=>u===d||Array.isArray(u)&&Array.isArray(d)&&u.length===d.length&&u.every((b,k)=>c(b,d[k]));l[f]=(l[f]??[]).filter(u=>!l.delete[f].some(d=>c(d,u)))}if(delete l.delete,"replace_materials"in l){const f=l.material;if(f&&(typeof f=="string"?l.replace_materials[f]&&(l.material=l.replace_materials[f]):Array.isArray(f)?l.material=f.map(c=>typeof c=="string"?l.replace_materials[c]??c:c.type in l.replace_materials?{...c,type:l.replace_materials[c.type]}:c):l.material=Object.fromEntries(Object.entries(f).map(([c,u])=>[l.replace_materials[c]??c,u]))),"armor"in l){const c=l.armor;if(c)for(const u of c)u.material&&(u.material=u.material.map(d=>typeof d=="string"?l.replace_materials[d]??d:d.type in l.replace_materials?{...d,type:l.replace_materials[d.type]}:d))}}return this._flattenCache.set(n,l),l}flatDeathDrops(e){if(this._cachedDeathDrops.has(e))return this._cachedDeathDrops.get(e);const n=this.byId("monster",e),t=n.death_drops?this.flattenItemGroupLoot(this.normalizeItemGroup(n.death_drops,"distribution")??{subtype:"collection",entries:[]}):new Map;return this._cachedDeathDrops.set(e,t),t}uncraftRecipe(e){if(!this._cachedUncraftRecipes){this._cachedUncraftRecipes=new Map;for(const n of this.byType("recipe"))n.result&&n.reversible&&this._cachedUncraftRecipes.set(n.result,n);for(const n of this.byType("uncraft"))n.result&&this._cachedUncraftRecipes.set(n.result,n)}return this._cachedUncraftRecipes.get(e)}mapgenSpawnItems(e){if(this._cachedMapgenSpawnItems.has(e))return this._cachedMapgenSpawnItems.get(e);const n=new Map,t=(f,c)=>{typeof c=="string"&&(n.has(f)||n.set(f,new Set),n.get(f).add(c))},i=(f,c)=>{const u=typeof c=="string"?this.convertTopLevelItemGroup(this.byId("item_group",c)):Array.isArray(c)?{subtype:"collection",entries:c}:c;if(u)for(const{id:d}of this.flattenItemGroup(u))t(f,d);else typeof c=="string"&&this.byId("item",c)&&t(f,c)},o=f=>{var c,u;for(const[d,b]of Object.entries(f.item??{})){const k=Array.isArray(b)?b:[b];for(const y of k)t(d,y.item)}for(const[d,b]of Object.entries(f.items??{})){const k=Array.isArray(b)?b:[b];for(const y of k)i(d,y.item)}for(const[d,b]of Object.entries(f.sealed_item??{})){const k=Array.isArray(b)?b:[b];for(const y of k)(c=y.item)!=null&&c.item&&t(d,y.item.item),(u=y.items)!=null&&u.item&&i(d,y.items.item)}};o(e.object);for(const f of e.object.palettes??[])typeof f=="string"&&o(this.byId("palette",f));const l=new Set,s=new Set;for(const f of e.object.rows??[])for(const c of f)s.add(c);for(const f of s){const c=n.get(f)??new Set;for(const u of c)l.add(u)}for(const f of e.object.place_item??[])typeof f.item=="string"&&l.add(f.item);for(const f of e.object.place_items??[]){const c=typeof f.item=="string"?this.convertTopLevelItemGroup(this.byId("item_group",f.item)):Array.isArray(f.item)?{subtype:"collection",entries:f.item}:f.item;if(c)for(const{id:u}of this.flattenItemGroup(c))l.add(u);else typeof f=="string"&&this.byId("item",f)&&l.add(f)}for(const f of e.object.place_loot??[])if(f.item&&l.add(f.item),f.group)for(const{id:c}of this.flattenTopLevelItemGroup(this.byId("item_group",f.group)))l.add(c);for(const f of e.object.add??[])typeof f.item=="string"&&l.add(f.item);const a=[...l];return this._cachedMapgenSpawnItems.set(e,a),a}convertTopLevelItemGroup(e){if(e.subtype==="distribution"||e.subtype==="collection")return e;if(!("subtype"in e)||!e.subtype||e.subtype==="old"){if(this._convertedTopLevelItemGroups.has(e))return this._convertedTopLevelItemGroups.get(e);const n=[];for(const i of e.items??[])Array.isArray(i)?n.push({item:i[0],prob:i[1]}):("item"in i||"group"in i||"collection"in i||"distribution"in i)&&n.push(i);const t={subtype:"distribution",entries:n};return this._convertedTopLevelItemGroups.set(e,t),t}else throw new Error("unknown item group subtype: "+e.subtype)}flattenTopLevelItemGroup(e){return this.flattenItemGroup(this.convertTopLevelItemGroup(e))}flattenItemGroup(e){if(this._flattenItemGroupCache.has(e))return this._flattenItemGroupCache.get(e);const n=new Map;function t({id:u,prob:d,count:b}){if(u==="null")return;const{prob:k,count:y,expected:E}=n.get(u)??{prob:0,count:[0,0],expected:0},C=1-(1-k)*(1-d),I=[b[0]+y[0],b[1]+y[1]],A=E+d*(b[0]+b[1])/2;n.set(u,{prob:C,expected:A,count:I})}function i(...u){u.forEach(t)}function o(u){return typeof u=="string"?u:u.item}"container-item"in e&&e["container-item"]&&i({id:o(e["container-item"]),prob:1,count:[1,1]});let l=[];for(const u of"entries"in e&&e.entries?e.entries:[])Array.isArray(u)?l.push({item:u[0],prob:u[1]}):("item"in u||"group"in u||"collection"in u||"distribution"in u)&&l.push(u);for(const u of e.items??[])Array.isArray(u)?l.push({item:u[0],prob:u[1]}):typeof u=="string"?l.push({item:u,prob:100}):("item"in u||"group"in u||"distribution"in u||"collection"in u)&&l.push(u);for(const u of"groups"in e&&e.groups?e.groups:[])Array.isArray(u)?l.push({group:u[0],prob:u[1]}):typeof u=="string"?l.push({group:u,prob:100}):("item"in u||"group"in u||"distribution"in u||"collection"in u)&&l.push(u);l=l.filter(u=>!("event"in u)||!u.event);function s(u,d,b){return{id:u.id,prob:u.prob*d,count:[u.count[0]*b[0],u.count[1]*b[1]]}}const a=this;function f(u){return u.count?typeof u.count=="number"?[u.count,u.count]:u.count:"item"in u&&u.charges&&cl(a.byId("item",u.item))?typeof u.charges=="number"?[u.charges,u.charges]:u.charges:[1,1]}if(e.subtype==="collection")for(const u of l){const{prob:d=100}=u,b=Math.min(d,100)/100,k=f(u);for(const y of["container-item","ammo-item","contents-item"]){const E=u[y];if(E)for(const C of[E].flat())i({id:o(C),prob:b,count:[1,1]})}for(const y of["container-group","ammo-group","contents-group"]){const E=u[y];if(E)for(const C of[E].flat())i(...this.flattenTopLevelItemGroup(this.byId("item_group",C)).map(I=>s(I,b,k)))}if("item"in u){i({id:u.item,prob:b,count:k});const y=this.byIdMaybe("item",u.item);y&&y.container&&i({id:y.container,prob:b,count:cl(y)?[1,1]:k})}else"group"in u?i(...this.flattenTopLevelItemGroup(this.byId("item_group",u.group)).map(y=>s(y,b,k))):"collection"in u?i(...this.flattenItemGroup({subtype:"collection",entries:u.collection}).map(y=>s(y,b,k))):"distribution"in u?i(...this.flattenItemGroup({subtype:"distribution",entries:u.distribution}).map(y=>s(y,b,k))):console.warn(`unknown item group entry: ${JSON.stringify(u)}`)}else{let u=0;for(const d of l)u+=d.prob??100;for(const d of l){const b=(d.prob??100)/u,k=f(d);for(const y of["container-item","ammo-item","contents-item"]){const E=d[y];if(E)for(const C of[E].flat())i({id:o(C),prob:b,count:[1,1]})}for(const y of["container-group","ammo-group","contents-group"]){const E=d[y];if(E)for(const C of[E].flat())i(...this.flattenTopLevelItemGroup(this.byId("item_group",C)).map(I=>s(I,b,k)))}"item"in d?i({id:d.item,prob:b,count:k}):"group"in d?i(...this.flattenTopLevelItemGroup(this.byId("item_group",d.group)).map(y=>s(y,b,k))):"collection"in d?i(...this.flattenItemGroup({subtype:"collection",entries:d.collection}).map(y=>s(y,b,k))):"distribution"in d?i(...this.flattenItemGroup({subtype:"distribution",entries:d.distribution}).map(y=>s(y,b,k))):console.warn(`unknown item group entry: ${JSON.stringify(d)}`)}}const c=[...n.entries()].map(([u,d])=>({id:u,...d}));return this._flattenItemGroupCache.set(e,c),c}flattenItemGroupLoot(e){return new Map(this.flattenItemGroup(e).map(({id:n,prob:t,expected:i})=>[n,{prob:t,expected:i}]))}_flatRequirementCacheForOpts(e){if(e!=null&&e.expandSubstitutes&&(e!=null&&e.onlyRecoverable))throw new Error("didn't expect to see expandSubstitutes && onlyRecoverable");return e!=null&&e.expandSubstitutes?this._flatRequirementCacheExpandSubs:e!=null&&e.onlyRecoverable?this._flatRequirementCacheOnlyRecoverable:this._flatRequirementCache}flattenRequirement(e,n,t){const i=this._flatRequirementCacheForOpts(t);if(i.has(e))return i.get(e);const{expandSubstitutes:o=!1,onlyRecoverable:l=!1}=t??{},s=o?f=>f.flatMap(c=>jC(this,c)):f=>f,a=_a(e).map(f=>s(dy(this,f,c=>_a(n(c)??[]),l))).map(f=>l?f.filter(c=>!(this.byId("item",c.id).flags??[]).includes("UNRECOVERABLE")):f).filter(f=>f.length);return i.set(e,a),a}normalizeRequirementsForDisassembly(e){if(this._normalizeRequirementsCache.has(e))return this._normalizeRequirementsCache.get(e);const{tools:n,qualities:t,components:i}=this.normalizeRequirements(e,{onlyRecoverable:!0});let o=!1;const l=[];for(const d of n)for(const[b,k]of d){if(["welder","welder_crude","oxy_torch","forge","char_forge"].includes(b)){d.length=0,l.push([{id:"SAW_M_FINE",level:1}]);break}if(["sewing_kit","mold_plastic"].includes(b)){d.length=0,l.push([{id:"CUT",level:1}]);break}if(b==="crucible"){d.length=0;break}if(b==="press"){d.length=0,o=!0,l.push([{id:"PULL",level:1}]);break}if(b==="fire"&&o){d.length=0;break}}const s=n.filter(d=>d.length);for(const d of t)for(const b of d){if(b.id==="SEW"){l.push([{id:"CUT",level:b.level}]),d.length=0;break}if(b.id==="GLARE"||b.id==="KNIT"){d.length=0;break}}const a=t.filter(d=>d.length),f=a.concat(l.filter(d=>!a.some(b=>b[0].id===d[0].id))),c=i.map(d=>d.filter(b=>{var k,y;return!((y=(k=this.byId("item",b[0]))==null?void 0:k.flags)!=null&&y.includes("UNRECOVERABLE"))})).filter(d=>d.length),u={tools:s,qualities:f,components:c};return this._normalizeRequirementsCache.set(e,u),u}normalizeRequirementUsing(e,n){const t=e.flatMap(([l,s])=>this.flattenRequirement(l.tools??[],a=>a.tools,{expandSubstitutes:!0}).map(a=>a.map(f=>[f.id,f.count*s]))),i=e.flatMap(([l,s])=>(l.qualities??[]).map(a=>Array.isArray(a)?a:[a])),o=e.flatMap(([l,s])=>this.flattenRequirement(l.components??[],a=>a.components,n).map(a=>a.map(f=>[f.id,f.count*s])));return{tools:t,qualities:i,components:o}}resolveRequirementList(e){return e?(Array.isArray(e)?e:[e]).map(t=>{const[i,o]=Array.isArray(t)?t:[t,1];return[typeof i=="string"?this.byIdMaybe("requirement",i):i,o]}).filter(t=>!!t[0]):[]}normalizeRequirements(e,n){const t=this.resolveRequirementList(e.using).concat([[e,1]]);return this.normalizeRequirementUsing(t,n)}getItemComponents(){if(this._itemComponentCache)return this._itemComponentCache;const e=new Map,n=new Map;return this.byType("recipe").forEach(t=>{if(!t.result||!this.byIdMaybe("item",t.result))return!1;const i=this.resolveRequirementList(t.using).concat([[t,1]]),o=i.flatMap(([s])=>this.flattenRequirement(s.tools??[],a=>a.tools));for(const s of o)for(const a of s)e.has(a.id)||e.set(a.id,new Set),e.get(a.id).add(t.result);const l=i.flatMap(([s])=>this.flattenRequirement(s.components??[],a=>a.components??[]));for(const s of l)for(const a of s)n.has(a.id)||n.set(a.id,new Set),n.get(a.id).add(t.result)}),this._itemComponentCache={byTool:e,byComponent:n},this._itemComponentCache}getConstructionComponents(){if(this._constructionComponentCache)return this._constructionComponentCache;const e=new Map,n=new Map;for(const t of this.byType("construction")){const{components:i,tools:o}=this.normalizeRequirements(t);for(const l of i)for(const[s]of l)e.has(s)||e.set(s,new Set),e.get(s).add(t.id);for(const l of o)for(const[s]of l)n.has(s)||n.set(s,new Set),n.get(s).add(t.id)}return this._constructionComponentCache={byTool:n,byComponent:e},this._constructionComponentCache}normalizeItemGroup(e,n){return e?typeof e=="string"?this.convertTopLevelItemGroup(this.byId("item_group",e)):Array.isArray(e)?{subtype:n,entries:e}:{subtype:n,...e}:{subtype:n,entries:[]}}itemForBionic(e){return this.byType("item").find(n=>"bionic_id"in n&&n.id&&n.bionic_id===e.id)??this.byIdMaybe("item",e.id)}compatibleItems(e){const n=si(this,es).lookup(e.id),t=e.flags?[e.flags].flat().flatMap(i=>si(this,ts).lookup(i)):[];return[...new Set([...n,...t])]}grownFrom(e){return si(this,ns).lookup(e)}brewedFrom(e){return si(this,is).lookup(e)}transformedFrom(e){return si(this,ls).lookup(e)}bashFromFurniture(e){return si(this,rs).lookup(e).sort(an)}bashFromTerrain(e){return si(this,os).lookup(e).sort(an)}bashFromVehiclePart(e){return si(this,ss).lookup(e).sort(an)}deconstructFrom(e){return[...si(this,fs).lookup(e).sort(an),...si(this,as).lookup(e).sort(an)]}allDamageTypes(e="protection_info"){return this.byType("damage_info_order").sort((n,t)=>{var i,o;return(((i=n[e])==null?void 0:i.order)??-1)-(((o=t[e])==null?void 0:o.order)??-1)}).map(n=>this.byId("damage_type",n.id))}}es=new WeakMap,ts=new WeakMap,ns=new WeakMap,is=new WeakMap,ls=new WeakMap,rs=new WeakMap,os=new WeakMap,ss=new WeakMap,fs=new WeakMap,as=new WeakMap;var Rr,nr,Xr;class Wi{constructor(e,n,t){Mi(this,nr);Mi(this,Rr,null);this.data=e,this.objType=n,this.fn=t}lookup(e){return si(this,nr,Xr).get(e)??[]}}Rr=new WeakMap,nr=new WeakSet,Xr=function(){if(!si(this,Rr)){la(this,Rr,new Map);for(const e of this.data.byType(this.objType))if("id"in e||"result"in e)for(const n of this.fn(e))si(this,nr,Xr).has(n)||si(this,nr,Xr).set(n,[]),si(this,nr,Xr).get(n).push(e)}return si(this,Rr)};function dy(r,e,n,t=!1){const i=[];for(const o of e)if(Array.isArray(o)){const[l,s,...a]=o,f=a.includes("LIST");if(a.includes("NO_RECOVER")&&t)continue;if(f){const u=typeof l=="string"?r.byId("requirement",l):l;u.type!=="requirement"&&console.error(`Expected a requirement, got ${u.type} (id=${u.id})`);const d=n(u)??[];if(d.length){const b=d[0];i.push(...dy(r,b,n,t).map(k=>({...k,count:k.count*s})))}}else i.push({id:l,count:s})}else if(typeof o=="string")i.push({id:o,count:1});else throw new Error("unexpected choice type");return i}function jC(r,e){const n=r.replacementTools(e.id);return[e,...n.map(t=>({id:t,count:e.count}))]}function _a(r){return(r==null?void 0:r.map(e=>Array.isArray(e)?e:[e]))??[]}const cl=r=>{if(!r)return!1;if(r.stackable||Zt("AMMO",r))return!0;if(Zt("COMESTIBLE",r)){const e=r.phase??(r.comestible&&r.comestible.phase);return typeof e=="string"?e.toLowerCase()!=="solid":!1}return!1};function ir(r){return Array.isArray(r)?r:"values"in r?r.values:[r]}function ef(r){const e=r.addiction_type;return typeof e=="string"?[{addiction:e,potential:r.addiction_potential??0}]:Array.isArray(e)?e.map(n=>typeof n=="string"?{addiction:n,potential:r.addiction_potential??0}:n):[]}const UC=["cover_left","cover_right","hatch_wheel_left","hatch_wheel_right","wheel_left","wheel_right","cross_unconnected","cross","horizontal_front_edge","horizontal_front","horizontal_rear_edge","horizontal_rear","horizontal_2_front","horizontal_2_rear","ne_edge","nw_edge","se_edge","sw_edge","vertical_right","vertical_left","vertical_2_right","vertical_2_left","vertical_T_right","vertical_T_left","front_right","front_left","rear_right","rear_left","cover","vertical","horizontal","vertical_2","horizontal_2","ne","nw","se","sw","front","rear","left","right"],my=(r,e)=>{if(r.byIdMaybe("vehicle_part",e))return[e,""];const n=/^(.+)#(.+?)$/.exec(e);if(n)return[n[1],n[2]];for(const t of UC)if(e.endsWith("_"+t))return[e.slice(0,e.length-t.length-1),t];return[e,""]},Es=new Map;function tf(r){if(Es.has(r))return Es.get(r);const e={subtype:"collection",entries:(r.items??[]).map(n=>n.items?{collection:(typeof n.items=="string"?[n.items]:n.items).map(t=>({item:t})),prob:n.chance}:n.item_groups?{collection:(typeof n.item_groups=="string"?[n.item_groups]:n.item_groups).map(t=>({group:t})),prob:n.chance}:{distribution:[]})};return Es.set(r,e),e}function Nr(r){return typeof r=="string"?[{type:"__item_action__",id:r}]:Array.isArray(r)?r.map(e=>typeof e=="string"?{type:"__item_action__",id:e}:Array.isArray(e)?{type:"__item_action__",id:e[0]}:e):r?[r]:[]}function da(r){switch(r){case"IMPERMEABLE":return 0;case"POOR":return 30;case"AVERAGE":return 50;case"GOOD":return 80;case"MOISTURE_WICKING":return 110;case"SECOND_SKIN":return 140}return 0}const py=(r,e)=>/latest/.test(r)&&/googlebot/i.test(navigator.userAgent)?GC(r):new Promise((n,t)=>{const i=new XMLHttpRequest;i.onload=o=>{i.response?n(i.response):t(`Unknown error fetching JSON from ${r}`)},i.onprogress=o=>{o.lengthComputable&&e(o.loaded,o.total)},i.onerror=()=>{t(`Error ${i.status} (${i.statusText}) fetching ${r}`)},i.onabort=()=>{t(`Aborted while fetching ${r}`)},i.open("GET",r),i.responseType="json",i.send()});async function GC(r){const e=r.replace(/latest/,"latest.gz"),n=await fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`Error ${n.status} (${n.statusText}) fetching ${r}`);if(!n.body)throw new Error(`No body in response from ${r} (status ${n.status})`);const t=new globalThis.DecompressionStream("gzip"),i=n.body.pipeThrough(t),o=await new Response(i).text();return JSON.parse(o)}const qC=async(r,e)=>py(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${r}/all.json`,e),ma=async(r,e,n)=>py(`https://raw.githubusercontent.com/nornagon/cdda-data/main/data/${r}/lang/${e}.json`,n);async function Ts(r){for(;;)try{return await r()}catch(e){console.error(e),await new Promise(n=>setTimeout(n,2e3))}}const hy=lo(null),gy={subscribe:hy.subscribe};let pa=!1;const{subscribe:YC,set:HC}=lo(null),Ss={subscribe:YC,async setVersion(r,e){if(pa)throw new Error("can only set version once");pa=!0;let n=[0,0,0],t=[0,0,0];const i=()=>{const f=n.reduce((u,d)=>u+d,0),c=t.reduce((u,d)=>u+d,0);hy.set([c,f])},[o,l,s]=await Promise.all([Ts(()=>qC(r,(f,c)=>{n[0]=c,t[0]=f,i()})),e&&Ts(()=>ma(r,e,(f,c)=>{n[1]=c,t[1]=f,i()})),(e==null?void 0:e.startsWith("zh_"))&&Ts(()=>ma(r,e+"_pinyin",(f,c)=>{n[2]=c,t[2]=f,i()}))]);e&&l&&(s&&(s[""]=l[""]),en.loadJSON(l),en.setLocale(e),s&&en.loadJSON(s,"pinyin"));const a=new PC(o.data,o.build_number,o.release);HC(a)}};function qo(r,e){if(e.subtype==="mutable")return e.id;const n=(e.overmaps??[]).filter(u=>u.point[2]===0);let t=1/0,i=1/0,o=-1/0,l=-1/0;const s=new Map;for(const u of n){const[d,b]=u.point;u.overmap&&r.byIdMaybe("overmap_terrain",u.overmap.replace(/_(north|south|east|west)$/,""))&&(d<t&&(t=d),b<i&&(i=b),d>o&&(o=d),b>l&&(l=b),s.set(`${d}|${b}`,u))}const a=t+Math.floor((o-t)/2),f=i+Math.floor((l-i)/2),c=s.get(`${a}|${f}`);if(c!=null&&c.overmap){const u=r.byId("overmap_terrain",c.overmap.replace(/_(north|south|east|west)$/,""));if(u)return He(u)}return e.id}function zC(r){let e,n=(r[0].points??0)+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p(o,l){l&1&&n!==(n=(o[0].points??0)+"")&&K(t,n)},d(o){o&&p(e),o&&p(t),o&&p(i)}}}function WC(r){let e,n;const t=r[3].default,i=ki(t,r,r[2],null),o=i||zC(r);return{c(){e=m("span"),o&&o.c(),le(e,"style",`color: var(--cata-color-${r[1]})`)},m(l,s){h(l,e,s),o&&o.m(e,null),n=!0},p(l,[s]){i?i.p&&(!n||s&4)&&wi(i,t,l,l[2],n?vi(t,l[2],s,null):Ei(l[2]),null):o&&o.p&&(!n||s&1)&&o.p(l,n?s:-1)},i(l){n||(g(o,l),n=!0)},o(l){$(o,l),n=!1},d(l){l&&p(e),o&&o.d(l)}}}function VC(r,e,n){let{$$slots:t={},$$scope:i}=e,{mutation:o}=e,l=o.threshold||o.profession?"white":o.mixed_effect?"light_magenta":o.points>0?"light_green":o.points<0?"light_red":"yellow";return r.$$set=s=>{"mutation"in s&&n(0,o=s.mutation),"$$scope"in s&&n(2,i=s.$$scope)},[o,l,i,t]}class by extends ht{constructor(e){super(),pt(this,e,VC,WC,mt,{mutation:0})}}function JC(r){const e=r.slice(),n=e[6]&&e[4]&&e[7](e[6])&&"variants"in e[6]&&e[6].variants?e[6].variants.find(t=>t.id===e[4])??e[6]:e[6];return e[9]=n,e}function XC(r){var a;let e,n=(r[5]?r[5]:r[6]?r[6].type==="addiction_type"?Yt(r[6].type_name):(r[2]?xs:He)(r[9]):r[1])+"",t,i,o,l,s=((a=r[6])==null?void 0:a.type)==="mutation"&&ha(r);return{c(){e=m("a"),t=w(n),s&&s.c(),o=ue(),le(e,"href",i="/cdda-guide/"+r[0]+"/"+r[1]+location.search)},m(f,c){h(f,e,c),_(e,t),s&&s.m(f,c),h(f,o,c),l=!0},p(f,c){var u;(!l||c&118)&&n!==(n=(f[5]?f[5]:f[6]?f[6].type==="addiction_type"?Yt(f[6].type_name):(f[2]?xs:He)(f[9]):f[1])+"")&&K(t,n),(!l||c&3&&i!==(i="/cdda-guide/"+f[0]+"/"+f[1]+location.search))&&le(e,"href",i),((u=f[6])==null?void 0:u.type)==="mutation"?s?(s.p(f,c),c&64&&g(s,1)):(s=ha(f),s.c(),g(s,1),s.m(o.parentNode,o)):s&&(fe(),$(s,1,1,()=>{s=null}),ae())},i(f){l||(g(s),l=!0)},o(f){$(s),l=!1},d(f){f&&p(e),s&&s.d(f),f&&p(o)}}}function KC(r){let e,n=!cl(r[6]),t,i,o=cl(r[6]),l,s=n&&ga(r);i=new ge({props:{type:r[0],id:r[1],plural:$a(r[3])&&!cl(r[6])}});let a=o&&ba(r);return{c(){e=m("span"),s&&s.c(),t=R(),q(i.$$.fragment),a&&a.c(),bt(e,"white-space","nowrap")},m(f,c){h(f,e,c),s&&s.m(e,null),_(e,t),U(i,e,null),a&&a.m(e,null),l=!0},p(f,c){c&64&&(n=!cl(f[6])),n?s?s.p(f,c):(s=ga(f),s.c(),s.m(e,t)):s&&(s.d(1),s=null);const u={};c&1&&(u.type=f[0]),c&2&&(u.id=f[1]),c&72&&(u.plural=$a(f[3])&&!cl(f[6])),i.$set(u),c&64&&(o=cl(f[6])),o?a?a.p(f,c):(a=ba(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(f){l||(g(i.$$.fragment,f),l=!0)},o(f){$(i.$$.fragment,f),l=!1},d(f){f&&p(e),s&&s.d(),G(i),a&&a.d()}}}function ha(r){let e,n,t;return n=new by({props:{mutation:r[6]}}),{c(){e=w(" "),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,i,o),t=!0},p(i,o){const l={};o&64&&(l.mutation=i[6]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n,i)}}}function ga(r){let e=Yo(r[3])+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&8&&e!==(e=Yo(t[3])+"")&&K(n,e)},d(t){t&&p(n)}}}function ba(r){let e=" ",n,t,i=Yo(r[3])+"",o,l;return{c(){n=w(e),t=w("("),o=w(i),l=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p(s,a){a&8&&i!==(i=Yo(s[3])+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function ZC(r){let e,n,t,i;const o=[KC,XC],l=[];function s(f,c){return f[3]!=null?0:1}function a(f,c){return c===1?JC(f):f}return e=s(r),n=l[e]=o[e](a(r,e)),{c(){n.c(),t=ue()},m(f,c){l[e].m(f,c),h(f,t,c),i=!0},p(f,[c]){let u=e;e=s(f),e===u?l[e].p(a(f,e),c):(fe(),$(l[u],1,1,()=>{l[u]=null}),ae(),n=l[e],n?n.p(a(f,e),c):(n=l[e]=o[e](a(f,e)),n.c()),g(n,1),n.m(t.parentNode,t))},i(f){i||(g(n),i=!0)},o(f){$(n),i=!1},d(f){l[e].d(f),f&&p(t)}}}function Yo(r){return typeof r=="number"?r.toString():r[0]===r[1]?r[0].toString():`${r[0]}–${r[1]}`}function $a(r){return typeof r=="number"?r!==1:r[0]===r[1]?r[0]!==1:!0}function QC(r,e,n){let{type:t}=e,{id:i}=e,{plural:o=!1}=e,{count:l=void 0}=e,{variantId:s=void 0}=e,{overrideText:a=void 0}=e;const f=jt("data");let c=f.byIdMaybe(t,i);(c==null?void 0:c.type)==="vehicle_part"&&!c.name&&c.item&&(c=f.byId("item",c.item));function u(d){return ai(d.type)==="item"}return r.$$set=d=>{"type"in d&&n(0,t=d.type),"id"in d&&n(1,i=d.id),"plural"in d&&n(2,o=d.plural),"count"in d&&n(3,l=d.count),"variantId"in d&&n(4,s=d.variantId),"overrideText"in d&&n(5,a=d.overrideText)},[t,i,o,l,s,a,c,u]}class ge extends ht{constructor(e){super(),pt(this,e,QC,ZC,mt,{type:0,id:1,plural:2,count:3,variantId:4,overrideText:5})}}const xC=async r=>{const e=await fetch(`${r}/tile_config.json`,{mode:"cors"});if(!e.ok)throw new Error(`Error ${e.status} (${e.statusText}) fetching tile data`);const n=await e.json();return await Promise.all(n["tiles-new"].map(async t=>{const i=await fetch(`${r}/${t.file}`).then(f=>f.blob()),o=URL.createObjectURL(i),l=new Image;l.src=o;try{await new Promise((f,c)=>{l.onload=f,l.onerror=c})}finally{URL.revokeObjectURL(o)}const s=l.width/(t.sprite_width??n.tile_info[0].width)|0,a=l.height/(t.sprite_height??n.tile_info[0].height)|0;t.nx=s,t.ny=a})),n},{subscribe:eI,set:ya}=lo(null),$y={subscribe:eI,setURL(r){r?xC(r).then(e=>{ya({...e,baseUrl:r})},e=>{console.error("Error fetching tiles",e)}):ya(null)}},Kn=0,$i=1,ui=2,_i=3,di=4,mi=5,pi=6,ri=7,nf={},Nt=(r,e,n)=>{nf[r]=[e,n]};Nt(1,ri,Kn);Nt(2,$i,Kn);Nt(3,ui,Kn);Nt(4,di,Kn);Nt(5,pi,Kn);Nt(6,mi,Kn);Nt(7,_i,Kn);Nt(8,Kn,ri);Nt(9,Kn,$i);Nt(10,Kn,ui);Nt(11,Kn,di);Nt(12,Kn,pi);Nt(13,Kn,mi);Nt(14,Kn,_i);Nt(15,ri,di);Nt(16,$i,di);Nt(17,ui,di);Nt(18,di,di);Nt(19,pi,di);Nt(20,Kn,di);Nt(21,mi,di);Nt(22,_i,di);Nt(23,ri,$i);Nt(24,$i,$i);Nt(25,ui,$i);Nt(26,di,$i);Nt(27,pi,$i);Nt(28,mi,$i);Nt(29,_i,$i);Nt(30,Kn,Kn);Nt(31,ri,Kn);Nt(32,Kn,ri);Nt(33,ri,ri);Nt(34,$i,ri);Nt(35,ui,ri);Nt(36,_i,ri);Nt(37,di,ri);Nt(38,mi,ri);Nt(39,pi,ri);Nt(40,Kn,ui);Nt(41,ri,ui);Nt(42,$i,ui);Nt(43,ui,ui);Nt(44,_i,ui);Nt(45,di,ui);Nt(46,mi,ui);Nt(47,pi,ui);Nt(48,Kn,_i);Nt(49,ri,_i);Nt(50,$i,_i);Nt(51,ui,_i);Nt(52,_i,_i);Nt(53,di,_i);Nt(54,mi,_i);Nt(55,pi,_i);Nt(56,Kn,mi);Nt(57,ri,mi);Nt(58,$i,mi);Nt(59,ui,mi);Nt(60,_i,mi);Nt(61,di,mi);Nt(62,mi,mi);Nt(63,pi,mi);Nt(64,Kn,pi);Nt(65,ri,pi);Nt(66,$i,pi);Nt(67,ui,pi);Nt(68,_i,pi);Nt(69,di,pi);Nt(70,mi,pi);Nt(71,pi,pi);function Le(r){return{fg:nf[r][0],bg:nf[r][1],bold(){return{...this,is_bold:!0}},blink(){return{...this,is_blink:!0}},is_bold:!1,is_blink:!1,color(){let e=this.fg,n=this.bg;return this.is_bold&&(e=e+8),this.is_blink&&(n=n+8),{fg:e,bg:n}}}}function lf(r){return r?r[1]!="_"?lf("c_"+r):yy[r]:lf("c_white")}const yy={};function Fe(r,e,n,t){yy[e]={...n.color(),inverse:t}}Fe("def_c_black","c_black",Le(30),"def_i_black");Fe("def_c_white","c_white",Le(1).bold(),"def_i_white");Fe("def_c_light_gray","c_light_gray",Le(1),"def_i_light_gray");Fe("def_c_dark_gray","c_dark_gray",Le(30).bold(),"def_i_dark_gray");Fe("def_c_red","c_red",Le(2),"def_i_red");Fe("def_c_green","c_green",Le(3),"def_i_green");Fe("def_c_blue","c_blue",Le(4),"def_i_blue");Fe("def_c_cyan","c_cyan",Le(5),"def_i_cyan");Fe("def_c_magenta","c_magenta",Le(6),"def_i_magenta");Fe("def_c_brown","c_brown",Le(7),"def_i_brown");Fe("def_c_light_red","c_light_red",Le(2).bold(),"def_i_light_red");Fe("def_c_light_green","c_light_green",Le(3).bold(),"def_i_light_green");Fe("def_c_light_blue","c_light_blue",Le(4).bold(),"def_i_light_blue");Fe("def_c_light_cyan","c_light_cyan",Le(5).bold(),"def_i_light_cyan");Fe("def_c_pink","c_pink",Le(6).bold(),"def_i_pink");Fe("def_c_yellow","c_yellow",Le(7).bold(),"def_i_yellow");Fe("def_h_black","h_black",Le(20),"def_c_blue");Fe("def_h_white","h_white",Le(15).bold(),"def_c_light_blue_white");Fe("def_h_light_gray","h_light_gray",Le(15),"def_c_blue_white");Fe("def_h_dark_gray","h_dark_gray",Le(20).bold(),"def_c_light_blue");Fe("def_h_red","h_red",Le(16),"def_c_blue_red");Fe("def_h_green","h_green",Le(17),"def_c_blue_green");Fe("def_h_blue","h_blue",Le(20),"def_h_blue");Fe("def_h_cyan","h_cyan",Le(19),"def_c_blue_cyan");Fe("def_h_magenta","h_magenta",Le(21),"def_c_blue_magenta");Fe("def_h_brown","h_brown",Le(22),"def_c_blue_yellow");Fe("def_h_light_red","h_light_red",Le(16).bold(),"def_c_light_blue_red");Fe("def_h_light_green","h_light_green",Le(17).bold(),"def_c_light_blue_green");Fe("def_h_light_blue","h_light_blue",Le(18).bold(),"def_h_light_blue");Fe("def_h_light_cyan","h_light_cyan",Le(19).bold(),"def_c_light_blue_cyan");Fe("def_h_pink","h_pink",Le(21).bold(),"def_c_light_blue_magenta");Fe("def_h_yellow","h_yellow",Le(22).bold(),"def_c_light_blue_yellow");Fe("def_i_black","i_black",Le(32),"def_c_black");Fe("def_i_white","i_white",Le(8).blink(),"def_c_white");Fe("def_i_light_gray","i_light_gray",Le(8),"def_c_light_gray");Fe("def_i_dark_gray","i_dark_gray",Le(32).blink(),"def_c_dark_gray");Fe("def_i_red","i_red",Le(9),"def_c_red");Fe("def_i_green","i_green",Le(10),"def_c_green");Fe("def_i_blue","i_blue",Le(11),"def_c_blue");Fe("def_i_cyan","i_cyan",Le(12),"def_c_cyan");Fe("def_i_magenta","i_magenta",Le(13),"def_c_magenta");Fe("def_i_brown","i_brown",Le(14),"def_c_brown");Fe("def_i_light_red","i_light_red",Le(9).blink(),"def_c_light_red");Fe("def_i_light_green","i_light_green",Le(10).blink(),"def_c_light_green");Fe("def_i_light_blue","i_light_blue",Le(11).blink(),"def_c_light_blue");Fe("def_i_light_cyan","i_light_cyan",Le(12).blink(),"def_c_light_cyan");Fe("def_i_pink","i_pink",Le(13).blink(),"def_c_pink");Fe("def_i_yellow","i_yellow",Le(14).blink(),"def_c_yellow");Fe("def_c_black_red","c_black_red",Le(9).bold(),"def_c_red");Fe("def_c_white_red","c_white_red",Le(23).bold(),"def_c_red_white");Fe("def_c_light_gray_red","c_light_gray_red",Le(23),"def_c_light_red_white");Fe("def_c_dark_gray_red","c_dark_gray_red",Le(9),"def_c_dark_gray_red");Fe("def_c_red_red","c_red_red",Le(9),"def_c_red_red");Fe("def_c_green_red","c_green_red",Le(25),"def_c_red_green");Fe("def_c_blue_red","c_blue_red",Le(26),"def_h_red");Fe("def_c_cyan_red","c_cyan_red",Le(27),"def_c_red_cyan");Fe("def_c_magenta_red","c_magenta_red",Le(28),"def_c_red_magenta");Fe("def_c_brown_red","c_brown_red",Le(29),"def_c_red_yellow");Fe("def_c_light_red_red","c_light_red_red",Le(24).bold(),"def_c_red_red");Fe("def_c_light_green_red","c_light_green_red",Le(25).bold(),"def_c_light_red_green");Fe("def_c_light_blue_red","c_light_blue_red",Le(26).bold(),"def_h_light_red");Fe("def_c_light_cyan_red","c_light_cyan_red",Le(27).bold(),"def_c_light_red_cyan");Fe("def_c_pink_red","c_pink_red",Le(28).bold(),"def_c_light_red_magenta");Fe("def_c_yellow_red","c_yellow_red",Le(29).bold(),"def_c_red_yellow");Fe("def_c_unset","c_unset",Le(31),"def_c_unset");Fe("def_c_black_white","c_black_white",Le(32),"def_c_light_gray");Fe("def_c_dark_gray_white","c_dark_gray_white",Le(32).bold(),"def_c_white");Fe("def_c_light_gray_white","c_light_gray_white",Le(33),"def_c_light_gray_white");Fe("def_c_white_white","c_white_white",Le(33).bold(),"def_c_white_white");Fe("def_c_red_white","c_red_white",Le(34),"def_c_white_red");Fe("def_c_light_red_white","c_light_red_white",Le(34).bold(),"def_c_light_gray_red");Fe("def_c_green_white","c_green_white",Le(35),"def_c_light_gray_green");Fe("def_c_light_green_white","c_light_green_white",Le(35).bold(),"def_c_white_green");Fe("def_c_brown_white","c_brown_white",Le(36),"def_c_light_gray_yellow");Fe("def_c_yellow_white","c_yellow_white",Le(36).bold(),"def_c_white_yellow");Fe("def_c_blue_white","c_blue_white",Le(37),"def_h_light_gray");Fe("def_c_light_blue_white","c_light_blue_white",Le(37).bold(),"def_h_white");Fe("def_c_magenta_white","c_magenta_white",Le(38),"def_c_light_gray_magenta");Fe("def_c_pink_white","c_pink_white",Le(38).bold(),"def_c_white_magenta");Fe("def_c_cyan_white","c_cyan_white",Le(39),"def_c_light_gray_cyan");Fe("def_c_light_cyan_white","c_light_cyan_white",Le(39).bold(),"def_c_white_cyan");Fe("def_c_black_green","c_black_green",Le(40),"def_c_green");Fe("def_c_dark_gray_green","c_dark_gray_green",Le(40).bold(),"def_c_light_green");Fe("def_c_light_gray_green","c_light_gray_green",Le(41),"def_c_green_white");Fe("def_c_white_green","c_white_green",Le(41).bold(),"def_c_light_green_white");Fe("def_c_red_green","c_red_green",Le(42),"def_c_green_red");Fe("def_c_light_red_green","c_light_red_green",Le(42).bold(),"def_c_light_green_red");Fe("def_c_green_green","c_green_green",Le(43),"def_c_green_green");Fe("def_c_light_green_green","c_light_green_green",Le(43).bold(),"def_c_light_green_green");Fe("def_c_brown_green","c_brown_green",Le(44),"def_c_green_yellow");Fe("def_c_yellow_green","c_yellow_green",Le(44).bold(),"def_c_light_green_yellow");Fe("def_c_blue_green","c_blue_green",Le(45),"def_h_green");Fe("def_c_light_blue_green","c_light_blue_green",Le(45).bold(),"def_h_light_green");Fe("def_c_magenta_green","c_magenta_green",Le(46),"def_c_green_magenta");Fe("def_c_pink_green","c_pink_green",Le(46).bold(),"def_c_light_green_magenta");Fe("def_c_cyan_green","c_cyan_green",Le(47),"def_c_green_cyan");Fe("def_c_light_cyan_green","c_light_cyan_green",Le(47).bold(),"def_c_light_green_cyan");Fe("def_c_black_yellow","c_black_yellow",Le(48),"def_c_brown");Fe("def_c_dark_gray_yellow","c_dark_gray_yellow",Le(48).bold(),"def_c_yellow");Fe("def_c_light_gray_yellow","c_light_gray_yellow",Le(49),"def_c_brown_white");Fe("def_c_white_yellow","c_white_yellow",Le(49).bold(),"def_c_yellow_white");Fe("def_c_red_yellow","c_red_yellow",Le(50),"def_c_yellow_red");Fe("def_c_light_red_yellow","c_light_red_yellow",Le(50).bold(),"def_c_yellow_red");Fe("def_c_green_yellow","c_green_yellow",Le(51),"def_c_brown_green");Fe("def_c_light_green_yellow","c_light_green_yellow",Le(51).bold(),"def_c_yellow_green");Fe("def_c_brown_yellow","c_brown_yellow",Le(52),"def_c_brown_yellow");Fe("def_c_yellow_yellow","c_yellow_yellow",Le(52).bold(),"def_c_yellow_yellow");Fe("def_c_blue_yellow","c_blue_yellow",Le(53),"def_h_brown");Fe("def_c_light_blue_yellow","c_light_blue_yellow",Le(53).bold(),"def_h_yellow");Fe("def_c_magenta_yellow","c_magenta_yellow",Le(54),"def_c_brown_magenta");Fe("def_c_pink_yellow","c_pink_yellow",Le(54).bold(),"def_c_yellow_magenta");Fe("def_c_cyan_yellow","c_cyan_yellow",Le(55),"def_c_brown_cyan");Fe("def_c_light_cyan_yellow","c_light_cyan_yellow",Le(55).bold(),"def_c_yellow_cyan");Fe("def_c_black_magenta","c_black_magenta",Le(56),"def_c_magenta");Fe("def_c_dark_gray_magenta","c_dark_gray_magenta",Le(56).bold(),"def_c_pink");Fe("def_c_light_gray_magenta","c_light_gray_magenta",Le(57),"def_c_magenta_white");Fe("def_c_white_magenta","c_white_magenta",Le(57).bold(),"def_c_pink_white");Fe("def_c_red_magenta","c_red_magenta",Le(58),"def_c_magenta_red");Fe("def_c_light_red_magenta","c_light_red_magenta",Le(58).bold(),"def_c_pink_red");Fe("def_c_green_magenta","c_green_magenta",Le(59),"def_c_magenta_green");Fe("def_c_light_green_magenta","c_light_green_magenta",Le(59).bold(),"def_c_pink_green");Fe("def_c_brown_magenta","c_brown_magenta",Le(60),"def_c_magenta_yellow");Fe("def_c_yellow_magenta","c_yellow_magenta",Le(60).bold(),"def_c_pink_yellow");Fe("def_c_blue_magenta","c_blue_magenta",Le(61),"def_h_magenta");Fe("def_c_light_blue_magenta","c_light_blue_magenta",Le(61).bold(),"def_h_pink");Fe("def_c_magenta_magenta","c_magenta_magenta",Le(62),"def_c_magenta_magenta");Fe("def_c_pink_magenta","c_pink_magenta",Le(62).bold(),"def_c_pink_magenta");Fe("def_c_cyan_magenta","c_cyan_magenta",Le(63),"def_c_magenta_cyan");Fe("def_c_light_cyan_magenta","c_light_cyan_magenta",Le(63).bold(),"def_c_pink_cyan");Fe("def_c_black_cyan","c_black_cyan",Le(64),"def_c_cyan");Fe("def_c_dark_gray_cyan","c_dark_gray_cyan",Le(64).bold(),"def_c_light_cyan");Fe("def_c_light_gray_cyan","c_light_gray_cyan",Le(65),"def_c_cyan_white");Fe("def_c_white_cyan","c_white_cyan",Le(65).bold(),"def_c_light_cyan_white");Fe("def_c_red_cyan","c_red_cyan",Le(66),"def_c_cyan_red");Fe("def_c_light_red_cyan","c_light_red_cyan",Le(66).bold(),"def_c_light_cyan_red");Fe("def_c_green_cyan","c_green_cyan",Le(67),"def_c_cyan_green");Fe("def_c_light_green_cyan","c_light_green_cyan",Le(67).bold(),"def_c_light_cyan_green");Fe("def_c_brown_cyan","c_brown_cyan",Le(68),"def_c_cyan_yellow");Fe("def_c_yellow_cyan","c_yellow_cyan",Le(68).bold(),"def_c_light_cyan_yellow");Fe("def_c_blue_cyan","c_blue_cyan",Le(69),"def_h_cyan");Fe("def_c_light_blue_cyan","c_light_blue_cyan",Le(69).bold(),"def_h_light_cyan");Fe("def_c_magenta_cyan","c_magenta_cyan",Le(70),"def_c_cyan_magenta");Fe("def_c_pink_cyan","c_pink_cyan",Le(70).bold(),"def_c_light_cyan_magenta");Fe("def_c_cyan_cyan","c_cyan_cyan",Le(71),"def_c_cyan_cyan");Fe("def_c_light_cyan_cyan","c_light_cyan_cyan",Le(71).bold(),"def_c_light_cyan_cyan");function tI(r){let e,n;return{c(){e=m("span"),n=w(r[3]),bt(e,"font-family","monospace"),le(e,"class","c_"+r[4]+" svelte-17io91a")},m(t,i){h(t,e,i),_(e,n)},p:oe,d(t){t&&p(e)}}}function nI(r){let e,n,t,i=r[1].bg!=null&&ka(r),o=r[1].fg!=null&&va(r);return{c(){e=m("div"),i&&i.c(),n=R(),o&&o.c(),le(e,"style",t=Br({width:`${r[2].width*r[2].pixelscale}px`,height:`${r[2].height*r[2].pixelscale}px`})),le(e,"class","tile-icon svelte-17io91a")},m(l,s){h(l,e,s),i&&i.m(e,null),_(e,n),o&&o.m(e,null)},p(l,s){l[1].bg!=null?i?i.p(l,s):(i=ka(l),i.c(),i.m(e,n)):i&&(i.d(1),i=null),l[1].fg!=null?o?o.p(l,s):(o=va(l),o.c(),o.m(e,null)):o&&(o.d(1),o=null),s&4&&t!==(t=Br({width:`${l[2].width*l[2].pixelscale}px`,height:`${l[2].height*l[2].pixelscale}px`}))&&le(e,"style",t)},d(l){l&&p(e),i&&i.d(),o&&o.d()}}}function ka(r){let e,n;return{c(){e=m("div"),le(e,"class","icon-layer bg svelte-17io91a"),le(e,"style",n=Br({width:`${r[1].bg.width}px`,height:`${r[1].bg.height}px`,"background-image":`url(${`${r[0]}/${encodeURIComponent(r[1].bg.file)}`})`,"background-position":`${-r[1].bg.tx*r[1].bg.width}px ${-r[1].bg.ty*r[1].bg.height}px`,transform:`scale(${r[2].pixelscale}) translate(${r[1].bg.offx}px, ${r[1].bg.offy}px)`}))},m(t,i){h(t,e,i)},p(t,i){i&7&&n!==(n=Br({width:`${t[1].bg.width}px`,height:`${t[1].bg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].bg.file)}`})`,"background-position":`${-t[1].bg.tx*t[1].bg.width}px ${-t[1].bg.ty*t[1].bg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].bg.offx}px, ${t[1].bg.offy}px)`}))&&le(e,"style",n)},d(t){t&&p(e)}}}function va(r){let e,n;return{c(){e=m("div"),le(e,"class","icon-layer fg svelte-17io91a"),le(e,"style",n=Br({width:`${r[1].fg.width}px`,height:`${r[1].fg.height}px`,"background-image":`url(${`${r[0]}/${encodeURIComponent(r[1].fg.file)}`})`,"background-position":`${-r[1].fg.tx*r[1].fg.width}px ${-r[1].fg.ty*r[1].fg.height}px`,transform:`scale(${r[2].pixelscale}) translate(${r[1].fg.offx}px, ${r[1].fg.offy}px)`}))},m(t,i){h(t,e,i)},p(t,i){i&7&&n!==(n=Br({width:`${t[1].fg.width}px`,height:`${t[1].fg.height}px`,"background-image":`url(${`${t[0]}/${encodeURIComponent(t[1].fg.file)}`})`,"background-position":`${-t[1].fg.tx*t[1].fg.width}px ${-t[1].fg.ty*t[1].fg.height}px`,transform:`scale(${t[2].pixelscale}) translate(${t[1].fg.offx}px, ${t[1].fg.offy}px)`}))&&le(e,"style",n)},d(t){t&&p(e)}}}function iI(r){let e;function n(o,l){return o[1]?nI:tI}let t=n(r),i=t(r);return{c(){i.c(),e=ue()},m(o,l){i.m(o,l),h(o,e,l)},p(o,[l]){t===(t=n(o))&&i?i.p(o,l):(i.d(1),i=t(o),i&&(i.c(),i.m(e.parentNode,e)))},i:oe,o:oe,d(o){i.d(o),o&&p(e)}}}function ky(r){return typeof r=="string"?`i_${r}`:ky(r[0])}function wa(r,e){if(!r||!e)return;let n=0;const t=[];for(const s of r["tiles-new"])t.push({from:n,to:n+s.nx*s.ny,chunk:s}),n+=s.nx*s.ny;function i(s){for(const a of t)if(s>=a.from&&s<a.to)return a}function o(s){if(s==null)return;const a=i(s);if(!a)return;const f=s-a.from,c=f%a.chunk.nx,u=f/a.chunk.nx|0;return{file:a.chunk.file,width:a.chunk.sprite_width??r.tile_info[0].width,height:a.chunk.sprite_height??r.tile_info[0].height,offx:a.chunk.sprite_offset_x??0,offy:a.chunk.sprite_offset_y??0,tx:c,ty:u}}const l=s=>s&&(s===e||s.startsWith(e)&&/^_season_(autumn|spring|summer|winter)$/.test(s.substring(e.length)));for(const s of r["tiles-new"]){for(const a of s.tiles)if(Array.isArray(a.id)?a.id.some(l):l(a.id)){let f=Array.isArray(a.fg)?a.fg[0]:a.fg,c=Array.isArray(a.bg)?a.bg[0]:a.bg;return f&&typeof f=="object"&&(f=f.sprite),c&&typeof c=="object"&&(c=c.sprite),{fg:o(f),bg:o(c)}}n+=s.nx*s.ny}}function Br(r){let e="";for(const[n,t]of Object.entries(r))e+=`${n}: ${t};`;return e}function lI(r,e,n){let t,i,o,l;Fo(r,$y,y=>n(6,l=y));let{item:s}=e,a=jt("data");const f=s.type==="vehicle_part"&&s.variants?s.variants[0].symbols[0]:[s.symbol].flat()[0]??" ",c=/^LINE_/.test(f)?"|":f,u=s.color?typeof s.color=="string"?s.color:s.color[0]:s.bgcolor?ky(s.bgcolor):"white";function d(y){return["item","monster","terrain","furniture","vehicle_part"].includes(ai(y.type))}function b(y,E,C=10){function I(D){var Y;return E.type==="vehicle_part"?(Y=E.variants)!=null&&Y[0].id?`vp_${D}_${E.variants[0].id}`:`vp_${D}`:D}const A=wa(y,I(E.id??E.abstract));if(A)return A;const B=E.looks_like??E["copy-from"];if(!B)return;const L=wa(y,I(B));if(L)return L;if(C>0){const D=a.byIdMaybe(ai(E.type),B)??a.abstractById(ai(E.type),B);if(D)return b(y,D,C-1)}}function k(y,E,C){if(!y)return;const I=[E].flat()[0],A=I?/^LINE_/.test(I)?"|":I:" ",B=lf(Array.isArray(C)?C[0]:C).fg;for(const D of y["tiles-new"])for(const Y of D.ascii??[])if(L(Y.color)+(Y.bold?8:0)===B){const W=Y.offset+A.charCodeAt(0),H=W%D.nx,ne=W/D.nx|0;return{fg:{file:D.file,tx:H,ty:ne,width:y.tile_info[0].width,height:y.tile_info[0].height,offx:0,offy:0}}}function L(D){return D==="BLACK"?0:D==="RED"?1:D==="GREEN"?2:D==="YELLOW"?3:D==="BLUE"?4:D==="MAGENTA"?5:D==="CYAN"?6:D==="WHITE"?7:-1}}return r.$$set=y=>{"item"in y&&n(5,s=y.item)},r.$$.update=()=>{r.$$.dirty&64&&n(2,t=l==null?void 0:l.tile_info[0]),r.$$.dirty&96&&n(1,i=d(s)?b(l,s)??k(l,s.type==="vehicle_part"&&s.variants?s.variants[0].symbols[0]:s.symbol,s.color??"white"):null),r.$$.dirty&64&&n(0,o=l==null?void 0:l.baseUrl)},[o,i,t,c,u,s,l]}class Dt extends ht{constructor(e){super(),pt(this,e,lI,iI,mt,{item:5})}}function rI(r){let e,n,t=r[0].cooldown+"",i,o,l;return e=new ge({props:{type:"item",id:r[0].gun_type}}),{c(){q(e.$$.fragment),n=w(" (cooldown: "),i=w(t),o=w(")")},m(s,a){U(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),l=!0},p(s,[a]){const f={};a&1&&(f.id=s[0].gun_type),e.$set(f),(!l||a&1)&&t!==(t=s[0].cooldown+"")&&K(i,t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){G(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function oI(r,e,n){let{attack:t}=e;return r.$$set=i=>{"attack"in i&&n(0,t=i.attack)},[t]}class sI extends ht{constructor(e){super(),pt(this,e,oI,rI,mt,{attack:0})}}function fI(r){let e=r[0].id+"",n,t,i,o="damage_max_instance"in r[0]&&r[0].damage_max_instance&&Ea(r),l=r[0].cooldown&&Ta(r);return{c(){n=w(e),o&&o.c(),t=ue(),l&&l.c(),i=ue()},m(s,a){h(s,n,a),o&&o.m(s,a),h(s,t,a),l&&l.m(s,a),h(s,i,a)},p(s,a){a&1&&e!==(e=s[0].id+"")&&K(n,e),"damage_max_instance"in s[0]&&s[0].damage_max_instance?o?o.p(s,a):(o=Ea(s),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),s[0].cooldown?l?l.p(s,a):(l=Ta(s),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i:oe,o:oe,d(s){s&&p(n),o&&o.d(s),s&&p(t),l&&l.d(s),s&&p(i)}}}function aI(r){let e,n,t,i;const o=[_I,uI],l=[];function s(a,f){return a[0].type==="gun"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function cI(r){let e=r[0][0]+"",n,t,i=r[0].length>1&&Ca(r);return{c(){n=w(e),i&&i.c(),t=ue()},m(o,l){h(o,n,l),i&&i.m(o,l),h(o,t,l)},p(o,l){l&1&&e!==(e=o[0][0]+"")&&K(n,e),o[0].length>1?i?i.p(o,l):(i=Ca(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:oe,o:oe,d(o){o&&p(n),i&&i.d(o),o&&p(t)}}}function Ea(r){let e,n=ir(r[0].damage_max_instance).map(Ia).join(" ")+"",t;return{c(){e=w(`:
    `),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&1&&n!==(n=ir(i[0].damage_max_instance).map(Ia).join(" ")+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function Ta(r){let e=" ",n,t,i=r[0].cooldown+"",o,l;return{c(){n=w(e),t=w("(cooldown: "),o=w(i),l=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p(s,a){a&1&&i!==(i=s[0].cooldown+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function uI(r){let e=r[0].type+"",n,t,i=r[0].cooldown&&Sa(r);return{c(){n=w(e),i&&i.c(),t=ue()},m(o,l){h(o,n,l),i&&i.m(o,l),h(o,t,l)},p(o,l){l&1&&e!==(e=o[0].type+"")&&K(n,e),o[0].cooldown?i?i.p(o,l):(i=Sa(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},i:oe,o:oe,d(o){o&&p(n),i&&i.d(o),o&&p(t)}}}function _I(r){let e,n;return e=new sI({props:{attack:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.attack=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Sa(r){let e=" ",n,t,i=r[0].cooldown+"",o,l;return{c(){n=w(e),t=w("(cooldown: "),o=w(i),l=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p(s,a){a&1&&i!==(i=s[0].cooldown+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function Ca(r){let e=" ",n,t,i=r[0][1]+"",o,l;return{c(){n=w(e),t=w("(cooldown: "),o=w(i),l=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p(s,a){a&1&&i!==(i=s[0][1]+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function dI(r){let e,n,t,i,o;const l=[cI,aI,fI],s=[];function a(f,c){return c&1&&(e=null),e==null&&(e=!!Array.isArray(f[0])),e?0:"type"in f[0]?1:"id"in f[0]?2:-1}return~(n=a(r,-1))&&(t=s[n]=l[n](r)),{c(){t&&t.c(),i=ue()},m(f,c){~n&&s[n].m(f,c),h(f,i,c),o=!0},p(f,[c]){let u=n;n=a(f,c),n===u?~n&&s[n].p(f,c):(t&&(fe(),$(s[u],1,1,()=>{s[u]=null}),ae()),~n?(t=s[n],t?t.p(f,c):(t=s[n]=l[n](f),t.c()),g(t,1),t.m(i.parentNode,i)):t=null)},i(f){o||(g(t),o=!0)},o(f){$(t),o=!1},d(f){~n&&s[n].d(f),f&&p(i)}}}const Ia=r=>`(${r.damage_type} for ${r.amount} damage)`;function mI(r,e,n){let{special_attack:t}=e;return r.$$set=i=>{"special_attack"in i&&n(0,t=i.special_attack)},[t]}class pI extends ht{constructor(e){super(),pt(this,e,mI,dI,mt,{special_attack:0})}}function hI(r){let e;const n=r[3].default,t=ki(n,r,r[2],null);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&4)&&wi(t,n,i,i[2],e?vi(n,i[2],o,null):Ei(i[2]),null)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function gI(r){let e,n,t,i;const o=[$I,bI],l=[];function s(a,f){return a[0]?1:0}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function bI(r){let e,n,t;const i=r[3].default,o=ki(i,r,r[2],null);return{c(){e=m("p"),e.textContent=`${O.t("You cheated not only the game, but yourself. You didn't grow. You didn't improve. You took a shortcut and gained nothing. You experienced a hollow victory. Nothing was risked and nothing was gained. It's sad that you don't know the difference.")}`,n=R(),o&&o.c(),bt(e,"font-style","italic"),bt(e,"color","var(--cata-color-gray)")},m(l,s){h(l,e,s),h(l,n,s),o&&o.m(l,s),t=!0},p(l,s){o&&o.p&&(!t||s&4)&&wi(o,i,l,l[2],t?vi(i,l[2],s,null):Ei(l[2]),null)},i(l){t||(g(o,l),t=!0)},o(l){$(o,l),t=!1},d(l){l&&p(e),l&&p(n),o&&o.d(l)}}}function $I(r){let e,n,t,i,o,l,s,a;return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Spoiler Warning")}`,t=R(),i=m("p"),i.textContent=`${O.t("This page contains spoilers for Cataclysm: Dark Days Ahead. If you are new to the game, it is recommended that you do not read this page. If you are a veteran player, you may find this page useful.")}`,o=R(),l=m("button"),l.textContent=`${O.t("Reveal Spoilers")}`,bt(i,"font-style","italic"),bt(i,"color","var(--cata-color-gray)"),le(l,"class","disclosure")},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i),_(e,o),_(e,l),s||(a=Di(l,"click",r[4]),s=!0)},p:oe,i:oe,o:oe,d(f){f&&p(e),s=!1,a()}}}function yI(r){let e,n,t,i;const o=[gI,hI],l=[];function s(a,f){return a[1]?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,[f]){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function kI(r,e,n){let{$$slots:t={},$$scope:i}=e;const o=typeof globalThis!==void 0&&(globalThis==null?void 0:globalThis.__isTesting__);let{spoily:l=!1}=e,{revealed:s=o}=e;const a=()=>n(0,s=!0);return r.$$set=f=>{"spoily"in f&&n(1,l=f.spoily),"revealed"in f&&n(0,s=f.revealed),"$$scope"in f&&n(2,i=f.$$scope)},[s,l,i,t,a]}class vI extends ht{constructor(e){super(),pt(this,e,kI,yI,mt,{spoily:1,revealed:0})}}function Oa(r,e,n){const t=r.slice();return t[5]=e[n].color,t[6]=e[n].string,t}function Ra(r){let e,n=r[6]+"",t,i;return{c(){e=m("span"),t=w(n),bt(e,"color","var(--cata-color-"+r[2](r[5])+")"),le(e,"class",i=r[0]?"fg_only":"")},m(o,l){h(o,e,l),_(e,t)},p(o,l){l&1&&i!==(i=o[0]?"fg_only":"")&&le(e,"class",i)},d(o){o&&p(e)}}}function wI(r){let e,n=r[1],t=[];for(let i=0;i<n.length;i+=1)t[i]=Ra(Oa(r,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=ue()},m(i,o){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(i,o);h(i,e,o)},p(i,[o]){if(o&7){n=i[1];let l;for(l=0;l<n.length;l+=1){const s=Oa(i,n,l);t[l]?t[l].p(s,o):(t[l]=Ra(s),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},i:oe,o:oe,d(i){ye(t,i),i&&p(e)}}}function EI(r){let e=["gray"];const n=[];let t=r;for(;;){const i=t.match(/<\/?(info|good|bad|neutral|color|color_[^>]+)>/);if(i&&i.index!=null)i.index>0&&n.push({string:t.substring(0,i.index),color:e[0]}),i[0][1]==="/"&&e.length>1?e.shift():e.unshift(i[1]),t=t.substring(i.index+i[0].length);else break}return t.length&&n.push({string:t,color:e[0]}),n}function TI(r,e,n){let{text:t}=e,{fgOnly:i=!1}=e;const o=EI(t??""),l={info:"cyan",good:"green",bad:"red",neutral:"yellow"},s=a=>{if(a in l)return l[a];const f=/^color_(.+)$/.exec(a);return f?f[1]:"gray"};return r.$$set=a=>{"text"in a&&n(3,t=a.text),"fgOnly"in a&&n(0,i=a.fgOnly)},[i,o,s,t]}class Mr extends ht{constructor(e){super(),pt(this,e,TI,wI,mt,{text:3,fgOnly:0})}}function Aa(r,e,n){const t=r.slice();return t[8]=e[n],t}const SI=r=>({item:r&3}),Na=r=>({item:r[8]}),CI=r=>({}),Ba=r=>({});function Ma(r){let e;const n=r[5].item,t=ki(n,r,r[4],Na);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&19)&&wi(t,n,i,i[4],e?vi(n,i[4],o,SI):Ei(i[4]),Na)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function Da(r){let e,n=O.t("See all {n}...",{n:Number(r[0].length).toLocaleString()})+"",t,i,o;return{c(){e=m("button"),t=w(n),le(e,"class","disclosure")},m(l,s){h(l,e,s),_(e,t),i||(o=Di(e,"click",r[6]),i=!0)},p(l,s){s&1&&n!==(n=O.t("See all {n}...",{n:Number(l[0].length).toLocaleString()})+"")&&K(t,n)},d(l){l&&p(e),i=!1,o()}}}function II(r){let e,n,t,i,o,l;const s=r[5].header,a=ki(s,r,r[4],Ba);let f=r[0].slice(0,r[1]),c=[];for(let b=0;b<f.length;b+=1)c[b]=Ma(Aa(r,f,b));const u=b=>$(c[b],1,1,()=>{c[b]=null});let d=r[0].length>r[1]&&Da(r);return{c(){e=m("table"),a&&a.c(),n=R(),t=m("tbody");for(let b=0;b<c.length;b+=1)c[b].c();i=R(),d&&d.c(),o=ue(),le(e,"class","svelte-raxu0d")},m(b,k){h(b,e,k),a&&a.m(e,null),_(e,n),_(e,t);for(let y=0;y<c.length;y+=1)c[y]&&c[y].m(t,null);h(b,i,k),d&&d.m(b,k),h(b,o,k),l=!0},p(b,[k]){if(a&&a.p&&(!l||k&16)&&wi(a,s,b,b[4],l?vi(s,b[4],k,CI):Ei(b[4]),Ba),k&19){f=b[0].slice(0,b[1]);let y;for(y=0;y<f.length;y+=1){const E=Aa(b,f,y);c[y]?(c[y].p(E,k),g(c[y],1)):(c[y]=Ma(E),c[y].c(),g(c[y],1),c[y].m(t,null))}for(fe(),y=f.length;y<c.length;y+=1)u(y);ae()}b[0].length>b[1]?d?d.p(b,k):(d=Da(b),d.c(),d.m(o.parentNode,o)):d&&(d.d(1),d=null)},i(b){if(!l){g(a,b);for(let k=0;k<f.length;k+=1)g(c[k]);l=!0}},o(b){$(a,b),c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)$(c[k]);l=!1},d(b){b&&p(e),a&&a.d(b),ye(c,b),b&&p(i),d&&d.d(b),b&&p(o)}}}function OI(r,e,n){let{$$slots:t={},$$scope:i}=e,{items:o}=e,{limit:l=10}=e,{grace:s=4}=e,f=typeof globalThis!==void 0&&(globalThis==null?void 0:globalThis.__isTesting__)?1/0:o.length<=l+s?l+s:l;const c=u=>{u.preventDefault(),n(1,f=1/0)};return r.$$set=u=>{"items"in u&&n(0,o=u.items),"limit"in u&&n(2,l=u.limit),"grace"in u&&n(3,s=u.grace),"$$scope"in u&&n(4,i=u.$$scope)},[o,f,l,s,i,t,c]}class Cf extends ht{constructor(e){super(),pt(this,e,OI,II,mt,{items:0,limit:2,grace:3})}}function Dr(r){return ro(r*100)+"%"}function ro(r){const e=r.toFixed(2);return e==="0.00"?"< 0.01":e}function RI(r){let e=new Map;for(const[n,t]of r){const i=e.get(n)??[];i.push(t),e.set(n,i)}return e}function If(r,e){const n=new Map;for(const t of r){const i=e(t);for(const o of i)n.has(o)||n.set(o,[]),n.get(o).push(t)}return n}function AI(r,e=n=>n){const n=new Set,t=[];for(const i of r){const o=e(i);n.has(o)||t.push(i),n.add(o)}return t}function La(r){const e=r[3].byId(r[0],r[5]);r[7]=e}function Cs(r){const e=r.slice(),n=[...e[2].entries()].sort((t,i)=>(i[1].prob*100).toFixed(2)===(t[1].prob*100).toFixed(2)?i[1].expected-t[1].expected:i[1].prob-t[1].prob);return e[4]=n,e}function NI(r){return{c:oe,m:oe,p:oe,i:oe,o:oe,d:oe}}function BI(r){let e,n,t=r[2].size&&Fa(Cs(r));return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,o){i[2].size?t?(t.p(Cs(i),o),o&4&&g(t,1)):(t=Fa(Cs(i)),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(fe(),$(t,1,1,()=>{t=null}),ae())},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function Fa(r){let e,n,t;return n=new Cf({props:{items:r[4],$$slots:{item:[DI,({item:[i,o]})=>({5:i,6:o}),({item:i})=>(i?32:0)|(i?64:0)],header:[MI]},$$scope:{ctx:r}}}),{c(){e=m("section"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&4&&(l.items=i[4]),o&355&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function MI(r){let e,n,t,i,o,l,s,a,f,c;return{c(){e=m("tr"),n=m("th"),t=m("h1"),i=w(r[1]),o=R(),l=m("th"),s=m("h1"),s.textContent=`${O.t("Avg. Count",{_context:"Loot Table",_comment:"Column heading in a table: average number of an item found in a location/vehicle, dropped by a monster, etc."})}`,a=R(),f=m("th"),c=m("h1"),c.textContent=`${O.t("Chance",{_context:"Loot Table",_comment:"Column heading in a table: chance that at least one of an item is found in a location/vehicle, dropped by a monster, etc."})}`,le(n,"colspan","2"),le(n,"class","svelte-1wim6bd"),le(l,"class","numeric svelte-1wim6bd"),le(f,"class","numeric svelte-1wim6bd"),le(e,"slot","header")},m(u,d){h(u,e,d),_(e,n),_(n,t),_(t,i),_(e,o),_(e,l),_(l,s),_(e,a),_(e,f),_(f,c)},p(u,d){d&2&&K(i,u[1])},d(u){u&&p(e)}}}function DI(r){La(r);let e,n,t,i,o,l,s,a,f=ro(r[6].expected)+"",c,u,d,b=Dr(r[6].prob)+"",k,y;return t=new Dt({props:{item:r[7]}}),l=new ge({props:{type:r[0],id:r[5]}}),{c(){e=m("tr"),n=m("td"),q(t.$$.fragment),i=R(),o=m("td"),q(l.$$.fragment),s=R(),a=m("td"),c=w(f),u=R(),d=m("td"),k=w(b),le(n,"class","svelte-1wim6bd"),bt(o,"padding-left","5px"),le(o,"class","svelte-1wim6bd"),le(a,"class","numeric svelte-1wim6bd"),le(d,"class","numeric svelte-1wim6bd"),le(e,"slot","item")},m(E,C){h(E,e,C),_(e,n),U(t,n,null),_(e,i),_(e,o),U(l,o,null),_(e,s),_(e,a),_(a,c),_(e,u),_(e,d),_(d,k),y=!0},p(E,C){La(E);const I={};C&33&&(I.item=E[7]),t.$set(I);const A={};C&1&&(A.type=E[0]),C&32&&(A.id=E[5]),l.$set(A),(!y||C&64)&&f!==(f=ro(E[6].expected)+"")&&K(c,f),(!y||C&64)&&b!==(b=Dr(E[6].prob)+"")&&K(k,b)},i(E){y||(g(t.$$.fragment,E),g(l.$$.fragment,E),y=!0)},o(E){$(t.$$.fragment,E),$(l.$$.fragment,E),y=!1},d(E){E&&p(e),G(t),G(l)}}}function LI(r){let e,n,t,i,o,l;return{c(){e=m("section"),n=m("h1"),t=w(r[1]),i=R(),o=m("p"),l=m("em"),l.textContent=`${O.t("Loading...")}`,bt(o,"color","var(--cata-color-gray)"),le(o,"data-testid","loading-indicator")},m(s,a){h(s,e,a),_(e,n),_(n,t),_(e,i),_(e,o),_(o,l)},p(s,a){a&2&&K(t,s[1])},i:oe,o:oe,d(s){s&&p(e)}}}function FI(r){let e,n,t,i={ctx:r,current:null,token:null,hasCatch:!1,pending:LI,then:BI,catch:NI,value:2,blocks:[,,,]};return jo(n=Promise.resolve(r[2]),i),{c(){e=ue(),i.block.c()},m(o,l){h(o,e,l),i.block.m(o,i.anchor=l),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(o,[l]){r=o,i.ctx=r,l&4&&n!==(n=Promise.resolve(r[2]))&&jo(n,i)||cy(i,r,l)},i(o){t||(g(i.block),t=!0)},o(o){for(let l=0;l<3;l+=1){const s=i.blocks[l];$(s)}t=!1},d(o){o&&p(e),i.block.d(o),i.token=null,i=null}}}function PI(r,e,n){let{loot:t}=e,{type:i="item"}=e,{heading:o=i==="furniture"?O.t("Furniture",{_context:"Loot Table"}):i==="terrain"?O.t("Terrain",{_context:"Loot Table"}):O.t("Loot",{_context:"Loot Table"})}=e;const l=jt("data");return r.$$set=s=>{"loot"in s&&n(2,t=s.loot),"type"in s&&n(0,i=s.type),"heading"in s&&n(1,o=s.heading)},[i,o,t,l]}class Er extends ht{constructor(e){super(),pt(this,e,PI,FI,mt,{loot:2,type:0,heading:1})}}function Pa(r,e,n){const t=r.slice();return t[14]=e[n],t}function ja(r,e,n){const t=r.slice();return t[17]=e[n].id,t[18]=e[n].prob,t}function Ua(r,e,n){const t=r.slice();return t[14]=e[n],t}function Ga(r,e,n){const t=r.slice();return t[17]=e[n].id,t[18]=e[n].prob,t}function qa(r,e,n){const t=r.slice();return t[25]=e[n],t}function Ya(r,e,n){const t=r.slice();return t[28]=e[n],t}function Ha(r,e,n){const t=r.slice();return t[31]=e[n],t}function za(r,e,n){const t=r.slice();return t[31]=e[n],t}function Wa(r,e,n){const t=r.slice();return t[31]=e[n],t}function Va(r,e,n){const t=r.slice();t[38]=e[n][0],t[39]=e[n][1];const i=t[1].byIdMaybe("damage_type",t[38]);return t[40]=i,t}function Ja(r,e,n){const t=r.slice();return t[43]=e[n],t}function Xa(r,e,n){const t=r.slice();return t[17]=e[n],t}function Ka(r){let e,n,t=r[0].bodytype+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Body Type",{_context:vn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].bodytype+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Za(r){let e,n,t=[r[0].species??[]].flat().join(", ")+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Species",{_context:vn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=[o[0].species??[]].flat().join(", ")+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function jI(r){let e,n,t,i,o,l=r[8],s=[];for(let f=0;f<l.length;f+=1)s[f]=Qa(Xa(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Material")}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&256){l=f[8];let u;for(u=0;u<l.length;u+=1){const d=Xa(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Qa(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Qa(r){let e,n,t;return n=new ge({props:{type:"material",id:r[17]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function xa(r){let e,n=Yt(r[0].description)+"",t;return{c(){e=m("p"),t=w(n),bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),_(e,t)},p(i,o){o[0]&1&&n!==(n=Yt(i[0].description)+"")&&K(t,n)},d(i){i&&p(e)}}}function ec(r){let e,n,t,i,o=r[0].special_attacks,l=[];for(let a=0;a<o.length;a+=1)l[a]=tc(Ja(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Special Attacks",{_context:vn})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","no-bullets")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f[0]&3){o=a[0].special_attacks;let c;for(c=0;c<o.length;c+=1){const u=Ja(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=tc(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function UI(r){let e,n;return e=new pI({props:{special_attack:r[43]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.special_attack=t[43]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function GI(r){let e,n;return e=new ge({props:{type:"monster_attack",id:r[43][0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.id=t[43][0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function tc(r){let e,n,t,i,o,l;const s=[GI,UI],a=[];function f(c,u){return u[0]&1&&(n=null),n==null&&(n=!!(Array.isArray(c[43])&&c[43][0]&&c[1].byIdMaybe("monster_attack",c[43][0]))),n?0:1}return t=f(r,[-1,-1]),i=a[t]=s[t](r),{c(){e=m("li"),i.c(),o=R()},m(c,u){h(c,e,u),a[t].m(e,null),_(e,o),l=!0},p(c,u){let d=t;t=f(c,u),t===d?a[t].p(c,u):(fe(),$(a[d],1,1,()=>{a[d]=null}),ae(),i=a[t],i?i.p(c,u):(i=a[t]=s[t](c),i.c()),g(i,1),i.m(e,o))},i(c){l||(g(i),l=!0)},o(c){$(i),l=!1},d(c){c&&p(e),a[t].d()}}}function nc(r){let e,n,t=r[0].regenerates+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Regenerates",{_context:vn})}`,n=m("dd"),i=w(t),o=w(" hp/turn")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p(l,s){s[0]&1&&t!==(t=l[0].regenerates+"")&&K(i,t)},d(l){l&&p(e),l&&p(n)}}}function qI(r){let e,n,t,i,o=(r[0].armor_bash??0)+"",l,s,a,f=(r[0].armor_cut??0)+"",c,u,d,b=(r[0].armor_stab??Math.floor((r[0].armor_cut??0)*.8))+"",k,y,E,C,I=(r[0].armor_bullet??0)+"",A,B,L,D=(r[0].armor_acid??Math.floor((r[0].armor_cut??0)*.5))+"",Y,z,W,H,ne=(r[0].armor_fire??0)+"",M,X;return{c(){e=m("dd"),n=m("dl"),t=m("dt"),t.textContent=`${O.t("Bash",{_context:"Damage Type"})}`,i=m("dd"),l=w(o),s=m("dt"),s.textContent=`${O.t("Cut",{_context:"Damage Type"})}`,a=m("dd"),c=w(f),u=m("dt"),u.textContent=`${O.t("Stab",{_context:"Damage Type"})}`,d=m("dd"),k=w(b),y=R(),E=m("dt"),E.textContent=`${O.t("Ballistic",{_context:"Damage Type"})}`,C=m("dd"),A=w(I),B=m("dt"),B.textContent=`${O.t("Acid",{_context:"Damage Type"})}`,L=m("dd"),Y=w(D),z=R(),W=m("dt"),W.textContent=`${O.t("Heat",{_context:"Damage Type"})}`,H=m("dd"),M=w(ne),X=R()},m(te,F){h(te,e,F),_(e,n),_(n,t),_(n,i),_(i,l),_(n,s),_(n,a),_(a,c),_(n,u),_(n,d),_(d,k),_(d,y),_(n,E),_(n,C),_(C,A),_(n,B),_(n,L),_(L,Y),_(L,z),_(n,W),_(n,H),_(H,M),_(e,X)},p(te,F){F[0]&1&&o!==(o=(te[0].armor_bash??0)+"")&&K(l,o),F[0]&1&&f!==(f=(te[0].armor_cut??0)+"")&&K(c,f),F[0]&1&&b!==(b=(te[0].armor_stab??Math.floor((te[0].armor_cut??0)*.8))+"")&&K(k,b),F[0]&1&&I!==(I=(te[0].armor_bullet??0)+"")&&K(A,I),F[0]&1&&D!==(D=(te[0].armor_acid??Math.floor((te[0].armor_cut??0)*.5))+"")&&K(Y,D),F[0]&1&&ne!==(ne=(te[0].armor_fire??0)+"")&&K(M,ne)},d(te){te&&p(e)}}}function YI(r){let e,n,t,i=Object.entries(r[2](r[0].armor)),o=[];for(let l=0;l<i.length;l+=1)o[l]=lc(Va(r,i,l));return{c(){e=m("dd"),n=m("dl");for(let l=0;l<o.length;l+=1)o[l].c();t=R()},m(l,s){h(l,e,s),_(e,n);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(n,null);_(e,t)},p(l,s){if(s[0]&7){i=Object.entries(l[2](l[0].armor));let a;for(a=0;a<i.length;a+=1){const f=Va(l,i,a);o[a]?o[a].p(f,s):(o[a]=lc(f),o[a].c(),o[a].m(n,null))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}},d(l){l&&p(e),ye(o,l)}}}function ic(r){let e,n=He(r[40]??{id:r[38]})+"",t,i,o=r[39].toFixed(1)+"",l;return{c(){e=m("dt"),t=w(n),i=m("dd"),l=w(o)},m(s,a){h(s,e,a),_(e,t),h(s,i,a),_(i,l)},p(s,a){a[0]&1&&n!==(n=He(s[40]??{id:s[38]})+"")&&K(t,n),a[0]&1&&o!==(o=s[39].toFixed(1)+"")&&K(l,o)},d(s){s&&p(e),s&&p(i)}}}function lc(r){let e,n=r[39]&&ic(r);return{c(){n&&n.c(),e=ue()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,i){t[39]?n?n.p(t,i):(n=ic(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&p(e)}}}function rc(r){let e,n,t=r[0].special_when_hit[0]+"",i,o,l=r[0].special_when_hit[1]+"",s,a;return{c(){e=m("dt"),e.textContent=`${O.t("When Hit",{_context:vn})}`,n=m("dd"),i=w(t),o=w(" ("),s=w(l),a=w("%)")},m(f,c){h(f,e,c),h(f,n,c),_(n,i),_(n,o),_(n,s),_(n,a)},p(f,c){c[0]&1&&t!==(t=f[0].special_when_hit[0]+"")&&K(i,t),c[0]&1&&l!==(l=f[0].special_when_hit[1]+"")&&K(s,l)},d(f){f&&p(e),f&&p(n)}}}function oc(r){let e,n,t,i,o=r[0].anger_triggers,l=[];for(let s=0;s<o.length;s+=1)l[s]=sc(Wa(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Anger Triggers",{_context:vn})}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a[0]&129){o=s[0].anger_triggers;let f;for(f=0;f<o.length;f+=1){const c=Wa(s,o,f);l[f]?l[f].p(c,a):(l[f]=sc(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function sc(r){let e,n,t=r[31]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),le(n,"title",o=r[7][r[31]])},m(l,s){h(l,e,s),_(e,n),_(n,i)},p(l,s){s[0]&1&&t!==(t=l[31]+"")&&K(i,t),s[0]&1&&o!==(o=l[7][l[31]])&&le(n,"title",o)},d(l){l&&p(e)}}}function fc(r){let e,n,t,i,o=r[0].placate_triggers,l=[];for(let s=0;s<o.length;s+=1)l[s]=ac(za(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Placate Triggers",{_context:vn})}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a[0]&129){o=s[0].placate_triggers;let f;for(f=0;f<o.length;f+=1){const c=za(s,o,f);l[f]?l[f].p(c,a):(l[f]=ac(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function ac(r){let e,n,t=r[31]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),le(n,"title",o=r[7][r[31]])},m(l,s){h(l,e,s),_(e,n),_(n,i)},p(l,s){s[0]&1&&t!==(t=l[31]+"")&&K(i,t),s[0]&1&&o!==(o=l[7][l[31]])&&le(n,"title",o)},d(l){l&&p(e)}}}function cc(r){let e,n,t,i,o=r[0].fear_triggers,l=[];for(let s=0;s<o.length;s+=1)l[s]=uc(Ha(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Fear Triggers",{_context:vn})}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a[0]&129){o=s[0].fear_triggers;let f;for(f=0;f<o.length;f+=1){const c=Ha(s,o,f);l[f]?l[f].p(c,a):(l[f]=uc(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function uc(r){let e,n,t=r[31]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),le(n,"title",o=r[7][r[31]])},m(l,s){h(l,e,s),_(e,n),_(n,i)},p(l,s){s[0]&1&&t!==(t=l[31]+"")&&K(i,t),s[0]&1&&o!==(o=l[7][l[31]])&&le(n,"title",o)},d(l){l&&p(e)}}}function _c(r){let e,n,t,i,o=r[0].flags??[],l=[];for(let s=0;s<o.length;s+=1)l[s]=dc(Ya(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Flags")}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a[0]&65){o=s[0].flags??[];let f;for(f=0;f<o.length;f+=1){const c=Ya(s,o,f);l[f]?l[f].p(c,a):(l[f]=dc(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function dc(r){let e,n,t=r[28]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),le(n,"title",o=r[6][r[28]])},m(l,s){h(l,e,s),_(e,n),_(n,i)},p(l,s){s[0]&1&&t!==(t=l[28]+"")&&K(i,t),s[0]&1&&o!==(o=l[6][l[28]])&&le(n,"title",o)},d(l){l&&p(e)}}}function mc(r){let e,n,t,i;function o(a,f){var c;return f[0]&1&&(t=null),t==null&&(t=!!((c=a[0].death_function.effect)!=null&&c.id&&a[1].byIdMaybe("SPELL",a[0].death_function.effect.id))),t?zI:HI}let l=o(r,[-1,-1]),s=l(r);return{c(){e=m("dt"),e.textContent=`${O.t("On Death",{_context:vn})}`,n=m("dd"),s.c(),i=R()},m(a,f){h(a,e,f),h(a,n,f),s.m(n,null),_(n,i)},p(a,f){l===(l=o(a,f))&&s?s.p(a,f):(s.d(1),s=l(a),s&&(s.c(),s.m(n,i)))},d(a){a&&p(e),a&&p(n),s.d()}}}function HI(r){var t;let e=(((t=r[0].death_function.effect)==null?void 0:t.id)??r[0].death_function.corpse_type??"NORMAL")+"",n;return{c(){n=w(e)},m(i,o){h(i,n,o)},p(i,o){var l;o[0]&1&&e!==(e=(((l=i[0].death_function.effect)==null?void 0:l.id)??i[0].death_function.corpse_type??"NORMAL")+"")&&K(n,e)},d(i){i&&p(n)}}}function zI(r){let e=He(r[1].byId("SPELL",r[0].death_function.effect.id))+"",n,t,i=Yt(r[1].byId("SPELL",r[0].death_function.effect.id).description)+"",o,l;return{c(){n=w(e),t=w(" ("),o=w(i),l=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p(s,a){a[0]&1&&e!==(e=He(s[1].byId("SPELL",s[0].death_function.effect.id))+"")&&K(n,e),a[0]&1&&i!==(i=Yt(s[1].byId("SPELL",s[0].death_function.effect.id).description)+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function WI(r){let e,n,t,i,o,l=r[12].monsters,s=[];for(let d=0;d<l.length;d+=1)s[d]=pc(qa(r,l,d));const a=d=>$(s[d],1,1,()=>{s[d]=null});function f(d,b){if(d[12].age_grow)return JI;if(d[12].half_life)return VI}let c=f(r),u=c&&c(r);return{c(){e=m("dt"),e.textContent=`${O.t("Upgrades Into",{_context:vn})}`,n=m("dd"),t=m("ul");for(let d=0;d<s.length;d+=1)s[d].c();i=R(),u&&u.c(),le(t,"class","comma-separated or")},m(d,b){h(d,e,b),h(d,n,b),_(n,t);for(let k=0;k<s.length;k+=1)s[k]&&s[k].m(t,null);_(n,i),u&&u.m(n,null),o=!0},p(d,b){if(b[0]&4096){l=d[12].monsters;let k;for(k=0;k<l.length;k+=1){const y=qa(d,l,k);s[k]?(s[k].p(y,b),g(s[k],1)):(s[k]=pc(y),s[k].c(),g(s[k],1),s[k].m(t,null))}for(fe(),k=l.length;k<s.length;k+=1)a(k);ae()}u&&u.p(d,b)},i(d){if(!o){for(let b=0;b<l.length;b+=1)g(s[b]);o=!0}},o(d){s=s.filter(Boolean);for(let b=0;b<s.length;b+=1)$(s[b]);o=!1},d(d){d&&p(e),d&&p(n),ye(s,d),u&&u.d()}}}function pc(r){let e,n,t;return n=new ge({props:{type:"monster",id:r[25]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function VI(r){let e=O.t("with a half-life of {half_life} {half_life, plural, =1 {day} other {days}}",{_context:vn,half_life:r[12].half_life})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function JI(r){let e=O.t("in {days} {days, plural, =1 {day} other {days}}",{_context:vn,days:r[12].age_grow})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function XI(r){let e,n;return e=new Er({props:{loot:r[9],heading:O.t("Drops")}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function KI(r){let e,n,t,i,o,l=r[10].entries,s=[];for(let f=0;f<l.length;f+=1)s[f]=gc(Ua(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Butchering Results",{_context:vn})}`,t=R(),i=m("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c[0]&1026){l=f[10].entries;let u;for(u=0;u<l.length;u+=1){const d=Ua(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=gc(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function ZI(r){let e,n,t,i,o,l;return n=new Dt({props:{item:r[1].byId("item",r[14].drop)}}),i=new ge({props:{type:"item",id:r[14].drop}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),_(e,t),U(i,e,null),_(e,o),l=!0},p:oe,i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),G(i)}}}function QI(r){let e,n,t=r[1].flattenTopLevelItemGroup(r[1].byId("item_group",r[14].drop)),i=[];for(let l=0;l<t.length;l+=1)i[l]=hc(Ga(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,s){if(s[0]&1026){t=l[1].flattenTopLevelItemGroup(l[1].byId("item_group",l[14].drop));let a;for(a=0;a<t.length;a+=1){const f=Ga(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=hc(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}function hc(r){let e,n,t,i,o,l=(r[18]*100).toFixed(2)+"",s,a,f;return n=new Dt({props:{item:r[1].byId("item",r[17])}}),i=new ge({props:{type:"item",id:r[17]}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=w(" ("),s=w(l),a=w(`%)
              `)},m(c,u){h(c,e,u),U(n,e,null),_(e,t),U(i,e,null),_(e,o),_(e,s),_(e,a),f=!0},p:oe,i(c){f||(g(n.$$.fragment,c),g(i.$$.fragment,c),f=!0)},o(c){$(n.$$.fragment,c),$(i.$$.fragment,c),f=!1},d(c){c&&p(e),G(n),G(i)}}}function gc(r){let e,n,t,i;const o=[QI,ZI],l=[];function s(a,f){var c;return a[14].type&&((c=a[1].byIdMaybe("harvest_drop_type",a[14].type))!=null&&c.group)||a[14].type==="bionic_group"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function xI(r){let e,n,t,i,o,l=r[11].entries,s=[];for(let f=0;f<l.length;f+=1)s[f]=$c(Pa(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Dissection Results",{_context:vn})}`,t=R(),i=m("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c[0]&2050){l=f[11].entries;let u;for(u=0;u<l.length;u+=1){const d=Pa(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=$c(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function eO(r){let e,n,t,i,o,l;return n=new Dt({props:{item:r[1].byId("item",r[14].drop)}}),i=new ge({props:{type:"item",id:r[14].drop}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),_(e,t),U(i,e,null),_(e,o),l=!0},p:oe,i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),G(i)}}}function tO(r){let e,n,t=r[1].flattenTopLevelItemGroup(r[1].byId("item_group",r[14].drop)).sort(yc),i=[];for(let l=0;l<t.length;l+=1)i[l]=bc(ja(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,s){if(s[0]&2050){t=l[1].flattenTopLevelItemGroup(l[1].byId("item_group",l[14].drop)).sort(yc);let a;for(a=0;a<t.length;a+=1){const f=ja(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=bc(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}function bc(r){let e,n,t,i,o,l=(r[18]*100).toFixed(2)+"",s,a,f;return n=new Dt({props:{item:r[1].byId("item",r[17])}}),i=new ge({props:{type:"item",id:r[17]}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=w(" ("),s=w(l),a=w(`%)
              `)},m(c,u){h(c,e,u),U(n,e,null),_(e,t),U(i,e,null),_(e,o),_(e,s),_(e,a),f=!0},p:oe,i(c){f||(g(n.$$.fragment,c),g(i.$$.fragment,c),f=!0)},o(c){$(n.$$.fragment,c),$(i.$$.fragment,c),f=!1},d(c){c&&p(e),G(n),G(i)}}}function $c(r){let e,n,t,i;const o=[tO,eO],l=[];function s(a,f){var c;return a[14].type&&((c=a[1].byId("harvest_drop_type",a[14].type))!=null&&c.group)||a[14].type==="bionic_group"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function nO(r){var tn,Mt,Qt,sn;let e,n,t,i,o,l,s,a=(r[0].speed??0)+"",f,c,u,d=(r[0].melee_skill??0)+"",b,k,y,E=r[5](r[0])+"",C,I,A,B,L,D,Y,z,W=r[0].hp+"",H,ne,M,X=(r[0].dodge??0)+"",te,F,j,Z,x,Q,V,ie,_e,re,ee=(r[0].aggression??0)+"",ce,Ee,we,De=(r[0].morale??0)+"",ze,We,Ve,Qe=(r[0].vision_day??40)+"",ve,Te,Ce=O.t("day",{_context:vn})+"",it,Be,et=(r[0].vision_night??1)+"",xe,At,wt=O.t("night",{_context:vn})+"",st,Ut,$t,_t,Ue=r[0].default_faction+"",ke,Ke,Lt,Rt,Ct,pe,$e,Ae,de,Ge,Oe,dt=r[0].special_attacks&&ec(r),Ie=r[0].regenerates&&nc(r);function at(Xe,Et){return Xe[0].armor?YI:qI}let Ze=at(r),Me=Ze(r),je=r[0].special_when_hit&&rc(r),ot=((tn=r[0].anger_triggers)==null?void 0:tn.length)&&oc(r),rt=((Mt=r[0].placate_triggers)==null?void 0:Mt.length)&&fc(r),Bt=((Qt=r[0].fear_triggers)==null?void 0:Qt.length)&&cc(r),Ot=((sn=r[0].flags)==null?void 0:sn.length)&&_c(r),Pe=r[0].death_function&&mc(r),Je=r[12]&&WI(r),ft=r[9].size&&XI(r),Se=r[10]&&(r[10].entries??[]).length&&KI(r),ct=r[11]&&(r[11].entries??[]).length&&xI(r);return{c(){e=m("div"),n=m("section"),t=m("h1"),t.textContent=`${O.t("Attack",{_context:vn,_comment:"Section heading"})}`,i=R(),o=m("dl"),l=m("dt"),l.textContent=`${O.t("Speed",{_context:vn})}`,s=m("dd"),f=w(a),c=m("dt"),c.textContent=`${O.t("Melee Skill",{_context:vn})}`,u=m("dd"),b=w(d),k=m("dt"),k.textContent=`${O.t("Damage",{_context:vn})}`,y=m("dd"),C=w(E),dt&&dt.c(),I=R(),A=m("section"),B=m("h1"),B.textContent=`${O.t("Defense",{_context:vn,_comment:"Section heading"})}`,L=R(),D=m("dl"),Y=m("dt"),Y.textContent=`${O.t("HP",{_context:vn})}`,z=m("dd"),H=w(W),Ie&&Ie.c(),ne=m("dt"),ne.textContent=`${O.t("Dodge",{_context:vn})}`,M=m("dd"),te=w(X),F=m("dt"),F.textContent=`${O.t("Armor",{_context:vn})}`,Me.c(),j=ue(),je&&je.c(),Z=R(),x=m("section"),Q=m("h1"),Q.textContent=`${O.t("Behavior",{_context:vn,_comment:"Section heading"})}`,V=R(),ie=m("dl"),_e=m("dt"),_e.textContent=`${O.t("Aggression",{_context:vn})} 
      `,re=m("dd"),ce=w(ee),Ee=m("dt"),Ee.textContent=`${O.t("Morale",{_context:vn})} 
      `,we=m("dd"),ze=w(De),We=m("dt"),We.textContent=`${O.t("Vision Range",{_context:vn})}`,Ve=m("dd"),ve=w(Qe),Te=w(" ("),it=w(Ce),Be=w(") / "),xe=w(et),At=w(" ("),st=w(wt),Ut=w(`)
      `),$t=m("dt"),$t.textContent=`${O.t("Default Faction",{_context:vn})}`,_t=m("dd"),ke=w(Ue),ot&&ot.c(),Ke=ue(),rt&&rt.c(),Lt=ue(),Bt&&Bt.c(),Rt=ue(),Ot&&Ot.c(),Ct=ue(),Pe&&Pe.c(),pe=ue(),Je&&Je.c(),$e=R(),ft&&ft.c(),Ae=R(),Se&&Se.c(),de=R(),ct&&ct.c(),Ge=ue(),bt(D,"flex","1"),le(e,"class","side-by-side"),le(_e,"title","Monsters with high aggression are more likely to be hostile. Ranges from -100 to 100"),le(Ee,"title","Morale at spawn. Monsters with low morale will flee.")},m(Xe,Et){h(Xe,e,Et),_(e,n),_(n,t),_(n,i),_(n,o),_(o,l),_(o,s),_(s,f),_(o,c),_(o,u),_(u,b),_(o,k),_(o,y),_(y,C),dt&&dt.m(o,null),_(e,I),_(e,A),_(A,B),_(A,L),_(A,D),_(D,Y),_(D,z),_(z,H),Ie&&Ie.m(D,null),_(D,ne),_(D,M),_(M,te),_(D,F),Me.m(D,null),_(D,j),je&&je.m(D,null),h(Xe,Z,Et),h(Xe,x,Et),_(x,Q),_(x,V),_(x,ie),_(ie,_e),_(ie,re),_(re,ce),_(ie,Ee),_(ie,we),_(we,ze),_(ie,We),_(ie,Ve),_(Ve,ve),_(Ve,Te),_(Ve,it),_(Ve,Be),_(Ve,xe),_(Ve,At),_(Ve,st),_(Ve,Ut),_(ie,$t),_(ie,_t),_(_t,ke),ot&&ot.m(ie,null),_(ie,Ke),rt&&rt.m(ie,null),_(ie,Lt),Bt&&Bt.m(ie,null),_(ie,Rt),Ot&&Ot.m(ie,null),_(ie,Ct),Pe&&Pe.m(ie,null),_(ie,pe),Je&&Je.m(ie,null),h(Xe,$e,Et),ft&&ft.m(Xe,Et),h(Xe,Ae,Et),Se&&Se.m(Xe,Et),h(Xe,de,Et),ct&&ct.m(Xe,Et),h(Xe,Ge,Et),Oe=!0},p(Xe,Et){var nn,Re,yt,dn;(!Oe||Et[0]&1)&&a!==(a=(Xe[0].speed??0)+"")&&K(f,a),(!Oe||Et[0]&1)&&d!==(d=(Xe[0].melee_skill??0)+"")&&K(b,d),(!Oe||Et[0]&1)&&E!==(E=Xe[5](Xe[0])+"")&&K(C,E),Xe[0].special_attacks?dt?(dt.p(Xe,Et),Et[0]&1&&g(dt,1)):(dt=ec(Xe),dt.c(),g(dt,1),dt.m(o,null)):dt&&(fe(),$(dt,1,1,()=>{dt=null}),ae()),(!Oe||Et[0]&1)&&W!==(W=Xe[0].hp+"")&&K(H,W),Xe[0].regenerates?Ie?Ie.p(Xe,Et):(Ie=nc(Xe),Ie.c(),Ie.m(D,ne)):Ie&&(Ie.d(1),Ie=null),(!Oe||Et[0]&1)&&X!==(X=(Xe[0].dodge??0)+"")&&K(te,X),Ze===(Ze=at(Xe))&&Me?Me.p(Xe,Et):(Me.d(1),Me=Ze(Xe),Me&&(Me.c(),Me.m(D,j))),Xe[0].special_when_hit?je?je.p(Xe,Et):(je=rc(Xe),je.c(),je.m(D,null)):je&&(je.d(1),je=null),(!Oe||Et[0]&1)&&ee!==(ee=(Xe[0].aggression??0)+"")&&K(ce,ee),(!Oe||Et[0]&1)&&De!==(De=(Xe[0].morale??0)+"")&&K(ze,De),(!Oe||Et[0]&1)&&Qe!==(Qe=(Xe[0].vision_day??40)+"")&&K(ve,Qe),(!Oe||Et[0]&1)&&et!==(et=(Xe[0].vision_night??1)+"")&&K(xe,et),(!Oe||Et[0]&1)&&Ue!==(Ue=Xe[0].default_faction+"")&&K(ke,Ue),(nn=Xe[0].anger_triggers)!=null&&nn.length?ot?ot.p(Xe,Et):(ot=oc(Xe),ot.c(),ot.m(ie,Ke)):ot&&(ot.d(1),ot=null),(Re=Xe[0].placate_triggers)!=null&&Re.length?rt?rt.p(Xe,Et):(rt=fc(Xe),rt.c(),rt.m(ie,Lt)):rt&&(rt.d(1),rt=null),(yt=Xe[0].fear_triggers)!=null&&yt.length?Bt?Bt.p(Xe,Et):(Bt=cc(Xe),Bt.c(),Bt.m(ie,Rt)):Bt&&(Bt.d(1),Bt=null),(dn=Xe[0].flags)!=null&&dn.length?Ot?Ot.p(Xe,Et):(Ot=_c(Xe),Ot.c(),Ot.m(ie,Ct)):Ot&&(Ot.d(1),Ot=null),Xe[0].death_function?Pe?Pe.p(Xe,Et):(Pe=mc(Xe),Pe.c(),Pe.m(ie,pe)):Pe&&(Pe.d(1),Pe=null),Xe[12]&&Je.p(Xe,Et),Xe[9].size&&ft.p(Xe,Et),Xe[10]&&(Xe[10].entries??[]).length&&Se.p(Xe,Et),Xe[11]&&(Xe[11].entries??[]).length&&ct.p(Xe,Et)},i(Xe){Oe||(g(dt),g(Je),g(ft),g(Se),g(ct),Oe=!0)},o(Xe){$(dt),$(Je),$(ft),$(Se),$(ct),Oe=!1},d(Xe){Xe&&p(e),dt&&dt.d(),Ie&&Ie.d(),Me.d(),je&&je.d(),Xe&&p(Z),Xe&&p(x),ot&&ot.d(),rt&&rt.d(),Bt&&Bt.d(),Ot&&Ot.d(),Pe&&Pe.d(),Je&&Je.d(),Xe&&p($e),ft&&ft.d(Xe),Xe&&p(Ae),Se&&Se.d(Xe),Xe&&p(de),ct&&ct.d(Xe),Xe&&p(Ge)}}}function iO(r){let e,n,t,i=He(r[0])+"",o,l,s,a,f,c,u,d=$l(r[0].volume??0)+"",b,k,y,E=Ar(r[0].weight??0)+"",C,I,A,B=r[3](r[0])+"",L,D,Y,z,W,H,ne,M;n=new Dt({props:{item:r[0]}});let X=r[0].bodytype&&Ka(r),te=r[0].species&&r[0].species.length&&Za(r),F=r[8].length&&jI(r);Y=new Mr({props:{text:r[4](r[3](r[0])),fgOnly:!0}});let j=r[0].description&&xa(r);return ne=new vI({props:{spoily:r[0].id==="mon_dragon_dummy",$$slots:{default:[nO]},$$scope:{ctx:r}}}),{c(){e=m("h1"),q(n.$$.fragment),t=R(),o=w(i),l=R(),s=m("section"),a=m("dl"),X&&X.c(),f=ue(),te&&te.c(),c=m("dt"),c.textContent=`${O.t("Volume")}`,u=m("dd"),b=w(d),k=m("dt"),k.textContent=`${O.t("Weight")}`,y=m("dd"),C=w(E),F&&F.c(),I=m("dt"),I.textContent=`${O.t("Difficulty",{_context:vn})}`,A=m("dd"),L=w(B),D=w(`
      (`),q(Y.$$.fragment),z=w(")"),W=R(),j&&j.c(),H=R(),q(ne.$$.fragment)},m(Z,x){h(Z,e,x),U(n,e,null),_(e,t),_(e,o),h(Z,l,x),h(Z,s,x),_(s,a),X&&X.m(a,null),_(a,f),te&&te.m(a,null),_(a,c),_(a,u),_(u,b),_(a,k),_(a,y),_(y,C),F&&F.m(a,null),_(a,I),_(a,A),_(A,L),_(A,D),U(Y,A,null),_(A,z),_(s,W),j&&j.m(s,null),h(Z,H,x),U(ne,Z,x),M=!0},p(Z,x){const Q={};x[0]&1&&(Q.item=Z[0]),n.$set(Q),(!M||x[0]&1)&&i!==(i=He(Z[0])+"")&&K(o,i),Z[0].bodytype?X?X.p(Z,x):(X=Ka(Z),X.c(),X.m(a,f)):X&&(X.d(1),X=null),Z[0].species&&Z[0].species.length?te?te.p(Z,x):(te=Za(Z),te.c(),te.m(a,c)):te&&(te.d(1),te=null),(!M||x[0]&1)&&d!==(d=$l(Z[0].volume??0)+"")&&K(b,d),(!M||x[0]&1)&&E!==(E=Ar(Z[0].weight??0)+"")&&K(C,E),Z[8].length&&F.p(Z,x),(!M||x[0]&1)&&B!==(B=Z[3](Z[0])+"")&&K(L,B);const V={};x[0]&1&&(V.text=Z[4](Z[3](Z[0]))),Y.$set(V),Z[0].description?j?j.p(Z,x):(j=xa(Z),j.c(),j.m(s,null)):j&&(j.d(1),j=null);const ie={};x[0]&1&&(ie.spoily=Z[0].id==="mon_dragon_dummy"),x[0]&1|x[1]&131072&&(ie.$$scope={dirty:x,ctx:Z}),ne.$set(ie)},i(Z){M||(g(n.$$.fragment,Z),g(F),g(Y.$$.fragment,Z),g(ne.$$.fragment,Z),M=!0)},o(Z){$(n.$$.fragment,Z),$(F),$(Y.$$.fragment,Z),$(ne.$$.fragment,Z),M=!1},d(Z){Z&&p(e),G(n),Z&&p(l),Z&&p(s),X&&X.d(),te&&te.d(),F&&F.d(),G(Y),j&&j.d(),Z&&p(H),G(ne,Z)}}}const vn="Monster",yc=(r,e)=>e.prob-r.prob;function lO(r,e,n){let{item:t}=e,i=jt("data");function o(C){if(C){const I={};for(const A of i.allDamageTypes()){let B=C[A.id];if(!B&&A.derived_from){const[L,D]=A.derived_from;B=C[L]*D}B&&(I[A.id]=B)}return I}return{}}function l(C){const{melee_skill:I=0,melee_dice:A=0,melee_damage:B=[],melee_dice_sides:L=0,dodge:D=0,diff:Y=0,special_attacks:z=[],emit_fields:W=[],hp:H,speed:ne=0,attack_cost:M=100,morale:X=0,aggression:te=0,vision_day:F=40,vision_night:j=1}=C,x=ir(B).reduce((ee,{amount:ce=0,damage_multiplier:Ee=1,constant_damage_multiplier:we=1})=>ee+ce*Ee*we,0);let Q=3;for(const[ee,ce]of Object.entries(o(C.armor??{}))){const Ee=i.byIdMaybe("damage_type",ee);Ee!=null&&Ee.mon_difficulty&&(Q+=ce)}const V=["PARROT","PARROT_AT_DANGER","GRAZE","EAT_CROP","EAT_FOOD","EAT_CARRION"],ie=ee=>Array.isArray(ee)?ee[0]:"id"in ee?ee.id:"",_e=z.filter(ee=>!V.includes(ie(ee)));let re=(I+1)*A*(x+L)*.04+(D+1)*Q*.04+(Y+_e.length+8*W.length);return re=Math.floor(re),re*=((H??1)+ne-M+(X+te)*.1)*.01+(F+2*j)*.01,Math.max(1,Math.floor(re))}function s(C){return C<3?en.__("<color_light_gray>Minimal threat.</color>"):C<10?en.__("<color_light_gray>Mildly dangerous.</color>"):C<20?en.__("<color_light_red>Dangerous.</color>"):C<30?en.__("<color_red>Very dangerous.</color>"):C<50?en.__("<color_red>Extremely dangerous.</color>"):en.__("<color_red>Fatally dangerous!</color>")}function a(C){let{melee_dice:I=0,melee_dice_sides:A=0,melee_damage:B=[],melee_cut:L}=C;const D=ir(B);return L&&D.push({damage_type:"cut",amount:L}),`${I}d${A} ${He(i.byIdMaybe("damage_type","bash")??{id:"bash"})}`+D.map(Y=>` + ${Y.amount} ${He(i.byIdMaybe("damage_type",Y.damage_type)??{id:Y.damage_type})}`).join("")}const f={SEES:"It can see you (and will run/follow)",HEARS:"It can hear you",GOODHEARING:"Pursues sounds more than most monsters",SMELLS:"It can smell you",KEENNOSE:"Keen sense of smell",STUMBLES:"Stumbles in its movement",WARM:"Warm blooded",NOHEAD:"Headshots not allowed!",HARDTOSHOOT:"It's one size smaller for ranged attacks, no less then creature_size::tiny",GRABS:"Its attacks may grab us!",BASHES:"Bashes down doors",DESTROYS:"Bashes down walls and more",BORES:"Tunnels through just about anything",POISON:"Poisonous to eat",VENOM:"Attack may poison the player",BADVENOM:"Attack may SEVERELY poison the player",PARALYZE:"Attack may paralyze the player with venom",WEBWALK:"Doesn't destroy webs",DIGS:"Digs through the ground",CAN_DIG:"Can dig and walk",FLIES:"Can fly (over water, etc)",AQUATIC:"Confined to water",SWIMS:"Treats water as 50 movement point terrain",ATTACKMON:"Attacks other monsters",ANIMAL:'Is an "animal" for purposes of the Animal Empath trait',PLASTIC:"Absorbs physical damage to a great degree",SUNDEATH:"Dies in full sunlight",ELECTRIC:"Shocks unarmed attackers",ACIDPROOF:"Immune to acid",ACIDTRAIL:"Leaves a trail of acid",SHORTACIDTRAIL:"Leaves an intermittent trail of acid",FIREPROOF:"Immune to fire",SLUDGEPROOF:"Ignores the effect of sludge trails",SLUDGETRAIL:"Causes monster to leave a sludge trap trail when moving",COLDPROOF:"Immune to cold damage",FIREY:"Burns stuff and is immune to fire",QUEEN:"When it dies, local populations start to die off too",ELECTRONIC:"e.g. a robot; affected by EMP blasts, and other stuff",FUR:"May produce fur when butchered",LEATHER:"May produce leather when butchered",WOOL:"May produce wool when butchered",BONES:"May produce bones and sinews when butchered; if combined with POISON flag, tainted bones, if combined with HUMAN, human bones",FAT:"May produce fat when butchered; if combined with POISON flag, tainted fat",CONSOLE_DESPAWN:"Despawns when a nearby console is properly hacked",IMMOBILE:"Doesn't move (e.g. turrets)",ID_CARD_DESPAWN:"Despawns when a science ID card is used on a nearby console",RIDEABLE_MECH:"A rideable mech that is immobile until ridden.",MILITARY_MECH:"A rideable mech that was designed for military work.",MECH_RECON_VISION:"This mech gives you IR night-vision.",MECH_DEFENSIVE:"This mech gives you thorough protection.",HIT_AND_RUN:"Flee for several turns after a melee attack",GUILT:"You feel guilty for killing it",PAY_BOT:"You can pay this bot to be your friend for a time",HUMAN:"It's a live human, as long as it's alive",NO_BREATHE:"Creature can't drown and is unharmed by gas, smoke, or poison",FLAMMABLE:"Monster catches fire, burns, and spreads fire to nearby objects",REVIVES:"Monster corpse will revive after a short period of time",CHITIN:"May produce chitin when butchered",VERMIN:'Obsolete flag labeling "nuisance" or "scenery" monsters, now used to prevent loading the same.',NOGIB:"Creature won't leave gibs / meat chunks when killed with huge damage.",LARVA:"Creature is a larva. Currently used for gib and blood handling.",ARTHROPOD_BLOOD:"Forces monster to bleed hemolymph.",ACID_BLOOD:"Makes monster bleed acid. Fun stuff! Does not automatically dissolve in a pool of acid on death.",BILE_BLOOD:"Makes monster bleed bile.",ABSORBS:"Consumes objects it moves over which gives bonus hp.",ABSORBS_SPLITS:"Consumes objects it moves over which gives bonus hp. If it gets enough bonus HP, it spawns a copy of itself.",CBM_CIV:"May produce a common CBM a power CBM when butchered.",CBM_POWER:"May produce a power CBM when butchered, independent of MF_CBM_wev.",CBM_SCI:"May produce a bionic from bionics_sci when butchered.",CBM_OP:"May produce a bionic from bionics_op when butchered, and the power storage is mk 2.",CBM_TECH:"May produce a bionic from bionics_tech when butchered.",CBM_SUBS:"May produce a bionic from bionics_subs when butchered.",FILTHY:"Any clothing it drops will be filthy.",FISHABLE:"It is fishable.",GROUP_BASH:"Monsters that can pile up against obstacles and add their strength together to break them.",SWARMS:"Monsters that like to group together and form loose packs",GROUP_MORALE:"Monsters that are more courageous when near friends",INTERIOR_AMMO:"Monster contain's its ammo inside itself, no need to load on launch. Prevents ammo from being dropped on disable.",CLIMBS:"Monsters that can climb certain terrain and furniture",PACIFIST:"Monsters that will never use melee attack, useful for having them use grab without attacking the player",PUSH_MON:"Monsters that can push creatures out of their way",PUSH_VEH:"Monsters that can push vehicles out of their way",NIGHT_INVISIBILITY:"Monsters that are invisible in poor light conditions",REVIVES_HEALTHY:"When revived, this monster has full hitpoints and speed",NO_NECRO:"This monster can't be revived by necros. It will still rise on its own.",PATH_AVOID_DANGER:"This monster will path around some dangers instead of through them.",PATH_AVOID_DANGER_1:"This monster will path around some dangers instead of through them.",PATH_AVOID_DANGER_2:"This monster will path around most dangers instead of through them.",PATH_AVOID_FIRE:"This monster will path around heat-related dangers instead of through them.",PATH_AVOID_FALL:"This monster will path around cliffs instead of off of them.",PRIORITIZE_TARGETS:"This monster will prioritize targets depending on their danger levels",NOT_HALLU:"Monsters that will NOT appear when player's producing hallucinations",CATFOOD:"This monster will become friendly when fed cat food.",CATTLEFODDER:"This monster will become friendly when fed cattle fodder.",BIRDFOOD:"This monster will become friendly when fed bird food.",CANPLAY:"This monster can be played with if it's a pet.",PET_MOUNTABLE:"This monster can be mounted and ridden when tamed.",PET_HARNESSABLE:"This monster can be harnessed when tamed.",DOGFOOD:"This monster will become friendly when fed dog food.",MILKABLE:"This monster is milkable.",SHEARABLE:"This monster is shearable.",NO_BREED:"This monster doesn't breed, even though it has breed data",PET_WONT_FOLLOW:"This monster won't follow the player automatically when tamed.",DRIPS_NAPALM:"This monster occasionally drips napalm on move",DRIPS_GASOLINE:"This monster occasionally drips gasoline on move",ELECTRIC_FIELD:"This monster is surrounded by an electrical field that ignites flammable liquids near it",LOUDMOVES:"This monster makes move noises as if ~2 sizes louder, even if flying.",CAN_OPEN_DOORS:"This monster can open doors.",STUN_IMMUNE:"This monster is immune to the stun effect",DROPS_AMMO:"This monster drops ammo. Should not be set for monsters that use pseudo ammo.",INSECTICIDEPROOF:"This monster is immune to insecticide, even though it's made of bug flesh",RANGED_ATTACKER:"This monster has any sort of ranged attack",CORNERED_FIGHTER:"This creature will stop fleeing and fight back if enemies pursue it into melee range.",SMALL_HIDER:"This small monster can hide under or behind furniture such as beds, refrigerators, and underbrush.",CAN_BE_CULLED:"This animal can be culled if it's a pet.",EATS:"This creature has a stomach size (defined in its monster json) which gets filled up when it eats, and digests food over time.",WATER_CAMOUFLAGE:"If in water, stays invisible up to (current Perception, + base Perception if the character has the Spotting proficiency) tiles away, even in broad daylight. Monsters see it from the lower of day vision and night vision ranges. Can also make it harder to see in deep water or across z-levels if it is underwater and the viewer is not.",NOT_HALLUCINATION:"This monster does not appear while the player is hallucinating.",PARALYZE_VENOM:"This monster can apply paralyzing effect for 10 minutes.",HAS_MIND:"Is sapient and capable of reason (mi-go, triffids, cyborgs, etc.)."},c={FIRE:"Triggers if there's a fire within 3 tiles, the strength of the effect equals 5 * the field intensity of the fire.",FRIEND_ATTACKED:"Triggers if the monster sees another monster of the same type being attacked; strength = 15.",FRIEND_DIED:"Triggers if the monster sees another monster of the same type dying; strength = 15.",HURT:"Triggers when the monster is hurt, strength equals 1 + (damage / 3).",MEAT:"Meat or a corpse is nearby.",PLAYER_CLOSE:"Triggers when a potential enemy is within 5 tiles range.",PLAYER_WEAK:"Raises monster aggression by 10 - (percent of hp remaining / 10) if a potential enemy has less than 70% hp remaining",PLAYER_NEAR_BABY:"Increases monster aggression by 8 and morale by 4 if **the player** comes within 3 tiles of its offspring (defined by the baby_monster field in its reproduction data)",SOUND:"Not an actual trigger, monsters above 10 aggression and 0 morale will wander towards, monsters below 0 morale will wander away from the source of the sound for 1 turn (6, if they have the GOODHEARING flag).",STALK:"Raises monster aggresssion by 1, triggers 20% of the time each turn if aggression > 5.",HOSTILE_SEEN:"Increases aggression/decreases morale by a random amount between 0-2 for every potential enemy it can see, up to 20 aggression.",MATING_SEASON:"Increases aggression by 3 if a potential enemy is within 5 tiles range and the season is the same as the monster's mating season (defined by the baby_flags field in its reproduction data)."};let u=t.material??[],d=i.flatDeathDrops(t.id),b=t.harvest?i.byId("harvest",t.harvest):void 0,k=t.dissect?i.byId("harvest",t.dissect):void 0;function y(C){const I=new Set;C.default&&I.add(C.default);for(const A of C.monsters??[])if(A.monster&&I.add(A.monster),A.group)for(const B of y(i.byId("monstergroup",A.group)))I.add(B);return[...I]}let E=t.upgrades&&(t.upgrades.into||t.upgrades.into_group)?{...t.upgrades,monsters:t.upgrades.into?[t.upgrades.into]:t.upgrades.into_group?y(i.byId("monstergroup",t.upgrades.into_group)):[]}:null;return r.$$set=C=>{"item"in C&&n(0,t=C.item)},[t,i,o,l,s,a,f,c,u,d,b,k,E]}class rO extends ht{constructor(e){super(),pt(this,e,lO,iO,mt,{item:0},null,[-1,-1])}}function kc(r,e,n){const t=r.slice();return t[8]=e[n],t}const oO=r=>({item:r&3}),vc=r=>({item:r[8]});function wc(r){let e,n;const t=r[5].default,i=ki(t,r,r[4],vc);return{c(){e=m("li"),i&&i.c()},m(o,l){h(o,e,l),i&&i.m(e,null),n=!0},p(o,l){i&&i.p&&(!n||l&19)&&wi(i,t,o,o[4],n?vi(t,o[4],l,oO):Ei(o[4]),vc)},i(o){n||(g(i,o),n=!0)},o(o){$(i,o),n=!1},d(o){o&&p(e),i&&i.d(o)}}}function Ec(r){let e,n=O.t("See all {n}...",{n:Number(r[0].length).toLocaleString()})+"",t,i,o;return{c(){e=m("button"),t=w(n),le(e,"class","disclosure")},m(l,s){h(l,e,s),_(e,t),i||(o=Di(e,"click",r[6]),i=!0)},p(l,s){s&1&&n!==(n=O.t("See all {n}...",{n:Number(l[0].length).toLocaleString()})+"")&&K(t,n)},d(l){l&&p(e),i=!1,o()}}}function sO(r){let e,n,t,i,o=r[0].slice(0,r[1]),l=[];for(let f=0;f<o.length;f+=1)l[f]=wc(kc(r,o,f));const s=f=>$(l[f],1,1,()=>{l[f]=null});let a=r[0].length>r[1]&&Ec(r);return{c(){e=m("ul");for(let f=0;f<l.length;f+=1)l[f].c();n=R(),a&&a.c(),t=ue()},m(f,c){h(f,e,c);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);h(f,n,c),a&&a.m(f,c),h(f,t,c),i=!0},p(f,[c]){if(c&19){o=f[0].slice(0,f[1]);let u;for(u=0;u<o.length;u+=1){const d=kc(f,o,u);l[u]?(l[u].p(d,c),g(l[u],1)):(l[u]=wc(d),l[u].c(),g(l[u],1),l[u].m(e,null))}for(fe(),u=o.length;u<l.length;u+=1)s(u);ae()}f[0].length>f[1]?a?a.p(f,c):(a=Ec(f),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(f){if(!i){for(let c=0;c<o.length;c+=1)g(l[c]);i=!0}},o(f){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)$(l[c]);i=!1},d(f){f&&p(e),ye(l,f),f&&p(n),a&&a.d(f),f&&p(t)}}}function fO(r,e,n){let{$$slots:t={},$$scope:i}=e,{items:o}=e,{limit:l=10}=e,{grace:s=4}=e,f=typeof globalThis!==void 0&&(globalThis==null?void 0:globalThis.__isTesting__)?1/0:o.length<=l+s?l+s:l;const c=u=>{u.preventDefault(),n(1,f=1/0)};return r.$$set=u=>{"items"in u&&n(0,o=u.items),"limit"in u&&n(2,l=u.limit),"grace"in u&&n(3,s=u.grace),"$$scope"in u&&n(4,i=u.$$scope)},[o,f,l,s,i,t,c]}class Wt extends ht{constructor(e){super(),pt(this,e,fO,sO,mt,{items:0,limit:2,grace:3})}}function Tc(r,e,n){const t=r.slice();return t[3]=e[n],t}function Sc(r,e,n){const t=r.slice();return t[6]=e[n],t}function Cc(r){let e,n=r[6].string+"",t;return{c(){e=m("span"),t=w(n),le(e,"class","c_"+r[6].color)},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function Ic(r){let e=`
`,n,t=r[3],i=[];for(let o=0;o<t.length;o+=1)i[o]=Cc(Sc(r,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=w(e)},m(o,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,l);h(o,n,l)},p(o,l){if(l&1){t=o[3];let s;for(s=0;s<t.length;s+=1){const a=Sc(o,t,s);i[s]?i[s].p(a,l):(i[s]=Cc(a),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){ye(i,o),o&&p(n)}}}function aO(r){let e,n,t,i=r[0],o=[];for(let l=0;l<i.length;l+=1)o[l]=Ic(Tc(r,i,l));return{c(){e=m("pre"),n=w("");for(let l=0;l<o.length;l+=1)o[l].c();t=w(`
`),bt(e,"font-family","Unifont, monospace"),bt(e,"line-height","1")},m(l,s){h(l,e,s),_(e,n);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);_(e,t)},p(l,[s]){if(s&1){i=l[0];let a;for(a=0;a<i.length;a+=1){const f=Tc(l,i,a);o[a]?o[a].p(f,s):(o[a]=Ic(f),o[a].c(),o[a].m(e,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}},i:oe,o:oe,d(l){l&&p(e),ye(o,l)}}}function cO(r,e,n){let{picture:t}=e,i=["white"];const o=[];for(const l of t.picture){const s=[];let a=l;for(;;){const c=a.match(/<\/?color([^>]*?)>/);if(c&&c.index!=null)c.index>0&&s.push({string:a.substring(0,c.index),color:i[0]}),c[0][1]==="/"&&i.length>1?i.shift():i.unshift(c[1].substring(1)),a=a.substring(c.index+c[0].length);else break}a.length&&s.push({string:a,color:i[0]});const f=41-s.reduce((c,u)=>c+u.string.length,0);f>0&&s.push({string:" ".repeat(f),color:i[0]}),o.push(s)}return r.$$set=l=>{"picture"in l&&n(1,t=l.picture)},[o,t]}class uO extends ht{constructor(e){super(),pt(this,e,cO,aO,mt,{picture:1})}}function Oc(r){var V;let e,n,t,i,o,l,s,a,f,c,u,d,b,k=(r[0].range??0)+"",y,E,C,I=(r[0].dispersion??0)+"",A,B,L,D=(r[0].recoil??0)+"",Y,z,W,H=r[3](r[0]).toFixed(0)+"",ne,M,X,te=(r[0].critical_multiplier??2)+"",F,j,Z;s=new ge({props:{type:"ammunition_type",id:r[0].ammo_type}});let x=r[0].casing&&Rc(r),Q=((V=r[0].effects)==null?void 0:V.length)&&Ac(r);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Ammunition",{_context:Gi})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Ammunition Type",{_context:Gi})}`,l=m("dd"),q(s.$$.fragment),a=m("dt"),a.textContent=`${O.t("Damage",{_context:Gi})}`,f=m("dd"),f.textContent=`${r[2].amount??0} (${He(r[1].byIdMaybe("damage_type",r[2].damage_type)??{id:r[2].damage_type})})
      `,c=m("dt"),c.textContent=`${O.t("Armor Penetration",{_context:Gi})}`,u=m("dd"),u.textContent=`${r[2].armor_penetration??0}`,d=m("dt"),d.textContent=`${O.t("Range",{_context:Gi})}`,b=m("dd"),y=w(k),E=m("dt"),E.textContent=`${O.t("Dispersion",{_context:Gi})}`,C=m("dd"),A=w(I),B=m("dt"),B.textContent=`${O.t("Recoil",{_context:Gi})}`,L=m("dd"),Y=w(D),z=m("dt"),z.textContent=`${O.t("Loudness",{_context:Gi})} 
      `,W=m("dd"),ne=w(H),M=m("dt"),M.textContent=`${O.t("Critical Multiplier",{_context:Gi})}`,X=m("dd"),F=w(te),x&&x.c(),j=ue(),Q&&Q.c(),le(z,"title","Base loudness of ammo (possibly modified by gun/gunmods)")},m(ie,_e){h(ie,e,_e),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),U(s,l,null),_(i,a),_(i,f),_(i,c),_(i,u),_(i,d),_(i,b),_(b,y),_(i,E),_(i,C),_(C,A),_(i,B),_(i,L),_(L,Y),_(i,z),_(i,W),_(W,ne),_(i,M),_(i,X),_(X,F),x&&x.m(i,null),_(i,j),Q&&Q.m(i,null),Z=!0},p(ie,_e){var ee;const re={};_e&1&&(re.id=ie[0].ammo_type),s.$set(re),(!Z||_e&1)&&k!==(k=(ie[0].range??0)+"")&&K(y,k),(!Z||_e&1)&&I!==(I=(ie[0].dispersion??0)+"")&&K(A,I),(!Z||_e&1)&&D!==(D=(ie[0].recoil??0)+"")&&K(Y,D),(!Z||_e&1)&&H!==(H=ie[3](ie[0]).toFixed(0)+"")&&K(ne,H),(!Z||_e&1)&&te!==(te=(ie[0].critical_multiplier??2)+"")&&K(F,te),ie[0].casing?x?(x.p(ie,_e),_e&1&&g(x,1)):(x=Rc(ie),x.c(),g(x,1),x.m(i,j)):x&&(fe(),$(x,1,1,()=>{x=null}),ae()),(ee=ie[0].effects)!=null&&ee.length?Q?Q.p(ie,_e):(Q=Ac(ie),Q.c(),Q.m(i,null)):Q&&(Q.d(1),Q=null)},i(ie){Z||(g(s.$$.fragment,ie),g(x),Z=!0)},o(ie){$(s.$$.fragment,ie),$(x),Z=!1},d(ie){ie&&p(e),G(s),x&&x.d(),Q&&Q.d()}}}function Rc(r){let e,n,t,i;return t=new ge({props:{id:r[0].casing,type:"item"}}),{c(){e=m("dt"),e.textContent=`${O.t("Casing",{_context:Gi})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].casing),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Ac(r){let e,n,t=r[0].effects.join(", ")+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Effects",{_context:Gi})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].effects.join(", ")+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function _O(r){let e,n,t=(r[0].damage||r[0].show_stats)&&Oc(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].damage||i[0].show_stats?t?(t.p(i,o),o&1&&g(t,1)):(t=Oc(i),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(fe(),$(t,1,1,()=>{t=null}),ae())},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}const Gi="Item Ammo Info";function dO(r,e,n){let{item:t}=e;const i=jt("data"),o=Array.isArray(t.damage)?t.damage[0]:t.damage&&"values"in t.damage?t.damage.values[0]:t.damage??{amount:0,damage_type:"bullet",armor_penetration:0};function l(s){return(s.loudness??-1)>=0?s.loudness??0:(s.range??0)*2+((o.amount??0)+(o.armor_penetration??0))*2}return r.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,i,o,l]}class mO extends ht{constructor(e){super(),pt(this,e,dO,_O,mt,{item:0})}}function Nc(r,e,n){const t=r.slice();t[23]=e[n];const i=t[23].apd;t[24]=i;const o=t[5](t[23]);return t[25]=o[0],t[26]=o[1],t}function Bc(r,e,n){const t=r.slice();t[29]=e[n];const i=t[1].byId("material",t[29].type);return t[30]=i,t}function Mc(r,e,n){const t=r.slice();t[29]=e[n];const i=t[1].byId("material",t[29].type);return t[30]=i,t}function Dc(r,e,n){const t=r.slice();t[29]=e[n];const i=t[1].byId("material",t[29].type);return t[30]=i,t}function Lc(r,e,n){const t=r.slice();return t[29]=e[n],t}function Fc(r,e,n){const t=r.slice();return t[29]=e[n],t}function Pc(r,e,n){const t=r.slice();return t[29]=e[n],t}function pO(r){const e=r.slice(),n=e[6](e[25]);e[43]=n;const t=e[6](e[26]);return e[44]=t,e}function hO(r){let e=O.t("Normal",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function gO(r){let e=O.t("Outer aura",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function bO(r){let e=O.t("Waist",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function $O(r){let e=O.t("Outer",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function yO(r){let e=O.t("Strapped",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function kO(r){let e=O.t("Close to skin",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function vO(r){let e=O.t("Personal aura",{_context:"Armor Layer"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function jc(r){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Sided",{_context:Ji})}`,n=m("dd"),n.textContent=`${O.t("Yes")}`},m(t,i){h(t,e,i),h(t,n,i)},p:oe,d(t){t&&p(e),t&&p(n)}}}function wO(r){let e,n=r[2](r[23].apd.specifically_covers).join(", ")+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function EO(r){let e=r[25]+"",n,t,i=r[26]+"",o;return{c(){n=w(e),t=w("–"),o=w(i)},m(l,s){h(l,n,s),h(l,t,s),h(l,o,s)},p:oe,i:oe,o:oe,d(l){l&&p(n),l&&p(t),l&&p(o)}}}function TO(r){let e=r[25]+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,i:oe,o:oe,d(t){t&&p(n)}}}function SO(r){let e,n,t,i,o,l,s,a,f,c,u;t=new Mr({props:{text:en.__(" <info>(fits)</info>"),fgOnly:!0}});function d(I,A){return I[43]===I[44]?IO:CO}let k=d(r)(r);a=new Mr({props:{text:en.__(" <bad>(poor fit)</bad>"),fgOnly:!0}});function y(I,A){return I[25]===I[26]?RO:OO}let C=y(r)(r);return{c(){e=m("dl"),n=m("dt"),q(t.$$.fragment),i=R(),o=m("dd"),k.c(),l=R(),s=m("dt"),q(a.$$.fragment),f=R(),c=m("dd"),C.c(),le(e,"class","svelte-1i5r9mc")},m(I,A){h(I,e,A),_(e,n),U(t,n,null),_(n,i),_(e,o),k.m(o,null),_(o,l),_(e,s),U(a,s,null),_(s,f),_(e,c),C.m(c,null),u=!0},p(I,A){k.p(I,A),C.p(I,A)},i(I){u||(g(t.$$.fragment,I),g(a.$$.fragment,I),u=!0)},o(I){$(t.$$.fragment,I),$(a.$$.fragment,I),u=!1},d(I){I&&p(e),G(t),k.d(),G(a),C.d()}}}function CO(r){let e=r[43]+"",n,t,i=r[44]+"",o;return{c(){n=w(e),t=w("–"),o=w(i)},m(l,s){h(l,n,s),h(l,t,s),h(l,o,s)},p:oe,d(l){l&&p(n),l&&p(t),l&&p(o)}}}function IO(r){let e=r[43]+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function OO(r){let e=r[25]+"",n,t,i=r[26]+"",o;return{c(){n=w(e),t=w("–"),o=w(i)},m(l,s){h(l,n,s),h(l,t,s),h(l,o,s)},p:oe,d(l){l&&p(n),l&&p(t),l&&p(o)}}}function RO(r){let e=r[25]+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function AO(r){let e,n,t,i=r[23].apd.coverage+"",o,l,s,a,f=r[23].apd.coverage!==r[23].apd.cover_melee&&BO(r),c=r[23].apd.coverage!==r[23].apd.cover_ranged&&MO(r),u=r[23].apd.cover_vitals&&DO(r);return{c(){e=m("dl"),n=m("dt"),n.textContent=`${O.t("Default",{_context:"Armor Coverage"})}`,t=m("dd"),o=w(i),l=w("%"),f&&f.c(),s=ue(),c&&c.c(),a=ue(),u&&u.c(),le(e,"class","svelte-1i5r9mc")},m(d,b){h(d,e,b),_(e,n),_(e,t),_(t,o),_(t,l),f&&f.m(e,null),_(e,s),c&&c.m(e,null),_(e,a),u&&u.m(e,null)},p(d,b){d[23].apd.coverage!==d[23].apd.cover_melee&&f.p(d,b),d[23].apd.coverage!==d[23].apd.cover_ranged&&c.p(d,b),d[23].apd.cover_vitals&&u.p(d,b)},d(d){d&&p(e),f&&f.d(),c&&c.d(),u&&u.d()}}}function NO(r){let e=r[23].apd.coverage+"",n,t;return{c(){n=w(e),t=w("%")},m(i,o){h(i,n,o),h(i,t,o)},p:oe,d(i){i&&p(n),i&&p(t)}}}function BO(r){let e,n,t=r[23].apd.cover_melee+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Melee",{_context:"Armor Coverage"})}`,n=m("dd"),i=w(t),o=w("%")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p:oe,d(l){l&&p(e),l&&p(n)}}}function MO(r){let e,n,t=r[23].apd.cover_ranged+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Ranged",{_context:"Armor Coverage"})}`,n=m("dd"),i=w(t),o=w("%")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p:oe,d(l){l&&p(e),l&&p(n)}}}function DO(r){let e,n,t=r[23].apd.cover_vitals+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Vitals",{_context:"Armor Coverage"})}`,n=m("dd"),i=w(t),o=w("%")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p:oe,d(l){l&&p(e),l&&p(n)}}}function LO(r){let e,n,t,i=r[8](r[23].bp_ids[0]).toFixed(2)+"",o,l,s,a=r[9](r[23].bp_ids[0]).toFixed(2)+"",f,c,u;return{c(){e=m("dl"),n=m("dt"),n.textContent=`${O.t("Acid",{_context:"Damage Type"})}`,t=m("dd"),o=w(i),l=m("dt"),l.textContent=`${O.t("Heat",{_context:"Damage Type"})}`,s=m("dd"),f=w(a),c=m("dt"),c.textContent=`${O.t("Environ.",{_context:Ji})}`,u=m("dd"),u.textContent=`${r[7]()}`,le(e,"class","protection-env svelte-1i5r9mc")},m(d,b){h(d,e,b),_(e,n),_(e,t),_(t,o),_(e,l),_(e,s),_(s,f),_(e,c),_(e,u)},p:oe,d(d){d&&p(e)}}}function Uc(r){let e,n,t;return n=new ge({props:{type:"material",id:r[29].type}}),{c(){e=m("td"),q(n.$$.fragment),bt(e,"writing-mode","vertical-rl"),bt(e,"text-align","right"),bt(e,"vertical-align","middle"),le(e,"class","svelte-1i5r9mc")},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Gc(r){let e,n=(r[29].thickness??0).toFixed(1)+"",t,i;return{c(){e=m("td"),t=w(n),i=w("mm"),le(e,"class","svelte-1i5r9mc")},m(o,l){h(o,e,l),_(e,t),_(e,i)},p:oe,d(o){o&&p(e)}}}function qc(r){let e,n=(r[29].covered_by_mat??100).toFixed(0)+"",t,i;return{c(){e=m("td"),t=w(n),i=w("%"),le(e,"class","svelte-1i5r9mc")},m(o,l){h(o,e,l),_(e,t),_(e,i)},p:oe,d(o){o&&p(e)}}}function Yc(r){var i;let e,n=((r[30].bash_resist??((i=r[30].resist)==null?void 0:i.bash)??0)*(r[29].thickness??0)).toFixed(2)+"",t;return{c(){e=m("td"),t=w(n),le(e,"class","svelte-1i5r9mc")},m(o,l){h(o,e,l),_(e,t)},p:oe,d(o){o&&p(e)}}}function Hc(r){var i;let e,n=((r[30].cut_resist??((i=r[30].resist)==null?void 0:i.cut)??0)*(r[29].thickness??0)).toFixed(2)+"",t;return{c(){e=m("td"),t=w(n),le(e,"class","svelte-1i5r9mc")},m(o,l){h(o,e,l),_(e,t)},p:oe,d(o){o&&p(e)}}}function zc(r){var i;let e,n=((r[30].bullet_resist??((i=r[30].resist)==null?void 0:i.bullet)??0)*(r[29].thickness??0)).toFixed(2)+"",t;return{c(){e=m("td"),t=w(n),le(e,"class","svelte-1i5r9mc")},m(o,l){h(o,e,l),_(e,t)},p:oe,d(o){o&&p(e)}}}function Wc(r){var Ae;let e,n,t=r[4](r[23].bp_ids)+"",i,o,l,s,a,f,c,u,d,b,k,y,E,C,I,A=r[7](),B,L,D,Y,z,W,H,ne,M,X,te,F,j,Z,x,Q,V,ie,_e,re,ee,ce,Ee,we,De,ze,We,Ve,Qe=((Ae=r[23].apd.specifically_covers)==null?void 0:Ae.length)&&wO(r);const ve=[SO,TO,EO],Te=[];function Ce(de,Ge){var Oe;return Ge[0]&1&&(c=null),c==null&&(c=!!((Oe=de[0].flags)!=null&&Oe.includes("VARSIZE"))),c?0:de[25]===de[26]?1:2}function it(de,Ge){return Ge===0?pO(de):de}u=Ce(r,[-1,-1]),d=Te[u]=ve[u](it(r,u));function Be(de,Ge){return de[23].apd.coverage===de[23].apd.cover_melee&&de[23].apd.coverage===de[23].apd.cover_ranged&&de[23].apd.cover_vitals===0?NO:AO}let xe=Be(r)(r),At=A&&LO(r),wt=r[24].material,st=[];for(let de=0;de<wt.length;de+=1)st[de]=Uc(Pc(r,wt,de));const Ut=de=>$(st[de],1,1,()=>{st[de]=null});let $t=r[24].material,_t=[];for(let de=0;de<$t.length;de+=1)_t[de]=Gc(Fc(r,$t,de));let Ue=r[24].material,ke=[];for(let de=0;de<Ue.length;de+=1)ke[de]=qc(Lc(r,Ue,de));let Ke=r[24].material,Lt=[];for(let de=0;de<Ke.length;de+=1)Lt[de]=Yc(Dc(r,Ke,de));let Rt=r[24].material,Ct=[];for(let de=0;de<Rt.length;de+=1)Ct[de]=Hc(Mc(r,Rt,de));let pe=r[24].material,$e=[];for(let de=0;de<pe.length;de+=1)$e[de]=zc(Bc(r,pe,de));return{c(){e=m("div"),n=m("h2"),i=w(t),o=R(),Qe&&Qe.c(),l=R(),s=m("dl"),a=m("dt"),a.textContent=`${O.t("Encumbrance",{_context:Ji})}`,f=m("dd"),d.c(),b=R(),k=m("dt"),k.textContent=`${O.t("Coverage",{_context:Ji})}`,y=m("dd"),xe.c(),E=R(),C=m("dt"),C.textContent=`${O.t("Protection",{_context:Ji})}`,I=m("dd"),At&&At.c(),B=R(),L=m("table"),D=m("tbody"),Y=m("tr"),z=m("td"),W=R();for(let de=0;de<st.length;de+=1)st[de].c();H=R(),ne=m("tr"),M=m("td"),M.textContent=`${O.t("Thickness",{_context:Ji})}`,X=R();for(let de=0;de<_t.length;de+=1)_t[de].c();te=R(),F=m("tr"),j=m("td"),j.textContent=`${O.t("Coverage",{_context:Ji})}`,Z=R();for(let de=0;de<ke.length;de+=1)ke[de].c();x=R(),Q=m("tr"),V=m("td"),V.textContent=`${O.t("Bash",{_context:"Damage Type"})}`,ie=R();for(let de=0;de<Lt.length;de+=1)Lt[de].c();_e=R(),re=m("tr"),ee=m("td"),ee.textContent=`${O.t("Cut",{_context:"Damage Type"})}`,ce=R();for(let de=0;de<Ct.length;de+=1)Ct[de].c();Ee=R(),we=m("tr"),De=m("td"),De.textContent=`${O.t("Ballistic",{_context:"Damage Type"})}`,ze=R();for(let de=0;de<$e.length;de+=1)$e[de].c();We=R(),le(n,"class","svelte-1i5r9mc"),le(z,"class","svelte-1i5r9mc"),le(Y,"class","svelte-1i5r9mc"),le(M,"class","svelte-1i5r9mc"),le(ne,"class","svelte-1i5r9mc"),le(j,"class","svelte-1i5r9mc"),le(F,"class","svelte-1i5r9mc"),le(V,"class","svelte-1i5r9mc"),le(Q,"class","svelte-1i5r9mc"),le(ee,"class","svelte-1i5r9mc"),le(re,"class","svelte-1i5r9mc"),le(De,"class","svelte-1i5r9mc"),le(we,"class","svelte-1i5r9mc"),bt(L,"text-align","center"),le(L,"class","svelte-1i5r9mc"),le(I,"class","protection svelte-1i5r9mc"),le(s,"class","svelte-1i5r9mc"),le(e,"class","body-part svelte-1i5r9mc")},m(de,Ge){h(de,e,Ge),_(e,n),_(n,i),_(n,o),Qe&&Qe.m(n,null),_(e,l),_(e,s),_(s,a),_(s,f),Te[u].m(f,null),_(f,b),_(s,k),_(s,y),xe.m(y,null),_(y,E),_(s,C),_(s,I),At&&At.m(I,null),_(I,B),_(I,L),_(L,D),_(D,Y),_(Y,z),_(Y,W);for(let Oe=0;Oe<st.length;Oe+=1)st[Oe]&&st[Oe].m(Y,null);_(D,H),_(D,ne),_(ne,M),_(ne,X);for(let Oe=0;Oe<_t.length;Oe+=1)_t[Oe]&&_t[Oe].m(ne,null);_(D,te),_(D,F),_(F,j),_(F,Z);for(let Oe=0;Oe<ke.length;Oe+=1)ke[Oe]&&ke[Oe].m(F,null);_(D,x),_(D,Q),_(Q,V),_(Q,ie);for(let Oe=0;Oe<Lt.length;Oe+=1)Lt[Oe]&&Lt[Oe].m(Q,null);_(D,_e),_(D,re),_(re,ee),_(re,ce);for(let Oe=0;Oe<Ct.length;Oe+=1)Ct[Oe]&&Ct[Oe].m(re,null);_(D,Ee),_(D,we),_(we,De),_(we,ze);for(let Oe=0;Oe<$e.length;Oe+=1)$e[Oe]&&$e[Oe].m(we,null);_(e,We),Ve=!0},p(de,Ge){var dt;(dt=de[23].apd.specifically_covers)!=null&&dt.length&&Qe.p(de,Ge);let Oe=u;if(u=Ce(de,Ge),u===Oe?Te[u].p(it(de,u),Ge):(fe(),$(Te[Oe],1,1,()=>{Te[Oe]=null}),ae(),d=Te[u],d?d.p(it(de,u),Ge):(d=Te[u]=ve[u](it(de,u)),d.c()),g(d,1),d.m(f,b)),xe.p(de,Ge),A&&At.p(de,Ge),Ge[0]&8){wt=de[24].material;let Ie;for(Ie=0;Ie<wt.length;Ie+=1){const at=Pc(de,wt,Ie);st[Ie]?(st[Ie].p(at,Ge),g(st[Ie],1)):(st[Ie]=Uc(at),st[Ie].c(),g(st[Ie],1),st[Ie].m(Y,null))}for(fe(),Ie=wt.length;Ie<st.length;Ie+=1)Ut(Ie);ae()}if(Ge[0]&8){$t=de[24].material;let Ie;for(Ie=0;Ie<$t.length;Ie+=1){const at=Fc(de,$t,Ie);_t[Ie]?_t[Ie].p(at,Ge):(_t[Ie]=Gc(at),_t[Ie].c(),_t[Ie].m(ne,null))}for(;Ie<_t.length;Ie+=1)_t[Ie].d(1);_t.length=$t.length}if(Ge[0]&8){Ue=de[24].material;let Ie;for(Ie=0;Ie<Ue.length;Ie+=1){const at=Lc(de,Ue,Ie);ke[Ie]?ke[Ie].p(at,Ge):(ke[Ie]=qc(at),ke[Ie].c(),ke[Ie].m(F,null))}for(;Ie<ke.length;Ie+=1)ke[Ie].d(1);ke.length=Ue.length}if(Ge[0]&10){Ke=de[24].material;let Ie;for(Ie=0;Ie<Ke.length;Ie+=1){const at=Dc(de,Ke,Ie);Lt[Ie]?Lt[Ie].p(at,Ge):(Lt[Ie]=Yc(at),Lt[Ie].c(),Lt[Ie].m(Q,null))}for(;Ie<Lt.length;Ie+=1)Lt[Ie].d(1);Lt.length=Ke.length}if(Ge[0]&10){Rt=de[24].material;let Ie;for(Ie=0;Ie<Rt.length;Ie+=1){const at=Mc(de,Rt,Ie);Ct[Ie]?Ct[Ie].p(at,Ge):(Ct[Ie]=Hc(at),Ct[Ie].c(),Ct[Ie].m(re,null))}for(;Ie<Ct.length;Ie+=1)Ct[Ie].d(1);Ct.length=Rt.length}if(Ge[0]&10){pe=de[24].material;let Ie;for(Ie=0;Ie<pe.length;Ie+=1){const at=Bc(de,pe,Ie);$e[Ie]?$e[Ie].p(at,Ge):($e[Ie]=zc(at),$e[Ie].c(),$e[Ie].m(we,null))}for(;Ie<$e.length;Ie+=1)$e[Ie].d(1);$e.length=pe.length}},i(de){if(!Ve){g(d);for(let Ge=0;Ge<wt.length;Ge+=1)g(st[Ge]);Ve=!0}},o(de){$(d),st=st.filter(Boolean);for(let Ge=0;Ge<st.length;Ge+=1)$(st[Ge]);Ve=!1},d(de){de&&p(e),Qe&&Qe.d(),Te[u].d(),xe.d(),At&&At.d(),ye(st,de),ye(_t,de),ye(ke,de),ye(Lt,de),ye(Ct,de),ye($e,de)}}}function FO(r){let e,n,t,i,o,l,s,a,f,c,u,d,b,k,y,E=(r[0].warmth??0)+"",C,I,A,B;function L(M,X){return X[0]&1&&(s=null),X[0]&1&&(a=null),X[0]&1&&(f=null),X[0]&1&&(c=null),X[0]&1&&(u=null),X[0]&1&&(d=null),s==null&&(s=!!(M[0].flags??[]).includes("PERSONAL")),s?vO:(a==null&&(a=!!(M[0].flags??[]).includes("SKINTIGHT")),a?kO:(f==null&&(f=!!(M[0].flags??[]).includes("BELTED")),f?yO:(c==null&&(c=!!(M[0].flags??[]).includes("OUTER")),c?$O:(u==null&&(u=!!(M[0].flags??[]).includes("WAIST")),u?bO:(d==null&&(d=!!(M[0].flags??[]).includes("AURA")),d?gO:hO)))))}let D=L(r,[-1,-1]),Y=D(r),z=r[0].sided&&jc(),W=r[3],H=[];for(let M=0;M<W.length;M+=1)H[M]=Wc(Nc(r,W,M));const ne=M=>$(H[M],1,1,()=>{H[M]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Armor",{_context:Ji,_comment:"Section heading"})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Layer",{_context:Ji})}`,l=m("dd"),Y.c(),b=R(),k=m("dt"),k.textContent=`${O.t("Warmth",{_context:Ji})}`,y=m("dd"),C=w(E),z&&z.c(),I=R(),A=m("div");for(let M=0;M<H.length;M+=1)H[M].c();le(A,"class","body-parts svelte-1i5r9mc")},m(M,X){h(M,e,X),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),Y.m(l,null),_(l,b),_(i,k),_(i,y),_(y,C),z&&z.m(i,null),_(e,I),_(e,A);for(let te=0;te<H.length;te+=1)H[te]&&H[te].m(A,null);B=!0},p(M,X){if(D===(D=L(M,X))&&Y?Y.p(M,X):(Y.d(1),Y=D(M),Y&&(Y.c(),Y.m(l,b))),(!B||X[0]&1)&&E!==(E=(M[0].warmth??0)+"")&&K(C,E),M[0].sided?z?z.p(M,X):(z=jc(),z.c(),z.m(i,null)):z&&(z.d(1),z=null),X[0]&1023){W=M[3];let te;for(te=0;te<W.length;te+=1){const F=Nc(M,W,te);H[te]?(H[te].p(F,X),g(H[te],1)):(H[te]=Wc(F),H[te].c(),g(H[te],1),H[te].m(A,null))}for(fe(),te=W.length;te<H.length;te+=1)ne(te);ae()}},i(M){if(!B){for(let X=0;X<W.length;X+=1)g(H[X]);B=!0}},o(M){H=H.filter(Boolean);for(let X=0;X<H.length;X+=1)$(H[X]);B=!1},d(M){M&&p(e),Y.d(),z&&z.d(),ye(H,M)}}}const Ji="Item Armor Info";function PO(r,e){const[n,t]=typeof r=="number"?[r,r]:r,[i,o]=typeof e=="number"?[e,e]:e;return[n+i,t+o]}function jO(r){return typeof r=="string"?{type:r}:{...r}}function UO(r){return Array.isArray(r)&&typeof r[0]=="string"}function GO(r,e,n){var H,ne;let{item:t}=e,i=jt("data");const o=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:Array.isArray(t.material)?UO(t.material)?t.material.map(M=>({type:M,portion:1})):t.material.map(M=>({portion:1,...M})):Object.entries(t.material).map(([M,X])=>({type:M,portion:X})),l=o.reduce((M,X)=>M+X.portion,0),s=[];for(const M of t.armor??[]){const X=((H=M.material)==null?void 0:H.map(jO))??o.map(te=>({type:te.type,covered_by_mat:100,thickness:te.portion/l*(t.material_thickness??0)}));for(const te of AI(M.covers??[])){const F=i.byId("body_part",te),j=s.find(Z=>Z.covers.includes(te));if(j){j.encumbrance=PO(j.encumbrance??0,M.encumbrance??0);const Z=A(F,M)/100,x=A(F,j)/100,Q=M.coverage??0;j.coverage+=Q*Z|0,j.cover_melee+=(M.cover_melee??Q)*Z|0,j.cover_ranged+=(M.cover_ranged??Q)*Z|0,j.cover_vitals=(j.cover_vitals??0)+(M.cover_vitals??0),j.material_thickness=((M.material_thickness??t.material_thickness??0)*Z+(j.material_thickness??t.material_thickness??0)*x)/(Z+x),j.environmental_protection=((M.environmental_protection??t.environmental_protection??0)*Z+(j.environmental_protection??t.environmental_protection??0)*x)/(Z+x)|0,j.environmental_protection_with_filter=((M.environmental_protection_with_filter??t.environmental_protection_with_filter??0)*Z+(j.environmental_protection_with_filter??t.environmental_protection_with_filter??0)*x)/(Z+x)|0,j.layers=j.layers??[];for(const V of M.layers??[])j.layers.includes(V)||j.layers.push(V);for(const V of X){const ie=j.material.find(_e=>_e.type===V.type);if(ie){const _e=A(F,M),re=A(F,j);ie.covered_by_mat=(ie.covered_by_mat??100)+(V.covered_by_mat??100)*_e/100|0,ie.thickness=(_e*(V.thickness??0)+re*(ie.thickness??0))/(re+_e)}else{const _e=A(F,M),re=JSON.parse(JSON.stringify(V));re.covered_by_mat=(V.covered_by_mat??100)*_e/100,j.material.push(re)}}for(const V of M.specifically_covers??[])(ne=j.specifically_covers)!=null&&ne.includes(V)||(j.specifically_covers==null&&(j.specifically_covers=[]),j.specifically_covers.push(V))}else{const Z=JSON.parse(JSON.stringify(M));Z.covers=[te];const x=A(F,Z)/100,Q=Z.coverage??0;Z.coverage=Q*x|0,Z.cover_melee=(Z.cover_melee??Q)*x|0,Z.cover_ranged=(Z.cover_ranged??Q)*x|0,Z.material=JSON.parse(JSON.stringify(X));for(const V of Z.material??[])V.covered_by_mat=(V.covered_by_mat??100)*Z.coverage/100;s.push(Z)}}}for(const M of s)for(const X of M.material??[])X.covered_by_mat=(X.covered_by_mat??100)/(M.coverage??0)*100|0;function a(M){const X=new Set,te=[];for(const F of M??[]){if(X.has(F))continue;const j=i.byId("body_part",F);j.opposite_part&&M.includes(j.opposite_part)?(te.push(Yt(j.heading_multiple)),X.add(j.opposite_part)):te.push(Yt(j.heading)),X.add(F)}return te}function f(M){const X=new Set,te=[];for(const F of M??[]){if(X.has(F))continue;const j=i.byId("sub_body_part",F);j.opposite&&M.includes(j.opposite)?(te.push(Yt(j.name_multiple??j.name)),X.add(j.opposite)):te.push(Yt(j.name)),X.add(F)}return te}const c=[...new Set(s.flatMap(M=>M.covers))],d=[...If(c,M=>{const{covers:X,...te}=s.find(F=>F.covers.includes(M));return[JSON.stringify(te)]}).values()].map(M=>{const X=s.find(te=>te.covers.includes(M[0]));return{bp_ids:M,apd:X}}),b=M=>a(M).join(", "),k={IMBALANCED:{type:"flat",value:10},RESTRICTS_NECK:{type:"flat",value:10},WELL_SUPPORTED:{type:"mult",value:-20},NONE:{type:"flat",value:0}};function y(M,X,te){var ce;const F=i.byId("body_part",te).encumbrance_per_weight;if(!F)return 0;const j=F.map(({weight:Ee,encumbrance:we})=>({weight:Qi(Ee),encumbrance:we}));j.sort((Ee,we)=>Ee.weight-we.weight);const Z=j.findIndex(({weight:Ee})=>Ee>X),x=Z-1,Q=j[x],V=j[Z],ie=(X-Q.weight)/(V.weight-Q.weight);let _e=Q.encumbrance+(V.encumbrance-Q.encumbrance)*ie,re=100,ee=0;if((ce=M.encumbrance_modifiers)!=null&&ce.length)for(const Ee of M.encumbrance_modifiers){const we=k[Ee];we.type==="flat"?ee+=we.value:we.type==="mult"&&(re+=we.value)}return _e=Math.round(_e*re/100)+ee,Math.max(_e,1)}const E=(M,X)=>{var te;return X+Math.floor((((te=t.pocket_data)==null?void 0:te.reduce((F,j)=>F+Math.floor(j.rigid?0:wr(j.max_contains_volume??0)*(j.volume_encumber_modifier??1)),0))??0)*(M.volume_encumber_modifier??1)/250)},C=M=>{var X,te;if((X=M.apd.encumbrance_modifiers)!=null&&X.length){let F=y(M.apd,Qi(t.weight??1),M.bp_ids[0]);return(te=t.flags)!=null&&te.includes("VARSIZE")&&(F=Math.min(F*2,F+10)),[F,F]}return typeof M.apd.encumbrance=="number"?[M.apd.encumbrance,E(M.apd,M.apd.encumbrance)]:M.apd.encumbrance??[0,0]},I=M=>Math.max(Math.floor(M/2),M-10);function A(M,X){var Z;if(!((Z=M.sub_parts)!=null&&Z.length))return 100;let te=0,F=0;const j=X.specifically_covers&&X.specifically_covers.length?X.specifically_covers.map(x=>i.byId("sub_body_part",x)):i.byType("sub_body_part").filter(x=>x.parent===M.id);for(const x of j)M.id===x.parent&&(x.secondary?F+=x.max_coverage??0:te+=x.max_coverage??0);return Math.max(te,F)}function B(M){var X;for(const te of s)if((X=te.covers)!=null&&X.includes(M))return te.material;return[]}function L(){return s.length===0?0:s.reduce((X,te)=>X+(te.environmental_protection??t.environmental_protection??0),0)/s.length}function D(M,X){{const x=B(M);if(x!=null&&x.length){let Q=0;for(const ie of x)Q+=X(i.byId("material",ie.type))*(ie.covered_by_mat??0)*.01;const V=L();return V<10&&(Q*=V/10),Q}}let te=0;const{mats:F,total:j}=W();if(F.length){for(const x of F)te+=X(i.byId("material",x.type));te/=j}const Z=L();return Z<10&&(te*=Z/10),te}function Y(M){return D(M,X=>{var te;return X.acid_resist??((te=X.resist)==null?void 0:te.acid)??0})}function z(M){return D(M,X=>{var te;return X.fire_resist??((te=X.resist)==null?void 0:te.heat)??0})}function W(){let M=0;const X=[];if(Array.isArray(t.material)){for(const te of t.material)if(typeof te=="string")X.push({type:te,portion:1}),M+=1;else if(typeof te=="object"){const F={type:te.type,portion:te.portion??1};M+=F.portion,X.push(F)}}return{mats:X,total:M}}return r.$$set=M=>{"item"in M&&n(0,t=M.item)},[t,i,f,d,b,C,I,L,Y,z]}class qO extends ht{constructor(e){super(),pt(this,e,GO,FO,mt,{item:0},null,[-1,-1])}}function Vc(r,e,n){const t=r.slice();return t[11]=e[n],t}function Jc(r,e,n){const t=r.slice();return t[14]=e[n],t[16]=n,t}function Xc(r,e,n){const t=r.slice();return t[11]=e[n],t}function Kc(r,e,n){const t=r.slice();return t[14]=e[n],t[16]=n,t}function Zc(r,e,n){const t=r.slice();return t[20]=e[n][0],t[21]=e[n][1],t}function YO(r){let e,n,t;return{c(){e=w("The "),n=m("strong"),n.textContent="head",t=w(".")},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},d(i){i&&p(e),i&&p(n),i&&p(t)}}}function HO(r){let e,n,t;return{c(){e=w("The "),n=m("strong"),n.textContent="eyes",t=w(".")},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},d(i){i&&p(e),i&&p(n),i&&p(t)}}}function zO(r){let e,n,t;return{c(){e=w("The "),n=m("strong"),n.textContent="mouth",t=w(".")},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},d(i){i&&p(e),i&&p(n),i&&p(t)}}}function WO(r){let e,n,t;return{c(){e=w("The "),n=m("strong"),n.textContent="torso",t=w(".")},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},d(i){i&&p(e),i&&p(n),i&&p(t)}}}function VO(r){let e,n,t,i,o;return{c(){e=w("The "),n=m("strong"),t=w("right "),i=w(r[20]),o=w(".")},m(l,s){h(l,e,s),h(l,n,s),_(n,t),_(n,i),h(l,o,s)},d(l){l&&p(e),l&&p(n),l&&p(o)}}}function JO(r){let e,n,t,i,o;return{c(){e=w("The "),n=m("strong"),t=w("left "),i=w(r[20]),o=w(".")},m(l,s){h(l,e,s),h(l,n,s),_(n,t),_(n,i),h(l,o,s)},d(l){l&&p(e),l&&p(n),l&&p(o)}}}function XO(r){let e,n,t,i;return{c(){e=w("The "),n=m("strong"),t=w(r[21]),i=w(".")},m(o,l){h(o,e,l),h(o,n,l),_(n,t),h(o,i,l)},d(o){o&&p(e),o&&p(n),o&&p(i)}}}function KO(r){let e,n,t,i;return{c(){e=w("Either "),n=m("strong"),t=w(r[20]),i=w(".")},m(o,l){h(o,e,l),h(o,n,l),_(n,t),h(o,i,l)},d(o){o&&p(e),o&&p(n),o&&p(i)}}}function Qc(r){let e,n,t,i,o,l=" ",s;function a(u,d){if(d&1&&(e=null),e==null&&(e=!!(u[0].sided&&(u[3](`${u[20]}_l`)||u[3](`${u[20]}_r`)))),e)return KO;if(n==null&&(n=!!(u[3](`${u[20]}_l`)&&u[3](`${u[20]}_r`))),n)return XO;if(t==null&&(t=!!u[3](`${u[20]}_l`)),t)return JO;if(i==null&&(i=!!u[3](`${u[20]}_r`)),i)return VO}let f=a(r,-1),c=f&&f(r);return{c(){c&&c.c(),o=R(),s=w(l)},m(u,d){c&&c.m(u,d),h(u,o,d),h(u,s,d)},p(u,d){f!==(f=a(u,d))&&(c&&c.d(1),c=f&&f(u),c&&(c.c(),c.m(o.parentNode,o)))},d(u){c&&c.d(u),u&&p(o),u&&p(s)}}}function ZO(r){let e;return{c(){e=w("Nothing.")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function QO(r){let e;return{c(){e=w("Normal")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function xO(r){let e;return{c(){e=w("Outer aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function eR(r){let e;return{c(){e=w("Waist")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function tR(r){let e;return{c(){e=w("Outer")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function nR(r){let e;return{c(){e=w("Strapped")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function iR(r){let e;return{c(){e=w("Close to skin")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function lR(r){let e;return{c(){e=w("Personal aura")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function rR(r){let e=(r[0].encumbrance??0)+"",n,t,i=r[0].max_encumbrance&&xc(r);return{c(){n=w(e),i&&i.c(),t=ue()},m(o,l){h(o,n,l),i&&i.m(o,l),h(o,t,l)},p(o,l){l&1&&e!==(e=(o[0].encumbrance??0)+"")&&K(n,e),o[0].max_encumbrance?i?i.p(o,l):(i=xc(o),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null)},d(o){o&&p(n),i&&i.d(o),o&&p(t)}}}function oR(r){let e,n=r[5],t=[];for(let i=0;i<n.length;i+=1)t[i]=tu(Xc(r,n,i));return{c(){e=m("dl");for(let i=0;i<t.length;i+=1)t[i].c()},m(i,o){h(i,e,o);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(i,o){if(o&96){n=i[5];let l;for(l=0;l<n.length;l+=1){const s=Xc(i,n,l);t[l]?t[l].p(s,o):(t[l]=tu(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(i){i&&p(e),ye(t,i)}}}function xc(r){let e=" ",n,t,i=r[0].max_encumbrance+"",o,l;return{c(){n=w(e),t=w("("),o=w(i),l=w(" when full)")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p(s,a){a&1&&i!==(i=s[0].max_encumbrance+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function sR(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function eu(r){let e=r[14]+"",n,t=r[16]!==0&&sR();return{c(){t&&t.c(),n=w(e)},m(i,o){t&&t.m(i,o),h(i,n,o)},p:oe,d(i){t&&t.d(i),i&&p(n)}}}function fR(r){let e=(r[11].encumbrance??0)+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function aR(r){let e=r[11].encumbrance[0]+"",n,t,i,o=r[11].encumbrance[1]!==r[11].encumbrance[0]&&cR(r);return{c(){n=w(e),t=R(),o&&o.c(),i=ue()},m(l,s){h(l,n,s),h(l,t,s),o&&o.m(l,s),h(l,i,s)},p(l,s){l[11].encumbrance[1]!==l[11].encumbrance[0]&&o.p(l,s)},d(l){l&&p(n),l&&p(t),o&&o.d(l),l&&p(i)}}}function cR(r){let e,n=r[11].encumbrance[1]+"",t,i;return{c(){e=w("("),t=w(n),i=w(" when full)")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function tu(r){let e,n,t,i,o=r[6](r[11]),l=[];for(let c=0;c<o.length;c+=1)l[c]=eu(Kc(r,o,c));function s(c,u){return Array.isArray(c[11].encumbrance)?aR:fR}let f=s(r)(r);return{c(){e=m("dt");for(let c=0;c<l.length;c+=1)l[c].c();n=R(),t=m("dd"),f.c(),i=R()},m(c,u){h(c,e,u);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(e,null);_(e,n),h(c,t,u),f.m(t,null),_(t,i)},p(c,u){if(u&96){o=c[6](c[11]);let d;for(d=0;d<o.length;d+=1){const b=Kc(c,o,d);l[d]?l[d].p(b,u):(l[d]=eu(b),l[d].c(),l[d].m(e,n))}for(;d<l.length;d+=1)l[d].d(1);l.length=o.length}f.p(c,u)},d(c){c&&p(e),ye(l,c),c&&p(t),f.d()}}}function uR(r){let e=(r[0].coverage??0)+"",n,t;return{c(){n=w(e),t=w("%")},m(i,o){h(i,n,o),h(i,t,o)},p(i,o){o&1&&e!==(e=(i[0].coverage??0)+"")&&K(n,e)},d(i){i&&p(n),i&&p(t)}}}function _R(r){let e,n=r[0].armor,t=[];for(let i=0;i<n.length;i+=1)t[i]=iu(Vc(r,n,i));return{c(){e=m("dl");for(let i=0;i<t.length;i+=1)t[i].c()},m(i,o){h(i,e,o);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(i,o){if(o&65){n=i[0].armor;let l;for(l=0;l<n.length;l+=1){const s=Vc(i,n,l);t[l]?t[l].p(s,o):(t[l]=iu(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(i){i&&p(e),ye(t,i)}}}function dR(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function nu(r){let e=r[14]+"",n,t=r[16]!==0&&dR();return{c(){t&&t.c(),n=w(e)},m(i,o){t&&t.m(i,o),h(i,n,o)},p(i,o){o&1&&e!==(e=i[14]+"")&&K(n,e)},d(i){t&&t.d(i),i&&p(n)}}}function iu(r){let e,n,t,i=(r[11].coverage??0)+"",o,l,s=r[6](r[11]),a=[];for(let f=0;f<s.length;f+=1)a[f]=nu(Jc(r,s,f));return{c(){e=m("dt");for(let f=0;f<a.length;f+=1)a[f].c();n=R(),t=m("dd"),o=w(i),l=w("%")},m(f,c){h(f,e,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);_(e,n),h(f,t,c),_(t,o),_(t,l)},p(f,c){if(c&65){s=f[6](f[11]);let u;for(u=0;u<s.length;u+=1){const d=Jc(f,s,u);a[u]?a[u].p(d,c):(a[u]=nu(d),a[u].c(),a[u].m(e,n))}for(;u<a.length;u+=1)a[u].d(1);a.length=s.length}c&1&&i!==(i=(f[11].coverage??0)+"")&&K(o,i)},d(f){f&&p(e),ye(a,f),f&&p(t)}}}function lu(r){let e,n,t,i,o,l=(r[0].environmental_protection??0)+"",s,a=r[1].length&&mR(r);return{c(){e=m("dt"),e.textContent="Protection",n=m("dd"),t=m("dl"),a&&a.c(),i=m("dt"),i.textContent="Environ.",o=m("dd"),s=w(l),le(i,"title","Environmental")},m(f,c){h(f,e,c),h(f,n,c),_(n,t),a&&a.m(t,null),_(t,i),_(t,o),_(o,s)},p(f,c){f[1].length&&a.p(f,c),c&1&&l!==(l=(f[0].environmental_protection??0)+"")&&K(s,l)},d(f){f&&p(e),f&&p(n),a&&a.d()}}}function mR(r){let e,n,t=(r[1].reduce(ru,0)*(r[0].material_thickness??0)/r[2]).toFixed(2)+"",i,o,l,s,a=(r[1].reduce(ou,0)*(r[0].material_thickness??0)/r[2]).toFixed(2)+"",f,c,u,d,b=(r[1].reduce(su,0)*(r[0].material_thickness??0)/r[2]).toFixed(2)+"",k,y,E,C,I=r[7]().toFixed(2)+"",A,B,L,D,Y=r[8]().toFixed(2)+"",z,W;return{c(){e=m("dt"),e.textContent="Bash",n=m("dd"),i=w(t),o=R(),l=m("dt"),l.textContent="Cut",s=m("dd"),f=w(a),c=R(),u=m("dt"),u.textContent="Ballistic",d=m("dd"),k=w(b),y=R(),E=m("dt"),E.textContent="Acid",C=m("dd"),A=w(I),B=R(),L=m("dt"),L.textContent="Fire",D=m("dd"),z=w(Y),W=R()},m(H,ne){h(H,e,ne),h(H,n,ne),_(n,i),_(n,o),h(H,l,ne),h(H,s,ne),_(s,f),_(s,c),h(H,u,ne),h(H,d,ne),_(d,k),_(d,y),h(H,E,ne),h(H,C,ne),_(C,A),_(C,B),h(H,L,ne),h(H,D,ne),_(D,z),_(D,W)},p(H,ne){ne&1&&t!==(t=(H[1].reduce(ru,0)*(H[0].material_thickness??0)/H[2]).toFixed(2)+"")&&K(i,t),ne&1&&a!==(a=(H[1].reduce(ou,0)*(H[0].material_thickness??0)/H[2]).toFixed(2)+"")&&K(f,a),ne&1&&b!==(b=(H[1].reduce(su,0)*(H[0].material_thickness??0)/H[2]).toFixed(2)+"")&&K(k,b),ne&1&&I!==(I=H[7]().toFixed(2)+"")&&K(A,I),ne&1&&Y!==(Y=H[8]().toFixed(2)+"")&&K(z,Y)},d(H){H&&p(e),H&&p(n),H&&p(l),H&&p(s),H&&p(u),H&&p(d),H&&p(E),H&&p(C),H&&p(L),H&&p(D)}}}function pR(r){let e,n,t,i,o,l,s=r[3]("head"),a,f=r[3]("eyes"),c,u=r[3]("mouth"),d,b=r[3]("torso"),k,y,E,C,I,A,B,L,D,Y,z,W,H,ne,M=(r[0].warmth??0)+"",X,te,F,j,Z,x,Q,V=s&&YO(),ie=f&&HO(),_e=u&&zO(),re=b&&WO(),ee=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]],ce=[];for(let Be=0;Be<4;Be+=1)ce[Be]=Qc(Zc(r,ee,Be));let Ee=!r[4]&&ZO();function we(Be,et){return et&1&&(A=null),et&1&&(B=null),et&1&&(L=null),et&1&&(D=null),et&1&&(Y=null),et&1&&(z=null),A==null&&(A=!!(Be[0].flags??[]).includes("PERSONAL")),A?lR:(B==null&&(B=!!(Be[0].flags??[]).includes("SKINTIGHT")),B?iR:(L==null&&(L=!!(Be[0].flags??[]).includes("BELTED")),L?nR:(D==null&&(D=!!(Be[0].flags??[]).includes("OUTER")),D?tR:(Y==null&&(Y=!!(Be[0].flags??[]).includes("WAIST")),Y?eR:(z==null&&(z=!!(Be[0].flags??[]).includes("AURA")),z?xO:QO)))))}let De=we(r,-1),ze=De(r);function We(Be,et){return Be[5]?oR:rR}let Qe=We(r)(r);function ve(Be,et){return Be[0].armor?_R:uR}let Te=ve(r),Ce=Te(r),it=(r[1].length||r[0].environmental_protection)&&lu(r);return{c(){e=m("section"),n=m("h1"),n.textContent="Armor",t=R(),i=m("dl"),o=m("dt"),o.textContent="Covers",l=m("dd"),V&&V.c(),a=R(),ie&&ie.c(),c=R(),_e&&_e.c(),d=R(),re&&re.c(),k=R();for(let Be=0;Be<4;Be+=1)ce[Be].c();y=R(),Ee&&Ee.c(),E=R(),C=m("dt"),C.textContent="Layer",I=m("dd"),ze.c(),W=R(),H=m("dt"),H.textContent="Warmth",ne=m("dd"),X=w(M),te=m("dt"),te.textContent="Encumbrance",F=m("dd"),Qe.c(),j=R(),Z=m("dt"),Z.textContent=`Coverage
    `,x=m("dd"),Ce.c(),Q=R(),it&&it.c(),le(Z,"title","This determines how likely it is that an attack hits the item instead of the player.")},m(Be,et){h(Be,e,et),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),V&&V.m(l,null),_(l,a),ie&&ie.m(l,null),_(l,c),_e&&_e.m(l,null),_(l,d),re&&re.m(l,null),_(l,k);for(let xe=0;xe<4;xe+=1)ce[xe]&&ce[xe].m(l,null);_(l,y),Ee&&Ee.m(l,null),_(l,E),_(i,C),_(i,I),ze.m(I,null),_(I,W),_(i,H),_(i,ne),_(ne,X),_(i,te),_(i,F),Qe.m(F,null),_(F,j),_(i,Z),_(i,x),Ce.m(x,null),_(x,Q),it&&it.m(i,null)},p(Be,[et]){if(et&9){ee=[["arm","arms"],["hand","hands"],["leg","legs"],["foot","feet"]];let xe;for(xe=0;xe<4;xe+=1){const At=Zc(Be,ee,xe);ce[xe]?ce[xe].p(At,et):(ce[xe]=Qc(At),ce[xe].c(),ce[xe].m(l,y))}for(;xe<4;xe+=1)ce[xe].d(1)}De!==(De=we(Be,et))&&(ze.d(1),ze=De(Be),ze&&(ze.c(),ze.m(I,W))),et&1&&M!==(M=(Be[0].warmth??0)+"")&&K(X,M),Qe.p(Be,et),Te===(Te=ve(Be))&&Ce?Ce.p(Be,et):(Ce.d(1),Ce=Te(Be),Ce&&(Ce.c(),Ce.m(x,Q))),Be[1].length||Be[0].environmental_protection?it?it.p(Be,et):(it=lu(Be),it.c(),it.m(i,null)):it&&(it.d(1),it=null)},i:oe,o:oe,d(Be){Be&&p(e),V&&V.d(),ie&&ie.d(),_e&&_e.d(),re&&re.d(),ye(ce,Be),Ee&&Ee.d(),ze.d(),Qe.d(),Ce.d(),it&&it.d()}}}function hR(r){return Array.isArray(r)&&typeof r[0]=="string"}const ru=(r,e)=>r+(e.material.bash_resist??0)*(e.portion??1),ou=(r,e)=>r+(e.material.cut_resist??0)*(e.portion??1),su=(r,e)=>r+(e.material.bullet_resist??0)*(e.portion??1);function gR(r,e,n){let{item:t}=e,i=jt("data"),l=(t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:Array.isArray(t.material)?hR(t.material)?t.material.map(k=>({type:k,portion:1})):t.material:Object.entries(t.material).map(([k,y])=>({type:k,portion:y}))).map(k=>({material:i.byId("material",k.type),portion:k.portion}));const s=l.reduce((k,y)=>k+(y.portion??1),0);function a(k){return(t.covers??[]).includes(k)||(t.armor??[]).some(y=>(y.covers??[]).includes(k))}let f=(t.covers??[]).length||(t.armor??[]).length;const c=t.armor??t.armor_portion_data;function u(k){const y=new Set,E=[];for(const C of k.covers??[]){if(y.has(C))continue;const I=i.byId("body_part",C);I.opposite_part&&k.covers.includes(I.opposite_part)?(E.push(Yt(I.heading_multiple)),y.add(I.opposite_part)):E.push(Yt(I.heading)),y.add(C)}return E}const d=()=>{let k=l.reduce((E,C)=>E+(C.material.acid_resist??0)*(C.portion??1),0)/s;const y=t.environmental_protection??0;return y<10&&(k*=y/10),k},b=()=>{let k=l.reduce((E,C)=>E+(C.material.fire_resist??0)*(C.portion??1),0)/s;const y=t.environmental_protection??0;return y<10&&(k*=y/10),k};return r.$$set=k=>{"item"in k&&n(0,t=k.item)},[t,l,s,a,f,c,u,d,b]}class bR extends ht{constructor(e){super(),pt(this,e,gR,pR,mt,{item:0})}}function $R(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[yR,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Bash",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function fu(r){let e,n,t=r[3].bash.str_min+"",i,o;return{c(){e=m("span"),n=w("(≥ "),i=w(t),o=w(" STR)"),bt(e,"color","var(--cata-color-gray)")},m(l,s){h(l,e,s),_(e,n),_(e,i),_(e,o)},p(l,s){s&8&&t!==(t=l[3].bash.str_min+"")&&K(i,t)},d(l){l&&p(e)}}}function yR(r){var a;let e,n,t,i,o,l;e=new Dt({props:{item:r[0].byId(r[3].type,r[3].id)}}),t=new ge({props:{id:r[3].id,type:r[3].type}});let s=((a=r[3].bash)==null?void 0:a.str_min)&&fu(r);return{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment),i=R(),s&&s.c(),o=ue()},m(f,c){U(e,f,c),h(f,n,c),U(t,f,c),h(f,i,c),s&&s.m(f,c),h(f,o,c),l=!0},p(f,c){var b;const u={};c&8&&(u.item=f[0].byId(f[3].type,f[3].id)),e.$set(u);const d={};c&8&&(d.id=f[3].id),c&8&&(d.type=f[3].type),t.$set(d),(b=f[3].bash)!=null&&b.str_min?s?s.p(f,c):(s=fu(f),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i(f){l||(g(e.$$.fragment,f),g(t.$$.fragment,f),l=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),l=!1},d(f){G(e,f),f&&p(n),G(t,f),f&&p(i),s&&s.d(f),f&&p(o)}}}function kR(r){let e,n,t=r[1].length&&$R(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function vR(r,e,n){let{item_id:t}=e;const i=jt("data");let o=i.bashFromFurniture(t).concat(i.bashFromTerrain(t),i.bashFromVehiclePart(t));return r.$$set=l=>{"item_id"in l&&n(2,t=l.item_id)},[i,o,t]}class wR extends ht{constructor(e){super(),pt(this,e,vR,kR,mt,{item_id:2})}}function au(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[0].installation_data}}),{c(){e=m("dt"),e.textContent=`${O.t("Installation data",{_context:Kr})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].installation_data),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function ER(r){let e,n,t,i,o,l,s,a,f,c=(r[0].difficulty??0)+"",u,d,b,k=(r[0].is_upgrade?O.t("Yes"):O.t("No"))+"",y,E;s=new ge({props:{type:"bionic",id:r[0].bionic_id??r[0].id}});let C=r[0].installation_data&&au(r);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Bionic",{_context:Kr,_comment:"Section heading"})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Installs as",{_context:Kr})}`,l=m("dd"),q(s.$$.fragment),a=m("dt"),a.textContent=`${O.t("Difficulty",{_context:Kr})}`,f=m("dd"),u=w(c),d=m("dt"),d.textContent=`${O.t("Is upgrade",{_context:Kr})}`,b=m("dd"),y=w(k),C&&C.c()},m(I,A){h(I,e,A),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),U(s,l,null),_(i,a),_(i,f),_(f,u),_(i,d),_(i,b),_(b,y),C&&C.m(i,null),E=!0},p(I,[A]){const B={};A&1&&(B.id=I[0].bionic_id??I[0].id),s.$set(B),(!E||A&1)&&c!==(c=(I[0].difficulty??0)+"")&&K(u,c),(!E||A&1)&&k!==(k=(I[0].is_upgrade?O.t("Yes"):O.t("No"))+"")&&K(y,k),I[0].installation_data?C?(C.p(I,A),A&1&&g(C,1)):(C=au(I),C.c(),g(C,1),C.m(i,null)):C&&(fe(),$(C,1,1,()=>{C=null}),ae())},i(I){E||(g(s.$$.fragment,I),g(C),E=!0)},o(I){$(s.$$.fragment,I),$(C),E=!1},d(I){I&&p(e),G(s),C&&C.d()}}}const Kr="Item Bionic Info";function TR(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class SR extends ht{constructor(e){super(),pt(this,e,TR,ER,mt,{item:0})}}function cu(r,e,n){const t=r.slice();return t[5]=e[n][0],t[6]=e[n][1],t}function CR(r){let e,n,t,i,o,l=(r[0].required_level??0)+"",s,a,f,c=(r[0].max_level??0)+"",u,d;return t=new ge({props:{id:r[2],type:"skill"}}),{c(){e=m("dt"),e.textContent=`${O.t("Skill",{_context:Xi})}`,n=m("dd"),q(t.$$.fragment),i=m("dt"),i.textContent=`${O.t("Required Level",{_context:Xi})}`,o=m("dd"),s=w(l),a=m("dt"),a.textContent=`${O.t("Maximum Level",{_context:Xi})}`,f=m("dd"),u=w(c)},m(b,k){h(b,e,k),h(b,n,k),U(t,n,null),h(b,i,k),h(b,o,k),_(o,s),h(b,a,k),h(b,f,k),_(f,u),d=!0},p(b,k){(!d||k&1)&&l!==(l=(b[0].required_level??0)+"")&&K(s,l),(!d||k&1)&&c!==(c=(b[0].max_level??0)+"")&&K(u,c)},i(b){d||(g(t.$$.fragment,b),d=!0)},o(b){$(t.$$.fragment,b),d=!1},d(b){b&&p(e),b&&p(n),G(t),b&&p(i),b&&p(o),b&&p(a),b&&p(f)}}}function uu(r){let e,n,t=r[0].chapters+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Chapters",{_context:Xi})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].chapters+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function _u(r){let e,n,t,i;return t=new ge({props:{type:"martial_art",id:r[0].martial_art}}),{c(){e=m("dt"),e.textContent=`${O.t("Martial Art",{_context:Xi})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].martial_art),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function IR(r){let e,n,t,i,o=[...r[1].entries()].sort(mu),l=[];for(let a=0;a<o.length;a+=1)l[a]=du(cu(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Recipes",{_context:Xi})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c()},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f&2){o=[...a[1].entries()].sort(mu);let c;for(c=0;c<o.length;c+=1){const u=cu(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=du(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function du(r){let e,n,t,i=r[6]+"",o,l,s;return n=new ge({props:{id:r[5],type:"item"}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(")")},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p:oe,i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function OR(r){let e,n,t,i,o,l,s=(r[0].intelligence??0)+"",a,f,c,u=(r[0].time??0)+"",d,b,k,y=(r[0].fun??0)+"",E,C,I,A,B=r[2]&&CR(r),L=r[0].chapters&&uu(r),D=r[0].martial_art&&_u(r),Y=r[1].size&&IR(r);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Book",{_context:Xi,_comment:"Section heading"})}`,t=R(),i=m("dl"),B&&B.c(),o=m("dt"),o.textContent=`${O.t("Required Intelligence",{_context:Xi})}`,l=m("dd"),a=w(s),f=m("dt"),f.textContent=`${O.t("Read Time",{_context:Xi})}`,c=m("dd"),d=w(u),b=m("dt"),b.textContent=`${O.t("Fun",{_context:Xi})}`,k=m("dd"),E=w(y),L&&L.c(),C=ue(),D&&D.c(),I=ue(),Y&&Y.c()},m(z,W){h(z,e,W),_(e,n),_(e,t),_(e,i),B&&B.m(i,null),_(i,o),_(i,l),_(l,a),_(i,f),_(i,c),_(c,d),_(i,b),_(i,k),_(k,E),L&&L.m(i,null),_(i,C),D&&D.m(i,null),_(i,I),Y&&Y.m(i,null),A=!0},p(z,[W]){z[2]&&B.p(z,W),(!A||W&1)&&s!==(s=(z[0].intelligence??0)+"")&&K(a,s),(!A||W&1)&&u!==(u=(z[0].time??0)+"")&&K(d,u),(!A||W&1)&&y!==(y=(z[0].fun??0)+"")&&K(E,y),z[0].chapters?L?L.p(z,W):(L=uu(z),L.c(),L.m(i,C)):L&&(L.d(1),L=null),z[0].martial_art?D?(D.p(z,W),W&1&&g(D,1)):(D=_u(z),D.c(),g(D,1),D.m(i,I)):D&&(fe(),$(D,1,1,()=>{D=null}),ae()),z[1].size&&Y.p(z,W)},i(z){A||(g(B),g(D),g(Y),A=!0)},o(z){$(B),$(D),$(Y),A=!1},d(z){z&&p(e),B&&B.d(),L&&L.d(),D&&D.d(),Y&&Y.d()}}}const Xi="Item Book Info",mu=(r,e)=>r[1]!==e[1]?r[1]-e[1]:r[0].localeCompare(e[0]);function RR(r,e,n){let{item:t}=e,i=jt("data");const o=new Map;function l(a,f){o.set(a,Math.min(f,o.get(a)??1/0))}for(const a of i.byType("recipe"))if(a.result){if(Array.isArray(a.book_learn))for(const[f,c=0]of a.book_learn)f===t.id&&l(a.result,c);else if(a.book_learn)for(const[f,c]of Object.entries(a.book_learn))f===t.id&&l(a.result,c.skill_level??0)}const s=t.read_skill??t.skill;return r.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,o,s]}class AR extends ht{constructor(e){super(),pt(this,e,RR,OR,mt,{item:0})}}function NR(r){let e,n,t,i,o;return i=new Wt({props:{items:r[0],$$slots:{default:[BR,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Fermented From",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function BR(r){let e,n,t,i,o=(r[3].brewable.time??"1 turn")+"",l,s,a;return e=new Dt({props:{item:r[3]}}),t=new ge({props:{id:r[3].id,type:"item"}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment),i=w(" ("),l=w(o),s=w(")")},m(f,c){U(e,f,c),h(f,n,c),U(t,f,c),h(f,i,c),h(f,l,c),h(f,s,c),a=!0},p(f,c){const u={};c&8&&(u.item=f[3]),e.$set(u);const d={};c&8&&(d.id=f[3].id),t.$set(d),(!a||c&8)&&o!==(o=(f[3].brewable.time??"1 turn")+"")&&K(l,o)},i(f){a||(g(e.$$.fragment,f),g(t.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),a=!1},d(f){G(e,f),f&&p(n),G(t,f),f&&p(i),f&&p(l),f&&p(s)}}}function MR(r){let e,n,t=r[0].length&&NR(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function DR(r,e,n){let{item_id:t}=e;const o=jt("data").brewedFrom(t);return r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class LR extends ht{constructor(e){super(),pt(this,e,DR,MR,mt,{item_id:1})}}function pu(r,e,n){const t=r.slice();t[2]=e[n][0],t[3]=e[n][1];const i=t[1].byId("vitamin",t[2]);t[4]=i;const o=t[4].weight_per_unit?Qi(t[4].weight_per_unit):null;t[5]=o;const l=24*60*60/bl(t[4].rate);t[6]=l;const s=typeof t[3]=="string"?Qi(t[3]):t[5]?t[3]/100*t[6]*t[5]:null;t[7]=s;const a=typeof t[3]=="number"?t[3]:t[7]&&t[5]?t[7]/t[5]/t[6]*100:null;return t[8]=a,t}function hu(r,e,n){const t=r.slice();return t[11]=e[n].addiction,t[12]=e[n].potential,t}function gu(r){let e,n,t,i,o,l=ef(r[0]),s=[];for(let f=0;f<l.length;f+=1)s[f]=bu(hu(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Addiction",{_context:qi})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&1){l=ef(f[0]);let u;for(u=0;u<l.length;u+=1){const d=hu(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=bu(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function bu(r){let e,n,t,i=r[12]+"",o,l,s;return n=new ge({props:{type:"addiction_type",id:r[11]}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(`)
            `)},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p(a,f){const c={};f&1&&(c.id=a[11]),n.$set(c),(!s||f&1)&&i!==(i=a[12]+"")&&K(o,i)},i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function $u(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[0].smoking_result}}),{c(){e=m("dt"),e.textContent=`${O.t("Smoking Result",{_context:qi})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].smoking_result),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function yu(r){let e,n,t=(100/(r[0].parasites??0)).toPrecision(2)+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Parasites",{_context:qi})}`,n=m("dd"),i=w(t),o=w("%")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p(l,s){s&1&&t!==(t=(100/(l[0].parasites??0)).toPrecision(2)+"")&&K(i,t)},d(l){l&&p(e),l&&p(n)}}}function ku(r){let e,n,t,i,o=r[0].vitamins,l=[];for(let a=0;a<o.length;a+=1)l[a]=wu(pu(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Vitamins",{_context:qi})}`,n=m("dd"),t=m("dl");for(let a=0;a<l.length;a+=1)l[a].c();bt(t,"font-variant","tabular-nums")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f&3){o=a[0].vitamins;let c;for(c=0;c<o.length;c+=1){const u=pu(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=wu(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function FR(r){var f;let e=((f=r[8])==null?void 0:f.toFixed(2))+"",n,t,i=" ",o,l,s,a=r[7]&&vu(r);return{c(){n=w(e),t=w("%"),o=w(i),l=R(),a&&a.c(),s=ue()},m(c,u){h(c,n,u),h(c,t,u),h(c,o,u),h(c,l,u),a&&a.m(c,u),h(c,s,u)},p(c,u){var d;u&1&&e!==(e=((d=c[8])==null?void 0:d.toFixed(2))+"")&&K(n,e),c[7]?a?a.p(c,u):(a=vu(c),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},d(c){c&&p(n),c&&p(t),c&&p(o),c&&p(l),a&&a.d(c),c&&p(s)}}}function PR(r){let e=r[8]+"",n,t;return{c(){n=w(e),t=w(" U")},m(i,o){h(i,n,o),h(i,t,o)},p(i,o){o&1&&e!==(e=i[8]+"")&&K(n,e)},d(i){i&&p(n),i&&p(t)}}}function vu(r){let e;function n(o,l){return o[7]>=.001?UR:jR}let t=n(r),i=t(r);return{c(){i.c(),e=ue()},m(o,l){i.m(o,l),h(o,e,l)},p(o,l){t===(t=n(o))&&i?i.p(o,l):(i.d(1),i=t(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&p(e)}}}function jR(r){let e,n=(r[7]*1e3*1e3).toFixed(0)+"",t,i;return{c(){e=w("("),t=w(n),i=w(" μg)")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p(o,l){l&1&&n!==(n=(o[7]*1e3*1e3).toFixed(0)+"")&&K(t,n)},d(o){o&&p(e),o&&p(t),o&&p(i)}}}function UR(r){let e,n=(r[7]*1e3).toFixed(1)+"",t,i;return{c(){e=w("("),t=w(n),i=w(" mg)")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p(o,l){l&1&&n!==(n=(o[7]*1e3).toFixed(1)+"")&&K(t,n)},d(o){o&&p(e),o&&p(t),o&&p(i)}}}function wu(r){let e,n,t,i,o,l;n=new ge({props:{id:r[2],type:"vitamin"}});function s(c,u){return c[4].vit_type==="counter"||c[4].vit_type==="drug"?PR:FR}let a=s(r),f=a(r);return{c(){e=m("dt"),q(n.$$.fragment),t=R(),i=m("dd"),f.c(),o=R()},m(c,u){h(c,e,u),U(n,e,null),_(e,t),h(c,i,u),f.m(i,null),_(i,o),l=!0},p(c,u){const d={};u&1&&(d.id=c[2]),n.$set(d),a===(a=s(c))&&f?f.p(c,u):(f.d(1),f=a(c),f&&(f.c(),f.m(i,o)))},i(c){l||(g(n.$$.fragment,c),l=!0)},o(c){$(n.$$.fragment,c),l=!1},d(c){c&&p(e),G(n),c&&p(i),f.d()}}}function GR(r){var _e;let e,n,t,i,o,l,s=(r[0].calories??0)+"",a,f,c,u,d=(r[0].quench??0)+"",b,k,y,E=(r[0].fun??0)+"",C,I,A,B=(r[0].charges??1)+"",L,D,Y,z=(r[0].spoils_in??"never")+"",W,H,ne,M=(r[0].healthy??0)+"",X,te,F,j,Z,x=r[0].addiction_type&&gu(r),Q=r[0].smoking_result&&$u(r),V=(r[0].parasites??!1)&&yu(r),ie=((_e=r[0].vitamins)==null?void 0:_e.length)&&ku(r);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Comestible",{_context:qi})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Calories",{_context:qi})}`,l=m("dd"),a=w(s),f=w(" kcal"),c=m("dt"),c.textContent=`${O.t("Quench",{_context:qi})}`,u=m("dd"),b=w(d),k=m("dt"),k.textContent=`${O.t("Enjoyability",{_context:qi})}`,y=m("dd"),C=w(E),I=m("dt"),I.textContent=`${O.t("Portions",{_context:qi})}`,A=m("dd"),L=w(B),D=m("dt"),D.textContent=`${O.t("Spoils In",{_context:qi})}`,Y=m("dd"),W=w(z),H=m("dt"),H.textContent=`${O.t("Health",{_context:qi})}`,ne=m("dd"),X=w(M),x&&x.c(),te=ue(),Q&&Q.c(),F=ue(),V&&V.c(),j=ue(),ie&&ie.c()},m(re,ee){h(re,e,ee),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),_(l,a),_(l,f),_(i,c),_(i,u),_(u,b),_(i,k),_(i,y),_(y,C),_(i,I),_(i,A),_(A,L),_(i,D),_(i,Y),_(Y,W),_(i,H),_(i,ne),_(ne,X),x&&x.m(i,null),_(i,te),Q&&Q.m(i,null),_(i,F),V&&V.m(i,null),_(i,j),ie&&ie.m(i,null),Z=!0},p(re,[ee]){var ce;(!Z||ee&1)&&s!==(s=(re[0].calories??0)+"")&&K(a,s),(!Z||ee&1)&&d!==(d=(re[0].quench??0)+"")&&K(b,d),(!Z||ee&1)&&E!==(E=(re[0].fun??0)+"")&&K(C,E),(!Z||ee&1)&&B!==(B=(re[0].charges??1)+"")&&K(L,B),(!Z||ee&1)&&z!==(z=(re[0].spoils_in??"never")+"")&&K(W,z),(!Z||ee&1)&&M!==(M=(re[0].healthy??0)+"")&&K(X,M),re[0].addiction_type?x?(x.p(re,ee),ee&1&&g(x,1)):(x=gu(re),x.c(),g(x,1),x.m(i,te)):x&&(fe(),$(x,1,1,()=>{x=null}),ae()),re[0].smoking_result?Q?(Q.p(re,ee),ee&1&&g(Q,1)):(Q=$u(re),Q.c(),g(Q,1),Q.m(i,F)):Q&&(fe(),$(Q,1,1,()=>{Q=null}),ae()),re[0].parasites??!1?V?V.p(re,ee):(V=yu(re),V.c(),V.m(i,j)):V&&(V.d(1),V=null),(ce=re[0].vitamins)!=null&&ce.length?ie?(ie.p(re,ee),ee&1&&g(ie,1)):(ie=ku(re),ie.c(),g(ie,1),ie.m(i,null)):ie&&(fe(),$(ie,1,1,()=>{ie=null}),ae())},i(re){Z||(g(x),g(Q),g(ie),Z=!0)},o(re){$(x),$(Q),$(ie),Z=!1},d(re){re&&p(e),x&&x.d(),Q&&Q.d(),V&&V.d(),ie&&ie.d()}}}const qi="Item Comestible Info";function qR(r,e,n){let{item:t}=e;const i=jt("data");return r.$$set=o=>{"item"in o&&n(0,t=o.item)},[t,i]}class YR extends ht{constructor(e){super(),pt(this,e,qR,GR,mt,{item:0})}}function Eu(r,e,n){const t=r.slice();t[13]=e[n],t[16]=n;const i=t[13].startsWith("f_")?"furniture":"terrain";return t[14]=i,t}function Tu(r,e,n){const t=r.slice();t[13]=e[n],t[16]=n;const i=t[13].startsWith("f_")?"furniture":"terrain";return t[14]=i,t}function HR(r){let e,n,t,i,o;return i=new Wt({props:{items:r[3],$$slots:{default:[zR,({item:l})=>({18:l}),({item:l})=>l?262144:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Provided By Vehicle Parts",{_context:Yr,_comment:"Section heading"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&786432&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function zR(r){let e,n,t,i;return e=new Dt({props:{item:r[18]}}),t=new ge({props:{type:r[18].type,id:r[18].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&262144&&(s.item=o[18]),e.$set(s);const a={};l&262144&&(a.type=o[18].type),l&262144&&(a.id=o[18].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function WR(r){let e,n,t,i,o;return i=new Wt({props:{items:r[4],$$slots:{default:[VR,({item:l})=>({18:l}),({item:l})=>l?262144:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Provided By Furniture",{_context:Yr,_comment:"Section heading"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&786432&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function VR(r){let e,n,t,i;return e=new Dt({props:{item:r[18]}}),t=new ge({props:{type:r[18].type,id:r[18].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&262144&&(s.item=o[18]),e.$set(s);const a={};l&262144&&(a.type=o[18].type),l&262144&&(a.id=o[18].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function JR(r){let e,n,t,i=r[5].length&&XR(r),o=r[6].length&&ZR(r);return{c(){e=m("div"),i&&i.c(),n=R(),o&&o.c(),le(e,"class","side-by-side")},m(l,s){h(l,e,s),i&&i.m(e,null),_(e,n),o&&o.m(e,null),t=!0},p(l,s){l[5].length&&i.p(l,s),l[6].length&&o.p(l,s)},i(l){t||(g(i),g(o),t=!0)},o(l){$(i),$(o),t=!1},d(l){l&&p(e),i&&i.d(),o&&o.d()}}}function XR(r){let e,n,t,i,o;return i=new Wt({props:{items:r[5],$$slots:{default:[KR,({item:l})=>({18:l}),({item:l})=>l?262144:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Component Of",{_context:Yr,_comment:"Section heading"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&786432&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function KR(r){let e,n,t,i;return e=new Dt({props:{item:r[0].byId("item",r[18])}}),t=new ge({props:{type:"item",id:r[18]}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&262144&&(s.item=o[0].byId("item",o[18])),e.$set(s);const a={};l&262144&&(a.id=o[18]),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function ZR(r){let e,n,t,i,o;return i=new Wt({props:{items:r[6],$$slots:{default:[QR,({item:l})=>({18:l}),({item:l})=>l?262144:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Tool For Crafting",{_context:Yr,_comment:"Section heading"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&786432&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function QR(r){let e,n,t,i;return e=new Dt({props:{item:r[0].byId("item",r[18])}}),t=new ge({props:{type:"item",id:r[18]}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&262144&&(s.item=o[0].byId("item",o[18])),e.$set(s);const a={};l&262144&&(a.id=o[18]),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function xR(r){let e,n,t,i=r[1].length&&eA(r),o=r[2].length&&iA(r);return{c(){e=m("div"),i&&i.c(),n=R(),o&&o.c(),le(e,"class","side-by-side")},m(l,s){h(l,e,s),i&&i.m(e,null),_(e,n),o&&o.m(e,null),t=!0},p(l,s){l[1].length&&i.p(l,s),l[2].length&&o.p(l,s)},i(l){t||(g(i),g(o),t=!0)},o(l){$(i),$(o),t=!1},d(l){l&&p(e),i&&i.d(),o&&o.d()}}}function eA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[nA,({item:l})=>({12:l}),({item:l})=>l?4096:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Used In Construction",{_context:Yr,_comment:"Section heading"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&528384&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function Su(r){let e,n,t,i=[r[12].pre_terrain].flat(),o=[];for(let s=0;s<i.length;s+=1)o[s]=Cu(Tu(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=w("on ");for(let s=0;s<o.length;s+=1)o[s].c();n=ue()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(s,a);h(s,n,a),t=!0},p(s,a){if(a&4097){i=[s[12].pre_terrain].flat();let f;for(f=0;f<i.length;f+=1){const c=Tu(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=Cu(c),o[f].c(),g(o[f],1),o[f].m(n.parentNode,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s),s&&p(n)}}}function tA(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function Cu(r){let e,n,t,i,o,l=r[16]!==0&&tA();return n=new Dt({props:{item:r[0].byId(r[14],r[13])}}),i=new ge({props:{type:r[14],id:r[13]}}),{c(){l&&l.c(),e=R(),q(n.$$.fragment),t=R(),q(i.$$.fragment)},m(s,a){l&&l.m(s,a),h(s,e,a),U(n,s,a),h(s,t,a),U(i,s,a),o=!0},p(s,a){s[16]!==0&&l.p(s,a);const f={};a&4096&&(f.item=s[0].byId(s[14],s[13])),n.$set(f);const c={};a&4096&&(c.type=s[14]),a&4096&&(c.id=s[13]),i.$set(c)},i(s){o||(g(n.$$.fragment,s),g(i.$$.fragment,s),o=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),o=!1},d(s){l&&l.d(s),s&&p(e),G(n,s),s&&p(t),G(i,s)}}}function nA(r){let e,n,t,i;e=new ge({props:{id:r[12].group,type:"construction_group"}});let o=r[12].pre_terrain&&Su(r);return{c(){q(e.$$.fragment),n=R(),o&&o.c(),t=ue()},m(l,s){U(e,l,s),h(l,n,s),o&&o.m(l,s),h(l,t,s),i=!0},p(l,s){const a={};s&4096&&(a.id=l[12].group),e.$set(a),l[12].pre_terrain?o?(o.p(l,s),s&4096&&g(o,1)):(o=Su(l),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(fe(),$(o,1,1,()=>{o=null}),ae())},i(l){i||(g(e.$$.fragment,l),g(o),i=!0)},o(l){$(e.$$.fragment,l),$(o),i=!1},d(l){G(e,l),l&&p(n),o&&o.d(l),l&&p(t)}}}function iA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[2],$$slots:{default:[rA,({item:l})=>({12:l}),({item:l})=>l?4096:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Tool For Construction",{_context:Yr,_comment:"Section heading"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&528384&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function Iu(r){let e,n,t,i=[r[12].pre_terrain].flat(),o=[];for(let s=0;s<i.length;s+=1)o[s]=Ou(Eu(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=w("on ");for(let s=0;s<o.length;s+=1)o[s].c();n=ue()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(s,a);h(s,n,a),t=!0},p(s,a){if(a&4097){i=[s[12].pre_terrain].flat();let f;for(f=0;f<i.length;f+=1){const c=Eu(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=Ou(c),o[f].c(),g(o[f],1),o[f].m(n.parentNode,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s),s&&p(n)}}}function lA(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function Ou(r){let e,n,t,i,o,l=r[16]!==0&&lA();return n=new Dt({props:{item:r[0].byId(r[14],r[13])}}),i=new ge({props:{type:r[14],id:r[13]}}),{c(){l&&l.c(),e=R(),q(n.$$.fragment),t=R(),q(i.$$.fragment)},m(s,a){l&&l.m(s,a),h(s,e,a),U(n,s,a),h(s,t,a),U(i,s,a),o=!0},p(s,a){s[16]!==0&&l.p(s,a);const f={};a&4096&&(f.item=s[0].byId(s[14],s[13])),n.$set(f);const c={};a&4096&&(c.type=s[14]),a&4096&&(c.id=s[13]),i.$set(c)},i(s){o||(g(n.$$.fragment,s),g(i.$$.fragment,s),o=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),o=!1},d(s){l&&l.d(s),s&&p(e),G(n,s),s&&p(t),G(i,s)}}}function rA(r){let e,n,t,i;e=new ge({props:{id:r[12].group,type:"construction_group"}});let o=r[12].pre_terrain&&Iu(r);return{c(){q(e.$$.fragment),n=R(),o&&o.c(),t=ue()},m(l,s){U(e,l,s),h(l,n,s),o&&o.m(l,s),h(l,t,s),i=!0},p(l,s){const a={};s&4096&&(a.id=l[12].group),e.$set(a),l[12].pre_terrain?o?(o.p(l,s),s&4096&&g(o,1)):(o=Iu(l),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(fe(),$(o,1,1,()=>{o=null}),ae())},i(l){i||(g(e.$$.fragment,l),g(o),i=!0)},o(l){$(e.$$.fragment,l),$(o),i=!1},d(l){G(e,l),l&&p(n),o&&o.d(l),l&&p(t)}}}function oA(r){let e,n,t,i,o,l=r[3].length&&HR(r),s=r[4].length&&WR(r),a=(r[5].length||r[6].length)&&JR(r),f=(r[1].length||r[2].length)&&xR(r);return{c(){l&&l.c(),e=R(),s&&s.c(),n=R(),a&&a.c(),t=R(),f&&f.c(),i=ue()},m(c,u){l&&l.m(c,u),h(c,e,u),s&&s.m(c,u),h(c,n,u),a&&a.m(c,u),h(c,t,u),f&&f.m(c,u),h(c,i,u),o=!0},p(c,[u]){c[3].length&&l.p(c,u),c[4].length&&s.p(c,u),(c[5].length||c[6].length)&&a.p(c,u),(c[1].length||c[2].length)&&f.p(c,u)},i(c){o||(g(l),g(s),g(a),g(f),o=!0)},o(c){$(l),$(s),$(a),$(f),o=!1},d(c){l&&l.d(c),c&&p(e),s&&s.d(c),c&&p(n),a&&a.d(c),c&&p(t),f&&f.d(c),c&&p(i)}}}const Yr="Item Basic Info";function sA(r,e,n){let{item_id:t}=e;const i=jt("data"),o=i.getItemComponents(),l=o.byComponent.get(t)??new Set,s=o.byTool.get(t)??new Set,a=i.getConstructionComponents(),f=[...a.byComponent.get(t)??new Set].map(y=>i.byId("construction",y)).sort((y,E)=>He(i.byId("construction_group",y.group)).localeCompare(He(i.byId("construction_group",E.group)))),c=[...a.byTool.get(t)??new Set].map(y=>i.byId("construction",y)).sort((y,E)=>He(i.byId("construction_group",y.group)).localeCompare(He(i.byId("construction_group",E.group)))),u=i.byType("vehicle_part").filter(y=>{var E;return y.id&&((E=y.pseudo_tools)==null?void 0:E.some(C=>C.id===t))}),d=i.byType("furniture").filter(y=>y.id&&y.crafting_pseudo_item===t),b=[...l].sort((y,E)=>He(i.byId("item",y)).localeCompare(He(i.byId("item",E)))),k=[...s].sort((y,E)=>He(i.byId("item",y)).localeCompare(He(i.byId("item",E))));return r.$$set=y=>{"item_id"in y&&n(7,t=y.item_id)},[i,f,c,u,d,b,k,t]}class fA extends ht{constructor(e){super(),pt(this,e,sA,oA,mt,{item_id:7})}}function Ru(r,e,n){const t=r.slice();t[4]=e[n],t[7]=n;const i=t[4].startsWith("f_")?"furniture":"terrain";return t[5]=i,t}function aA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[uA,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Construct",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&264&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function Au(r){let e,n,t,i=[r[3].pre_terrain].flat(),o=[];for(let s=0;s<i.length;s+=1)o[s]=Nu(Ru(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=w("on ");for(let s=0;s<o.length;s+=1)o[s].c();n=ue()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(s,a);h(s,n,a),t=!0},p(s,a){if(a&9){i=[s[3].pre_terrain].flat();let f;for(f=0;f<i.length;f+=1){const c=Ru(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=Nu(c),o[f].c(),g(o[f],1),o[f].m(n.parentNode,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s),s&&p(n)}}}function cA(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function Nu(r){let e,n,t,i,o,l=r[7]!==0&&cA();return n=new Dt({props:{item:r[0].byId(r[5],r[4])}}),i=new ge({props:{type:r[5],id:r[4]}}),{c(){l&&l.c(),e=R(),q(n.$$.fragment),t=R(),q(i.$$.fragment)},m(s,a){l&&l.m(s,a),h(s,e,a),U(n,s,a),h(s,t,a),U(i,s,a),o=!0},p(s,a){s[7]!==0&&l.p(s,a);const f={};a&8&&(f.item=s[0].byId(s[5],s[4])),n.$set(f);const c={};a&8&&(c.type=s[5]),a&8&&(c.id=s[4]),i.$set(c)},i(s){o||(g(n.$$.fragment,s),g(i.$$.fragment,s),o=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),o=!1},d(s){l&&l.d(s),s&&p(e),G(n,s),s&&p(t),G(i,s)}}}function uA(r){let e,n,t,i;e=new ge({props:{id:r[3].group,type:"construction_group"}});let o=r[3].pre_terrain&&Au(r);return{c(){q(e.$$.fragment),n=R(),o&&o.c(),t=ue()},m(l,s){U(e,l,s),h(l,n,s),o&&o.m(l,s),h(l,t,s),i=!0},p(l,s){const a={};s&8&&(a.id=l[3].group),e.$set(a),l[3].pre_terrain?o?(o.p(l,s),s&8&&g(o,1)):(o=Au(l),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(fe(),$(o,1,1,()=>{o=null}),ae())},i(l){i||(g(e.$$.fragment,l),g(o),i=!0)},o(l){$(e.$$.fragment,l),$(o),i=!1},d(l){G(e,l),l&&p(n),o&&o.d(l),l&&p(t)}}}function _A(r){let e,n,t=r[1].length&&aA(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function dA(r,e,n){let{item_id:t}=e;const i=jt("data"),o=i.byType("construction").filter(l=>i.flattenItemGroup(i.normalizeItemGroup(l.byproducts,"collection")).some(a=>a.id===t)).sort(an);return r.$$set=l=>{"item_id"in l&&n(2,t=l.item_id)},[i,o,t]}class mA extends ht{constructor(e){super(),pt(this,e,dA,_A,mt,{item_id:2})}}function pA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[hA,({item:l})=>({4:l}),({item:l})=>l?16:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Deconstruct",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&48&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function hA(r){let e,n,t,i;return e=new Dt({props:{item:r[0].byId(r[4].type,r[4].id)}}),t=new ge({props:{id:r[4].id,type:r[4].type}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&16&&(s.item=o[0].byId(o[4].type,o[4].id)),e.$set(s);const a={};l&16&&(a.id=o[4].id),l&16&&(a.type=o[4].type),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function gA(r){let e,n,t=r[1].length&&pA(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function bA(r,e,n){let{item_id:t}=e;const i=jt("data");let o=i.byType("vehicle_part").filter(s=>s.id&&s.item===t),l=i.deconstructFrom(t).concat(o);return r.$$set=s=>{"item_id"in s&&n(2,t=s.item_id)},[i,l,t]}class $A extends ht{constructor(e){super(),pt(this,e,bA,gA,mt,{item_id:2})}}function yA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[kA,({item:l})=>({5:l}),({item:l})=>l?32:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Disassemble",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&96&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function kA(r){let e,n,t,i;return e=new Dt({props:{item:r[0].byId("item",r[5])}}),t=new ge({props:{type:"item",id:r[5]}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&32&&(s.item=o[0].byId("item",o[5])),e.$set(s);const a={};l&32&&(a.id=o[5]),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function vA(r){let e,n,t=r[1].length&&yA(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function wA(r,e,n){let{item_id:t}=e,i=jt("data");const o=new Set,l=i.byType("recipe").concat(i.byType("uncraft")).map(a=>a.result).filter(a=>!!a);for(const a of l){const f=i.uncraftRecipe(a);if(f&&f.result){const{components:c}=i.normalizeRequirementsForDisassembly(f);c.map(d=>d[0]).some(([d])=>d===t)&&o.add(f.result)}}const s=[...o].sort((a,f)=>He(i.byId("item",a)).localeCompare(He(i.byId("item",f))));return r.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[i,s,t]}class EA extends ht{constructor(e){super(),pt(this,e,wA,vA,mt,{item_id:2})}}function TA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[SA,({item:l})=>({7:l}),({item:l})=>l?128:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Butcher",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&384&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function SA(r){let e,n,t,i;return e=new Dt({props:{item:r[7]}}),t=new ge({props:{id:r[7].id,type:"monster"}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&128&&(s.item=o[7]),e.$set(s);const a={};l&128&&(a.id=o[7].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function CA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[2],$$slots:{default:[IA,({item:l})=>({7:l}),({item:l})=>l?128:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Dissect",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&384&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function IA(r){let e,n,t,i;return e=new Dt({props:{item:r[7]}}),t=new ge({props:{id:r[7].id,type:"monster"}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&128&&(s.item=o[7]),e.$set(s);const a={};l&128&&(a.id=o[7].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function OA(r){let e,n,t,i,o;e=new Er({props:{type:"monster",loot:r[0],heading:O.t("Dropped By",{_context:"Obtaining"})}});let l=r[1].length&&TA(r),s=r[2].length&&CA(r);return{c(){q(e.$$.fragment),n=R(),l&&l.c(),t=R(),s&&s.c(),i=ue()},m(a,f){U(e,a,f),h(a,n,f),l&&l.m(a,f),h(a,t,f),s&&s.m(a,f),h(a,i,f),o=!0},p(a,[f]){a[1].length&&l.p(a,f),a[2].length&&s.p(a,f)},i(a){o||(g(e.$$.fragment,a),g(l),g(s),o=!0)},o(a){$(e.$$.fragment,a),$(l),$(s),o=!1},d(a){G(e,a),a&&p(n),l&&l.d(a),a&&p(t),s&&s.d(a),a&&p(i)}}}function RA(r,e,n){let{item_id:t}=e,i=jt("data");const o=new Map(i.byType("monster").flatMap(c=>{if(!c.id)return[];const d=i.flatDeathDrops(c.id).get(t);return d?[[c.id,{prob:d.prob,expected:d.expected}]]:[]})),l=c=>{var u;return((u=c.entries)==null?void 0:u.flatMap(d=>{var b;return d.type&&((b=i.byIdMaybe("harvest_drop_type",d.type))!=null&&b.group)?i.flattenTopLevelItemGroup(i.byId("item_group",d.drop)).map(k=>k.id):[d.drop]}))??[]},s=i.byType("harvest").filter(c=>l(c).some(u=>u===t)),a=i.byType("monster").filter(c=>c.id&&s.some(u=>u.id===c.harvest)),f=i.byType("monster").filter(c=>c.id&&s.some(u=>u.id===c.dissect));return r.$$set=c=>{"item_id"in c&&n(3,t=c.item_id)},[o,a,f,t]}class AA extends ht{constructor(e){super(),pt(this,e,RA,OA,mt,{item_id:3})}}function Bu(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t}function NA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[BA,({item:l})=>({5:l}),({item:l})=>l?32:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Forage",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&1056&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function Mu(r){let e,n=r[6]+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function BA(r){let e,n,t,i,o,l;e=new Dt({props:{item:r[5]}}),t=new ge({props:{type:"terrain",id:r[5].id}});let s=r[0],a=[];for(let f=0;f<s.length;f+=1)a[f]=Mu(Bu(r,s,f));return{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment),i=w(` in
      `),o=m("ul");for(let f=0;f<a.length;f+=1)a[f].c();le(o,"class","comma-separated or")},m(f,c){U(e,f,c),h(f,n,c),U(t,f,c),h(f,i,c),h(f,o,c);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(o,null);l=!0},p(f,c){const u={};c&32&&(u.item=f[5]),e.$set(u);const d={};if(c&32&&(d.id=f[5].id),t.$set(d),c&1){s=f[0];let b;for(b=0;b<s.length;b+=1){const k=Bu(f,s,b);a[b]?a[b].p(k,c):(a[b]=Mu(k),a[b].c(),a[b].m(o,null))}for(;b<a.length;b+=1)a[b].d(1);a.length=s.length}},i(f){l||(g(e.$$.fragment,f),g(t.$$.fragment,f),l=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),l=!1},d(f){G(e,f),f&&p(n),G(t,f),f&&p(i),f&&p(o),ye(a,f)}}}function MA(r){let e,n,t=r[0].length&&NA(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function DA(r,e,n){let{item_id:t}=e,i=jt("data");const o={Spring:"forage_spring",Summer:"forage_summer",Autumn:"forage_autumn",Winter:"forage_winter","any season":i.byIdMaybe("item_group","SUS_trash_forest_no_manmade")?"SUS_trash_forest_no_manmade":"trash_forest"},l=Object.entries(o).map(([a,f])=>{var u;const c=i.flattenTopLevelItemGroup(i.byId("item_group",f));return[a,(u=c.find(d=>d.id===t))==null?void 0:u.prob]}).filter(a=>a[1]),s=i.byType("terrain").filter(a=>a.examine_action==="shrub_wildveggies");return r.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[l,s,t]}class LA extends ht{constructor(e){super(),pt(this,e,DA,MA,mt,{item_id:2})}}function FA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[0],$$slots:{default:[PA,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Grown From",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function PA(r){let e,n,t,i,o=(r[3].seed_data.grow??"1 day")+"",l,s,a;return e=new Dt({props:{item:r[3]}}),t=new ge({props:{id:r[3].id,type:"item"}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment),i=w(" ("),l=w(o),s=w(")")},m(f,c){U(e,f,c),h(f,n,c),U(t,f,c),h(f,i,c),h(f,l,c),h(f,s,c),a=!0},p(f,c){const u={};c&8&&(u.item=f[3]),e.$set(u);const d={};c&8&&(d.id=f[3].id),t.$set(d),(!a||c&8)&&o!==(o=(f[3].seed_data.grow??"1 day")+"")&&K(l,o)},i(f){a||(g(e.$$.fragment,f),g(t.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),$(t.$$.fragment,f),a=!1},d(f){G(e,f),f&&p(n),G(t,f),f&&p(i),f&&p(l),f&&p(s)}}}function jA(r){let e,n,t=r[0].length&&FA(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function UA(r,e,n){let{item_id:t}=e;const o=jt("data").grownFrom(t);return r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class GA extends ht{constructor(e){super(),pt(this,e,UA,jA,mt,{item_id:1})}}function Du(r){let e,n,t=r[0].min_strength+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Min Strength",{_context:r[1]})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].min_strength+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Lu(r){let e,n,t=r[0].valid_mod_locations.map(Fu).join(", ")+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Mod Slots",{_context:r[1]})}`,n=m("dd"),i=w(t),o=R()},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p(l,s){s&1&&t!==(t=l[0].valid_mod_locations.map(Fu).join(", ")+"")&&K(i,t)},d(l){l&&p(e),l&&p(n)}}}function qA(r){var ve;let e,n,t,i,o,l,s,a,f,c,u,d,b,k=(r[0].range??0)+"",y,E,C,I=(r[0].dispersion??0)+"",A,B,L,D=((r[0].flags??[]).includes("DISABLE_SIGHTS")?90:r[0].sight_dispersion??30)+"",Y,z,W,H,ne=(r[0].recoil??0)+"",M,X,te,F=(r[0].loudness??0).toFixed(0)+"",j,Z,x,Q=(r[0].reload??100)+"",V,ie,_e,re,ee=(r[0].reload_noise_volume??0)+"",ce,Ee,we,De=(r[0].durability??0)+"",ze,We;s=new ge({props:{type:"skill",id:r[0].skill}});let Ve=r[0].min_strength&&Du(r),Qe=((ve=r[0].valid_mod_locations)==null?void 0:ve.length)&&Lu(r);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Ranged",{_context:r[1],_comment:"Section heading"})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Skill",{_context:r[1]})}`,l=m("dd"),q(s.$$.fragment),Ve&&Ve.c(),a=m("dt"),a.textContent=`${O.t("Base Damage",{_context:r[1]})}`,f=m("dd"),f.textContent=`${r[3].amount??0} (${He(r[2].byIdMaybe("damage_type",r[3].damage_type)??{id:r[3].damage_type})})
    `,c=m("dt"),c.textContent=`${O.t("Armor Penetration",{_context:r[1]})}`,u=m("dd"),u.textContent=`${r[3].armor_penetration??0}`,d=m("dt"),d.textContent=`${O.t("Range Bonus",{_context:r[1]})}`,b=m("dd"),y=w(k),E=m("dt"),E.textContent=`${O.t("Base Dispersion",{_context:r[1]})} 
    `,C=m("dd"),A=w(I),B=m("dt"),B.textContent=`${O.t("Sight Dispersion",{_context:r[1]})}`,L=m("dd"),Y=w(D),z=R(),W=m("dt"),W.textContent=`${O.t("Base Recoil",{_context:r[1]})}`,H=m("dd"),M=w(ne),X=m("dt"),X.textContent=`${O.t("Loudness Modifier",{_context:r[1]})} 
    `,te=m("dd"),j=w(F),Z=m("dt"),Z.textContent=`${O.t("Reload Time",{_context:r[1]})}`,x=m("dd"),V=w(Q),ie=w(" moves"),_e=m("dt"),_e.textContent=`${O.t("Reload Noise Volume",{_context:r[1]})} 
    `,re=m("dd"),ce=w(ee),Qe&&Qe.c(),Ee=m("dt"),Ee.textContent=`${O.t("Durability",{_context:r[1]})}`,we=m("dd"),ze=w(De),le(d,"title","Added to ammo range"),le(E,"title","Added to ammo dispersion"),le(X,"title","Modifies base loudness as provided by the currently loaded ammo"),le(_e,"title","Volume of the noise made when reloading this weapon")},m(Te,Ce){h(Te,e,Ce),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),U(s,l,null),Ve&&Ve.m(i,null),_(i,a),_(i,f),_(i,c),_(i,u),_(i,d),_(i,b),_(b,y),_(i,E),_(i,C),_(C,A),_(i,B),_(i,L),_(L,Y),_(L,z),_(i,W),_(i,H),_(H,M),_(i,X),_(i,te),_(te,j),_(i,Z),_(i,x),_(x,V),_(x,ie),_(i,_e),_(i,re),_(re,ce),Qe&&Qe.m(i,null),_(i,Ee),_(i,we),_(we,ze),We=!0},p(Te,[Ce]){var Be;const it={};Ce&1&&(it.id=Te[0].skill),s.$set(it),Te[0].min_strength?Ve?Ve.p(Te,Ce):(Ve=Du(Te),Ve.c(),Ve.m(i,a)):Ve&&(Ve.d(1),Ve=null),(!We||Ce&1)&&k!==(k=(Te[0].range??0)+"")&&K(y,k),(!We||Ce&1)&&I!==(I=(Te[0].dispersion??0)+"")&&K(A,I),(!We||Ce&1)&&D!==(D=((Te[0].flags??[]).includes("DISABLE_SIGHTS")?90:Te[0].sight_dispersion??30)+"")&&K(Y,D),(!We||Ce&1)&&ne!==(ne=(Te[0].recoil??0)+"")&&K(M,ne),(!We||Ce&1)&&F!==(F=(Te[0].loudness??0).toFixed(0)+"")&&K(j,F),(!We||Ce&1)&&Q!==(Q=(Te[0].reload??100)+"")&&K(V,Q),(!We||Ce&1)&&ee!==(ee=(Te[0].reload_noise_volume??0)+"")&&K(ce,ee),(Be=Te[0].valid_mod_locations)!=null&&Be.length?Qe?Qe.p(Te,Ce):(Qe=Lu(Te),Qe.c(),Qe.m(i,Ee)):Qe&&(Qe.d(1),Qe=null),(!We||Ce&1)&&De!==(De=(Te[0].durability??0)+"")&&K(ze,De)},i(Te){We||(g(s.$$.fragment,Te),We=!0)},o(Te){$(s.$$.fragment,Te),We=!1},d(Te){Te&&p(e),G(s),Ve&&Ve.d(),Qe&&Qe.d()}}}const Fu=([r,e])=>`${r} (${e})`;function YA(r,e,n){let{item:t}=e;const i="Item Gun Info",o=jt("data"),l=Array.isArray(t.ranged_damage)?t.ranged_damage[0]:typeof t.ranged_damage=="number"?t.ranged_damage:t.ranged_damage&&"values"in t.ranged_damage?t.ranged_damage.values[0]:t.ranged_damage??{amount:0,damage_type:"bullet",armor_penetration:0};return r.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,i,o,l]}class HA extends ht{constructor(e){super(),pt(this,e,YA,qA,mt,{item:0,_context:1})}get _context(){return this.$$.ctx[1]}}function zA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[0],$$slots:{default:[WA,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Harvest",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function WA(r){let e,n,t,i;return e=new Dt({props:{item:r[3]}}),t=new ge({props:{type:r[3].type,id:r[3].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&8&&(s.item=o[3]),e.$set(s);const a={};l&8&&(a.type=o[3].type),l&8&&(a.id=o[3].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function VA(r){let e,n,t=r[0].length&&zA(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function JA(r,e,n){let{item_id:t}=e;const i=jt("data"),o=i.byType("terrain").concat(i.byType("furniture")).filter(l=>(l.harvest_by_season??[]).some(s=>s.id?i.byId("harvest",s.id).entries.some(f=>f.type==="bionic_group"?i.flattenTopLevelItemGroup(i.byId("item_group",f.drop)).some(c=>c.id===t):f.drop===t):!1));return o.sort(an),r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class XA extends ht{constructor(e){super(),pt(this,e,JA,VA,mt,{item_id:1})}}function KA(r){let e,n,t,i,o;return i=new Wt({props:{items:r[0],$$slots:{default:[ZA,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Mill",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function ZA(r){let e,n,t,i;return e=new Dt({props:{item:r[3]}}),t=new ge({props:{type:"item",id:r[3].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&8&&(s.item=o[3]),e.$set(s);const a={};l&8&&(a.id=o[3].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function QA(r){let e,n,t=r[0].length&&KA(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function xA(r,e,n){let{item_id:t}=e;const o=jt("data").byType("item").filter(l=>{var s;return l.id&&((s=l.milling)==null?void 0:s.into)===t});return o.sort(an),r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class eN extends ht{constructor(e){super(),pt(this,e,xA,QA,mt,{item_id:1})}}function tN(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[nN,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Compatible Items",{_context:"Item Magazine Info"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&9&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function nN(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"item",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function iN(r){let e,n,t=r[1].length&&tN(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function lN(r,e,n){let{item:t}=e;const o=jt("data").compatibleItems(t);return o.sort(an),r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,o]}class rN extends ht{constructor(e){super(),pt(this,e,lN,iN,mt,{item:0})}}function Pu(r,e,n){const t=r.slice();return t[11]=e[n],t}function ju(r,e,n){const t=r.slice();return t[14]=e[n][0],t[15]=e[n][1],t}function Uu(r,e,n){const t=r.slice();return t[11]=e[n],t}function Gu(r){let e,n,t,i,o,l,s=(r[0].bashing??0)+"",a,f,c,u=(r[0].cutting??0)+"",d,b,k,y,E,C=r[4](r[0])+"",I,A,B=r[2].length&&oN(r);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Melee",{_context:ml,_comment:"Section heading"})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Bash",{_context:"Damage Type"})}`,l=m("dd"),a=w(s),f=m("dt"),f.textContent=`${O.t(r[5]?"Pierce":"Cut",{_context:"Damage Type"})} 
      `,c=m("dd"),d=w(u),b=m("dt"),b.textContent=`${O.t("To Hit",{_context:ml})}`,k=m("dd"),k.textContent=`${r[3]}`,y=m("dt"),y.textContent=`${O.t("Moves Per Attack",{_context:ml})}`,E=m("dd"),I=w(C),B&&B.c()},m(L,D){h(L,e,D),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),_(l,a),_(i,f),_(i,c),_(c,d),_(i,b),_(i,k),_(i,y),_(i,E),_(E,I),B&&B.m(i,null),A=!0},p(L,D){(!A||D&1)&&s!==(s=(L[0].bashing??0)+"")&&K(a,s),(!A||D&1)&&u!==(u=(L[0].cutting??0)+"")&&K(d,u),(!A||D&1)&&C!==(C=L[4](L[0])+"")&&K(I,C),L[2].length&&B.p(L,D)},i(L){A||(g(B),A=!0)},o(L){$(B),A=!1},d(L){L&&p(e),B&&B.d()}}}function oN(r){let e,n,t,i,o=r[2],l=[];for(let a=0;a<o.length;a+=1)l[a]=qu(Uu(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Techniques",{_context:ml})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","no-bullets")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f&4){o=a[2];let c;for(c=0;c<o.length;c+=1){const u=Uu(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=qu(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function sN(r){let e,n=Yt(r[11].description)+"",t;return{c(){e=w(": "),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p:oe,d(i){i&&p(e),i&&p(t)}}}function qu(r){let e,n,t,i,o;t=new ge({props:{type:"technique",id:r[11].id}});let l=r[11].description&&sN(r);return{c(){e=m("li"),n=m("strong"),q(t.$$.fragment),l&&l.c(),i=R()},m(s,a){h(s,e,a),_(e,n),U(t,n,null),l&&l.m(e,null),_(e,i),o=!0},p(s,a){s[11].description&&l.p(s,a)},i(s){o||(g(t.$$.fragment,s),o=!0)},o(s){$(t.$$.fragment,s),o=!1},d(s){s&&p(e),G(t),l&&l.d()}}}function Yu(r){let e,n,t,i,o,l,s,a,f=r[4](r[0])+"",c,u,d=Object.entries(r[0].melee_damage),b=[];for(let y=0;y<d.length;y+=1)b[y]=Hu(ju(r,d,y));let k=r[2].length&&fN(r);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Melee",{_context:ml,_comment:"Section heading"})}`,t=R(),i=m("dl");for(let y=0;y<b.length;y+=1)b[y].c();o=m("dt"),o.textContent=`${O.t("To Hit",{_context:ml})}`,l=m("dd"),l.textContent=`${r[3]}`,s=m("dt"),s.textContent=`${O.t("Moves Per Attack",{_context:ml})}`,a=m("dd"),c=w(f),k&&k.c()},m(y,E){h(y,e,E),_(e,n),_(e,t),_(e,i);for(let C=0;C<b.length;C+=1)b[C]&&b[C].m(i,null);_(i,o),_(i,l),_(i,s),_(i,a),_(a,c),k&&k.m(i,null),u=!0},p(y,E){if(E&3){d=Object.entries(y[0].melee_damage);let C;for(C=0;C<d.length;C+=1){const I=ju(y,d,C);b[C]?b[C].p(I,E):(b[C]=Hu(I),b[C].c(),b[C].m(i,o))}for(;C<b.length;C+=1)b[C].d(1);b.length=d.length}(!u||E&1)&&f!==(f=y[4](y[0])+"")&&K(c,f),y[2].length&&k.p(y,E)},i(y){u||(g(k),u=!0)},o(y){$(k),u=!1},d(y){y&&p(e),ye(b,y),k&&k.d()}}}function Hu(r){let e,n=He(r[1].byIdMaybe("damage_type",r[14])??{id:r[14]})+"",t,i,o,l=r[15]+"",s;return{c(){e=m("dt"),t=w(n),i=R(),o=m("dd"),s=w(l)},m(a,f){h(a,e,f),_(e,t),_(e,i),h(a,o,f),_(o,s)},p(a,f){f&1&&n!==(n=He(a[1].byIdMaybe("damage_type",a[14])??{id:a[14]})+"")&&K(t,n),f&1&&l!==(l=a[15]+"")&&K(s,l)},d(a){a&&p(e),a&&p(o)}}}function fN(r){let e,n,t,i,o=r[2],l=[];for(let a=0;a<o.length;a+=1)l[a]=zu(Pu(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Techniques",{_context:ml})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","no-bullets")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f&4){o=a[2];let c;for(c=0;c<o.length;c+=1){const u=Pu(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=zu(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function aN(r){let e,n=Yt(r[11].description)+"",t;return{c(){e=w(": "),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p:oe,d(i){i&&p(e),i&&p(t)}}}function zu(r){let e,n,t,i,o;t=new ge({props:{type:"technique",id:r[11].id}});let l=r[11].description&&aN(r);return{c(){e=m("li"),n=m("strong"),q(t.$$.fragment),l&&l.c(),i=R()},m(s,a){h(s,e,a),_(e,n),U(t,n,null),l&&l.m(e,null),_(e,i),o=!0},p(s,a){s[11].description&&l.p(s,a)},i(s){o||(g(t.$$.fragment,s),o=!0)},o(s){$(t.$$.fragment,s),o=!1},d(s){s&&p(e),G(t),l&&l.d()}}}function cN(r){let e,n,t,i=(r[0].bashing||r[0].cutting)&&Gu(r),o=r[0].melee_damage&&Yu(r);return{c(){i&&i.c(),e=R(),o&&o.c(),n=ue()},m(l,s){i&&i.m(l,s),h(l,e,s),o&&o.m(l,s),h(l,n,s),t=!0},p(l,[s]){l[0].bashing||l[0].cutting?i?(i.p(l,s),s&1&&g(i,1)):(i=Gu(l),i.c(),g(i,1),i.m(e.parentNode,e)):i&&(fe(),$(i,1,1,()=>{i=null}),ae()),l[0].melee_damage?o?(o.p(l,s),s&1&&g(o,1)):(o=Yu(l),o.c(),g(o,1),o.m(n.parentNode,n)):o&&(fe(),$(o,1,1,()=>{o=null}),ae())},i(l){t||(g(i),g(o),t=!0)},o(l){$(i),$(o),t=!1},d(l){i&&i.d(l),l&&p(e),o&&o.d(l),l&&p(n)}}}const ml="Item Melee Info";function uN(r,e,n){let t=jt("data"),{item:i}=e,o=(i.techniques??[]).map(k=>t.byId("technique",k));const l={bad:0,none:1,solid:2,weapon:3},s={hand:0,short:1,long:2},a={point:0,line:1,any:2,every:3},f={clumsy:0,uneven:1,neutral:2,good:3},c=({grip:k="weapon",length:y="hand",surface:E="any",balance:C="neutral"})=>{const I=l[k],A=s[y],B=a[E],L=f[C],D=-2,Y=-1,z=-2,W=-2;return D+Y+z+W+I+A+B+L},u=typeof i.to_hit=="object"?c(i.to_hit):i.to_hit??-2;function d(k){return Math.floor(65+(Math.floor(wr(k.volume??"1 ml")/62.5)+Math.floor(Qi(k.weight??0)/60)))}const b=(i.flags??[]).includes("SPEAR")||(i.flags??[]).includes("STAB");return r.$$set=k=>{"item"in k&&n(0,i=k.item)},[i,t,o,u,d,b]}class _N extends ht{constructor(e){super(),pt(this,e,uN,cN,mt,{item:0})}}function Wu(r){let e,n=O.t("View",{_context:Vu})+"",t,i,o,l,s=O.t("Edit on GitHub",{_context:Vu})+"",a,f;return{c(){e=m("a"),t=w(n),o=w(`
  /
  `),l=m("a"),a=w(s),le(e,"href",i=`https://github.com/CleverRaven/Cataclysm-DDA/blob/${r[1]??"master"}/${r[0].__filename}`),le(e,"target","_blank"),le(l,"href",f=`https://github.dev/CleverRaven/Cataclysm-DDA/blob/${r[1]??"master"}/${r[0].__filename}`),le(l,"target","_blank")},m(c,u){h(c,e,u),_(e,t),h(c,o,u),h(c,l,u),_(l,a)},p(c,u){u&3&&i!==(i=`https://github.com/CleverRaven/Cataclysm-DDA/blob/${c[1]??"master"}/${c[0].__filename}`)&&le(e,"href",i),u&3&&f!==(f=`https://github.dev/CleverRaven/Cataclysm-DDA/blob/${c[1]??"master"}/${c[0].__filename}`)&&le(l,"href",f)},d(c){c&&p(e),c&&p(o),c&&p(l)}}}function dN(r){let e,n=JSON.stringify(r[0],r[2],2)+"",t,i,o,l=r[0].__filename&&Wu(r);return{c(){e=m("pre"),t=w(n),i=R(),l&&l.c(),o=ue()},m(s,a){h(s,e,a),_(e,t),h(s,i,a),l&&l.m(s,a),h(s,o,a)},p(s,[a]){a&1&&n!==(n=JSON.stringify(s[0],s[2],2)+"")&&K(t,n),s[0].__filename?l?l.p(s,a):(l=Wu(s),l.c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},i:oe,o:oe,d(s){s&&p(e),s&&p(i),l&&l.d(s),s&&p(o)}}}const Vu="View/Edit on GitHub";function mN(r,e,n){let{obj:t}=e,{buildNumber:i}=e;const o=(l,s)=>l==="__filename"?void 0:s;return r.$$set=l=>{"obj"in l&&n(0,t=l.obj),"buildNumber"in l&&n(1,i=l.buildNumber)},[t,i,o]}class us extends ht{constructor(e){super(),pt(this,e,mN,dN,mt,{obj:0,buildNumber:1})}}function Ju(r,e,n){const t=r.slice();return t[15]=e[n],t}const pN=r=>({}),Xu=r=>({}),hN=r=>({}),Ku=r=>({}),gN=r=>({}),Zu=r=>({}),bN=r=>({}),Qu=r=>({}),$N=r=>({}),xu=r=>({}),yN=r=>({}),e_=r=>({}),kN=r=>({}),t_=r=>({}),vN=r=>({}),n_=r=>({});function wN(r){let e;const n=r[11][7],t=ki(n,r,r[10],Xu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&wi(t,n,i,i[10],e?vi(n,i[10],o,pN):Ei(i[10]),Xu)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function EN(r){let e;const n=r[11][6],t=ki(n,r,r[10],Ku);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&wi(t,n,i,i[10],e?vi(n,i[10],o,hN):Ei(i[10]),Ku)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function TN(r){let e;const n=r[11][5],t=ki(n,r,r[10],Zu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&wi(t,n,i,i[10],e?vi(n,i[10],o,gN):Ei(i[10]),Zu)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function SN(r){let e;const n=r[11][4],t=ki(n,r,r[10],Qu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&wi(t,n,i,i[10],e?vi(n,i[10],o,bN):Ei(i[10]),Qu)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function CN(r){let e;const n=r[11][3],t=ki(n,r,r[10],xu);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&wi(t,n,i,i[10],e?vi(n,i[10],o,$N):Ei(i[10]),xu)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function IN(r){let e;const n=r[11][2],t=ki(n,r,r[10],e_);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&wi(t,n,i,i[10],e?vi(n,i[10],o,yN):Ei(i[10]),e_)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function ON(r){let e;const n=r[11][1],t=ki(n,r,r[10],t_);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&wi(t,n,i,i[10],e?vi(n,i[10],o,kN):Ei(i[10]),t_)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function RN(r){let e;const n=r[11][0],t=ki(n,r,r[10],n_);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&1024)&&wi(t,n,i,i[10],e?vi(n,i[10],o,vN):Ei(i[10]),n_)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function AN(r){let e=r[15].text+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,i:oe,o:oe,d(t){t&&p(n)}}}function i_(r){let e,n,t,i;const o=[AN,RN,ON,IN,CN,SN,TN,EN,wN],l=[];function s(a,f){return"text"in a[15]?0:a[15].slot===0?1:a[15].slot===1?2:a[15].slot===2?3:a[15].slot===3?4:a[15].slot===4?5:a[15].slot===5?6:a[15].slot===6?7:a[15].slot===7?8:-1}return~(e=s(r))&&(n=l[e]=o[e](r)),{c(){n&&n.c(),t=ue()},m(a,f){~e&&l[e].m(a,f),h(a,t,f),i=!0},p(a,f){n&&n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){~e&&l[e].d(a),a&&p(t)}}}function NN(r){let e,n,t=r[0],i=[];for(let l=0;l<t.length;l+=1)i[l]=i_(Ju(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,[s]){if(s&1025){t=l[0];let a;for(a=0;a<t.length;a+=1){const f=Ju(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=i_(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}const BN=/\{([^}]+)\}/gms;function MN(r,e,n){let{$$slots:t={},$$scope:i}=e,{str:o}=e,{slot0:l=null}=e,{slot1:s=null}=e,{slot2:a=null}=e,{slot3:f=null}=e,{slot4:c=null}=e,{slot5:u=null}=e,{slot6:d=null}=e,{slot7:b=null}=e;const k=new Map;l&&k.set(l,0),s&&k.set(s,1),a&&k.set(a,2),f&&k.set(f,3),c&&k.set(c,4),u&&k.set(u,5),d&&k.set(d,6),b&&k.set(b,7);const y=[];let E,C=0;for(;E=BN.exec(o);){const I=o.substring(C,E.index);I.length&&y.push({text:I}),y.push({slot:k.get(E[1])}),C=E.index+E[0].length}return C<o.length&&y.push({text:o.substring(C)}),r.$$set=I=>{"str"in I&&n(1,o=I.str),"slot0"in I&&n(2,l=I.slot0),"slot1"in I&&n(3,s=I.slot1),"slot2"in I&&n(4,a=I.slot2),"slot3"in I&&n(5,f=I.slot3),"slot4"in I&&n(6,c=I.slot4),"slot5"in I&&n(7,u=I.slot5),"slot6"in I&&n(8,d=I.slot6),"slot7"in I&&n(9,b=I.slot7),"$$scope"in I&&n(10,i=I.$$scope)},[y,o,l,s,a,f,c,u,d,b,i,t]}class Ki extends ht{constructor(e){super(),pt(this,e,MN,NN,mt,{str:1,slot0:2,slot1:3,slot2:4,slot3:5,slot4:6,slot5:7,slot6:8,slot7:9})}}function l_(r,e,n){const t=r.slice();return t[5]=e[n],t}function r_(r,e,n){const t=r.slice();return t[8]=e[n][0],t[9]=e[n][1],t[11]=n,t}function o_(r,e,n){const t=r.slice();return t[12]=e[n],t}function s_(r,e,n){const t=r.slice();return t[15]=e[n],t[11]=n,t}function DN(r){let e,n,t,i,o,l,s=r[2]??[],a=[];for(let b=0;b<s.length;b+=1)a[b]=a_(o_(r,s,b));const f=b=>$(a[b],1,1,()=>{a[b]=null});let c=r[1],u=[];for(let b=0;b<c.length;b+=1)u[b]=u_(l_(r,c,b));const d=b=>$(u[b],1,1,()=>{u[b]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Tools Required",{_context:VN})}`,n=R(),t=m("dd"),i=m("ul");for(let b=0;b<a.length;b+=1)a[b].c();o=R();for(let b=0;b<u.length;b+=1)u[b].c()},m(b,k){h(b,e,k),h(b,n,k),h(b,t,k),_(t,i);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(i,null);_(i,o);for(let y=0;y<u.length;y+=1)u[y]&&u[y].m(i,null);l=!0},p(b,k){if(k&4){s=b[2]??[];let y;for(y=0;y<s.length;y+=1){const E=o_(b,s,y);a[y]?(a[y].p(E,k),g(a[y],1)):(a[y]=a_(E),a[y].c(),g(a[y],1),a[y].m(i,o))}for(fe(),y=s.length;y<a.length;y+=1)f(y);ae()}if(k&3){c=b[1];let y;for(y=0;y<c.length;y+=1){const E=l_(b,c,y);u[y]?(u[y].p(E,k),g(u[y],1)):(u[y]=u_(E),u[y].c(),g(u[y],1),u[y].m(i,null))}for(fe(),y=c.length;y<u.length;y+=1)d(y);ae()}},i(b){if(!l){for(let k=0;k<s.length;k+=1)g(a[k]);for(let k=0;k<c.length;k+=1)g(u[k]);l=!0}},o(b){a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)$(a[k]);u=u.filter(Boolean);for(let k=0;k<u.length;k+=1)$(u[k]);l=!1},d(b){b&&p(e),b&&p(n),b&&p(t),ye(a,b),ye(u,b)}}}function LN(r){let e=" OR ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function FN(r){let e,n;return e=new ge({props:{type:"tool_quality",id:r[15].id,slot:"0"}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function f_(r){let e,n,t,i=r[11]!==0&&LN();return n=new Ki({props:{str:en._n("%1$d tool with %2$s of %3$d or more.","%1$d tools with %2$s of %3$d or more.",r[15].amount??1,r[15].amount??1,"{tool_quality}",r[15].level).replace(/\$./g,""),slot0:"tool_quality",$$slots:{0:[FN]},$$scope:{ctx:r}}}),{c(){i&&i.c(),e=R(),q(n.$$.fragment)},m(o,l){i&&i.m(o,l),h(o,e,l),U(n,o,l),t=!0},p(o,l){const s={};l&131072&&(s.$$scope={dirty:l,ctx:o}),n.$set(s)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),G(n,o)}}}function a_(r){let e,n,t=r[12],i=[];for(let l=0;l<t.length;l+=1)i[l]=f_(s_(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){e=m("li");for(let l=0;l<i.length;l+=1)i[l].c()},m(l,s){h(l,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(l,s){if(s&4){t=l[12];let a;for(a=0;a<t.length;a+=1){const f=s_(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=f_(f),i[a].c(),g(i[a],1),i[a].m(e,null))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){l&&p(e),ye(i,l)}}}function PN(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function jN(r){let e,n;return e=new Ki({props:{str:en.dcnpgettext(null,"requirement","%1$s (%2$d charge)","%1$s (%2$d charges)",r[9],"{item}",r[9]).replace(/\$./g,""),slot0:"item",$$slots:{0:[YN]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&131072&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function UN(r){let e,n,t,i;const o=[zN,HN],l=[];function s(a,f){return a[0].craftingPseudoItem(a[8])?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function GN(r){let e,n;return e=new ge({props:{type:"item",id:r[8]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function qN(r){let e,n=He(r[0].byId("item",r[8]))+"",t;return{c(){e=m("a"),t=w(n),le(e,"href","/cdda-guide/furniture/"+r[0].craftingPseudoItem(r[8])+location.search)},m(i,o){h(i,e,o),_(e,t)},p:oe,i:oe,o:oe,d(i){i&&p(e)}}}function YN(r){let e,n,t,i;const o=[qN,GN],l=[];function s(a,f){return a[0].craftingPseudoItem(a[8])?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function HN(r){let e,n;return e=new ge({props:{type:"item",id:r[8]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function zN(r){let e,n=He(r[0].byId("item",r[8]))+"",t;return{c(){e=m("a"),t=w(n),le(e,"href","/furniture/"+r[0].craftingPseudoItem(r[8])+location.search)},m(i,o){h(i,e,o),_(e,t)},p:oe,i:oe,o:oe,d(i){i&&p(e)}}}function c_(r){let e,n,t,i,o,l=r[11]!==0&&PN();const s=[UN,jN],a=[];function f(c,u){return c[9]<=0?0:1}return n=f(r),t=a[n]=s[n](r),{c(){l&&l.c(),e=R(),t.c(),i=ue()},m(c,u){l&&l.m(c,u),h(c,e,u),a[n].m(c,u),h(c,i,u),o=!0},p(c,u){c[11]!==0&&l.p(c,u),t.p(c,u)},i(c){o||(g(t),o=!0)},o(c){$(t),o=!1},d(c){l&&l.d(c),c&&p(e),a[n].d(c),c&&p(i)}}}function u_(r){let e,n,t,i=r[5],o=[];for(let s=0;s<i.length;s+=1)o[s]=c_(r_(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=R()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);_(e,n),t=!0},p(s,a){if(a&3){i=s[5];let f;for(f=0;f<i.length;f+=1){const c=r_(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=c_(c),o[f].c(),g(o[f],1),o[f].m(e,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s)}}}function WN(r){var i;let e,n,t=(((i=r[2])==null?void 0:i.length)||r[1].length)&&DN(r);return{c(){t&&t.c(),e=ue()},m(o,l){t&&t.m(o,l),h(o,e,l),n=!0},p(o,[l]){var s;((s=o[2])!=null&&s.length||o[1].length)&&t.p(o,l)},i(o){n||(g(t),n=!0)},o(o){$(t),n=!1},d(o){t&&t.d(o),o&&p(e)}}}const VN="Requirement";function JN(r,e,n){let{requirement:t}=e,{direction:i="craft"}=e;const o=jt("data");let{tools:l,qualities:s}=i==="craft"?o.normalizeRequirements(t):o.normalizeRequirementsForDisassembly(t);return r.$$set=a=>{"requirement"in a&&n(3,t=a.requirement),"direction"in a&&n(4,i=a.direction)},[o,l,s,t,i]}class co extends ht{constructor(e){super(),pt(this,e,JN,WN,mt,{requirement:3,direction:4})}}function __(r,e,n){const t=r.slice();return t[6]=e[n],t}function d_(r,e,n){const t=r.slice();return t[9]=e[n].id,t[10]=e[n].count,t[12]=n,t}function XN(r){let e,n;return e=new co({props:{requirement:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.requirement=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function KN(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=p_(__(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Components",{_context:xN})}`,n=R(),t=m("dd"),i=m("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),h(f,n,c),h(f,t,c),_(t,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c&18){l=f[4];let u;for(u=0;u<l.length;u+=1){const d=__(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=p_(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),f&&p(t),ye(s,f)}}}function ZN(r){let e=" OR ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function m_(r){let e,n,t,i=r[12]!==0&&ZN();return n=new ge({props:{type:"item",id:r[9],count:r[10]}}),{c(){i&&i.c(),e=R(),q(n.$$.fragment)},m(o,l){i&&i.m(o,l),h(o,e,l),U(n,o,l),t=!0},p:oe,i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),G(n,o)}}}function p_(r){let e,n,t,i=r[6].map(r[5]).filter(h_),o=[];for(let s=0;s<i.length;s+=1)o[s]=m_(d_(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=R()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);_(e,n),t=!0},p(s,a){if(a&18){i=s[6].map(s[5]).filter(h_);let f;for(f=0;f<i.length;f+=1){const c=d_(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=m_(c),o[f].c(),g(o[f],1),o[f].m(e,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s)}}}function QN(r){var l,s;let e,n,t,i=(((l=r[3])==null?void 0:l.length)||((s=r[2])==null?void 0:s.length))&&XN(r),o=r[4].length&&KN(r);return{c(){i&&i.c(),e=R(),o&&o.c(),n=ue()},m(a,f){i&&i.m(a,f),h(a,e,f),o&&o.m(a,f),h(a,n,f),t=!0},p(a,[f]){var c,u;((c=a[3])!=null&&c.length||(u=a[2])!=null&&u.length)&&i.p(a,f),a[4].length&&o.p(a,f)},i(a){t||(g(i),g(o),t=!0)},o(a){$(i),$(o),t=!1},d(a){i&&i.d(a),a&&p(e),o&&o.d(a),a&&p(n)}}}const xN="Requirement",h_=r=>r.item;function e5(r,e,n){let{requirement:t}=e;const i=jt("data");let{tools:o,qualities:l,components:s}=i.normalizeRequirements(t);const a=([f,c])=>({id:f,count:c,item:i.byId("item",f)});return r.$$set=f=>{"requirement"in f&&n(0,t=f.requirement)},[t,i,o,l,s,a]}class _s extends ht{constructor(e){super(),pt(this,e,e5,QN,mt,{requirement:0})}}function g_(r,e,n){const t=r.slice();return t[11]=e[n][0],t[12]=e[n][1]!==void 0?e[n][1]:0,t}function b_(r,e,n){const t=r.slice();return t[15]=e[n][0],t[12]=e[n][1],t}function $_(r,e,n){const t=r.slice();return t[15]=e[n][0],t[12]=e[n][1],t}function y_(r,e,n){const t=r.slice();return t[20]=e[n],t}function k_(r,e,n){const t=r.slice();t[23]=e[n];const i={_context:li,_comment:"proficiency multiplier"};t[24]=i;const o=[t[23].time_multiplier!==1?`${t[23].time_multiplier}× ${O.t("time",t[24])}`:null,t[23].fail_multiplier!=null&&t[23].fail_multiplier!==1?`${t[23].fail_multiplier}× ${O.t("fail",t[24])}`:null,t[23].skill_penalty!=null&&t[23].skill_penalty!==0?`${t[23].skill_penalty} ${O.t("skill bonus",t[24])}`:null,t[23].learning_time_multiplier!==1?`${t[23].learning_time_multiplier}× ${O.t("learning speed",t[24])}`:null].filter(l=>l);return t[25]=o,t}function v_(r,e,n){const t=r.slice();return t[15]=e[n][0],t[12]=e[n][1],t[29]=n,t}function t5(r){let e=O.t("Craft",{_context:li,_comment:"Section heading"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function n5(r){let e=O.t("Byproduct",{_context:li,_comment:"Section heading"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function i5(r){let e=He(r[0])+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&1&&e!==(e=He(t[0])+"")&&K(n,e)},d(t){t&&p(n)}}}function w_(r){let e;return{c(){e=m("section"),e.textContent=`⚠️ ${O.t("This recipe is not learnable. It may be used by NPCs or for debugging purposes.",{_context:li,_comment:"This is a basecamp recipe or other utility recipe that isn't directly usable by the player."})}`,le(e,"class","warning svelte-1cqkc1l")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function E_(r){let e,n,t,i,o;return t=new ge({props:{id:r[0].result,type:"item",variantId:r[0].variant}}),{c(){e=m("dt"),e.textContent=`${O.t("Result",{_context:li})}`,n=m("dd"),q(t.$$.fragment),i=R()},m(l,s){h(l,e,s),h(l,n,s),U(t,n,null),_(n,i),o=!0},p(l,s){const a={};s&1&&(a.id=l[0].result),s&1&&(a.variantId=l[0].variant),t.$set(a)},i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){$(t.$$.fragment,l),o=!1},d(l){l&&p(e),l&&p(n),G(t)}}}function l5(r){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,i:oe,o:oe,d(t){t&&p(n)}}}function r5(r){let e,n,t=(r[0].difficulty??0)+"",i,o,l;return e=new ge({props:{type:"skill",id:r[0].skill_used}}),{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){U(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),l=!0},p(s,a){const f={};a&1&&(f.id=s[0].skill_used),e.$set(f),(!l||a&1)&&t!==(t=(s[0].difficulty??0)+"")&&K(i,t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){G(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function o5(r){let e,n,t,i,o=r[3],l=[];for(let f=0;f<o.length;f+=1)l[f]=S_(v_(r,o,f));const s=f=>$(l[f],1,1,()=>{l[f]=null});let a=null;return o.length||(a=T_()),{c(){e=m("dt"),e.textContent=`${O.t("Other Skills",{_context:li})}`,n=m("dd");for(let f=0;f<l.length;f+=1)l[f].c();a&&a.c(),t=R()},m(f,c){h(f,e,c),h(f,n,c);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(n,null);a&&a.m(n,null),_(n,t),i=!0},p(f,c){if(c&8){o=f[3];let u;for(u=0;u<o.length;u+=1){const d=v_(f,o,u);l[u]?(l[u].p(d,c),g(l[u],1)):(l[u]=S_(d),l[u].c(),g(l[u],1),l[u].m(n,t))}for(fe(),u=o.length;u<l.length;u+=1)s(u);ae(),!o.length&&a?a.p(f,c):o.length?a&&(a.d(1),a=null):(a=T_(),a.c(),a.m(n,t))}},i(f){if(!i){for(let c=0;c<o.length;c+=1)g(l[c]);i=!0}},o(f){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)$(l[c]);i=!1},d(f){f&&p(e),f&&p(n),ye(l,f),a&&a.d()}}}function T_(r){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function s5(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function f5(r){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function S_(r){let e,n,t=r[12]+"",i,o,l,s;e=new ge({props:{type:"skill",id:r[15]}});function a(u,d){if(u[29]===u[3].length-2)return f5;if(u[29]!==u[3].length-1)return s5}let f=a(r),c=f&&f(r);return{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),c&&c.c(),l=ue()},m(u,d){U(e,u,d),h(u,n,d),h(u,i,d),h(u,o,d),c&&c.m(u,d),h(u,l,d),s=!0},p:oe,i(u){s||(g(e.$$.fragment,u),s=!0)},o(u){$(e.$$.fragment,u),s=!1},d(u){G(e,u),u&&p(n),u&&p(i),u&&p(o),c&&c.d(u),u&&p(l)}}}function C_(r){let e,n,t=(r[0].practice_data.min_difficulty??0)+"",i,o,l=(r[0].practice_data.max_difficulty??0)+"",s,a,f,c,u=r[0].practice_data.skill_limit!=null&&I_(r);return{c(){e=m("dt"),e.textContent=`${O.t("Difficulty Range",{_context:li})}`,n=m("dd"),i=w(t),o=w("–"),s=w(l),a=R(),u&&u.c(),f=R()},m(d,b){h(d,e,b),h(d,n,b),_(n,i),_(n,o),_(n,s),_(n,a),u&&u.m(n,null),_(n,f),c=!0},p(d,b){(!c||b&1)&&t!==(t=(d[0].practice_data.min_difficulty??0)+"")&&K(i,t),(!c||b&1)&&l!==(l=(d[0].practice_data.max_difficulty??0)+"")&&K(s,l),d[0].practice_data.skill_limit!=null?u?(u.p(d,b),b&1&&g(u,1)):(u=I_(d),u.c(),g(u,1),u.m(n,f)):u&&(fe(),$(u,1,1,()=>{u=null}),ae())},i(d){c||(g(u),c=!0)},o(d){$(u),c=!1},d(d){d&&p(e),d&&p(n),u&&u.d()}}}function I_(r){let e,n;return e=new Ki({props:{str:O.t("(max {skill_limit})",{skill_limit:"{skill_limit}",_context:li,_comment:"practice recipe skill limit"}),slot0:"skill_limit",$$slots:{0:[a5]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&1073741825&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function a5(r){let e,n=(r[0].practice_data.skill_limit??0)+"",t;return{c(){e=m("span"),t=w(n),le(e,"slot","0")},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=(i[0].practice_data.skill_limit??0)+"")&&K(t,n)},d(i){i&&p(e)}}}function c5(r){let e,n,t,i,o,l=r[5],s=[];for(let f=0;f<l.length;f+=1)s[f]=O_(k_(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Proficiencies",{_context:li})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&32){l=f[5];let u;for(u=0;u<l.length;u+=1){const d=k_(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=O_(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function u5(r){let e,n=" ",t;return{c(){e=m("strong"),e.textContent=`${O.t("Required:",{_context:li})}`,t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p:oe,d(i){i&&p(e),i&&p(t)}}}function _5(r){let e,n=r[25].join(", ")+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function O_(r){let e,n,t,i,o,l,s=r[23].required&&u5();t=new ge({props:{type:"proficiency",id:r[23].proficiency}});let a=r[25].length&&_5(r);return{c(){e=m("li"),s&&s.c(),n=R(),q(t.$$.fragment),i=R(),a&&a.c(),o=R()},m(f,c){h(f,e,c),s&&s.m(e,null),_(e,n),U(t,e,null),_(e,i),a&&a.m(e,null),_(e,o),l=!0},p(f,c){f[23].required&&s.p(f,c),f[25].length&&a.p(f,c)},i(f){l||(g(t.$$.fragment,f),l=!0)},o(f){$(t.$$.fragment,f),l=!1},d(f){f&&p(e),s&&s.d(),G(t),a&&a.d()}}}function d5(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function m5(r){let e;return{c(){e=w(r[8])},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function R_(r){let e,n,t=r[0].charges+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Recipe Makes",{_context:li})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].charges+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function A_(r){let e,n,t,i,o,l=r[0].byproducts,s=[];for(let f=0;f<l.length;f+=1)s[f]=N_(y_(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Byproducts",{_context:li})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&1){l=f[0].byproducts;let u;for(u=0;u<l.length;u+=1){const d=y_(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=N_(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function N_(r){let e,n,t;return n=new ge({props:{type:"item",id:r[20][0],count:r[20][1]??1}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[20][0]),o&1&&(l.count=i[20][1]??1),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function p5(r){let e=O.t("No")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,i:oe,o:oe,d(t){t&&p(n)}}}function h5(r){let e,n,t,i,o;const l=[b5,g5],s=[];function a(f,c){return c&1&&(n=null),n==null&&(n=!!Array.isArray(f[0].autolearn)),n?0:1}return t=a(r,-1),i=s[t]=l[t](r),{c(){e=m("ul"),i.c(),le(e,"class","comma-separated")},m(f,c){h(f,e,c),s[t].m(e,null),o=!0},p(f,c){let u=t;t=a(f,c),t===u?s[t].p(f,c):(fe(),$(s[u],1,1,()=>{s[u]=null}),ae(),i=s[t],i?i.p(f,c):(i=s[t]=l[t](f),i.c()),g(i,1),i.m(e,null))},i(f){o||(g(i),o=!0)},o(f){$(i),o=!1},d(f){f&&p(e),s[t].d()}}}function g5(r){let e,n,t,i,o=r[0].skill_used&&B_(r),l=r[3].length&&$5(r),s=!r[0].skill_used&&!r[3].length&&D_();return{c(){o&&o.c(),e=ue(),l&&l.c(),n=R(),s&&s.c(),t=ue()},m(a,f){o&&o.m(a,f),h(a,e,f),l&&l.m(a,f),h(a,n,f),s&&s.m(a,f),h(a,t,f),i=!0},p(a,f){a[0].skill_used?o?(o.p(a,f),f&1&&g(o,1)):(o=B_(a),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(fe(),$(o,1,1,()=>{o=null}),ae()),a[3].length&&l.p(a,f),!a[0].skill_used&&!a[3].length?s?s.p(a,f):(s=D_(),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},i(a){i||(g(o),g(l),i=!0)},o(a){$(o),$(l),i=!1},d(a){o&&o.d(a),a&&p(e),l&&l.d(a),a&&p(n),s&&s.d(a),a&&p(t)}}}function b5(r){let e,n,t=r[0].autolearn,i=[];for(let l=0;l<t.length;l+=1)i[l]=L_($_(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,s){if(s&1){t=l[0].autolearn;let a;for(a=0;a<t.length;a+=1){const f=$_(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=L_(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}function B_(r){let e,n,t,i=(r[0].difficulty??0)+"",o,l,s;return n=new ge({props:{type:"skill",id:r[0].skill_used}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(")")},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p(a,f){const c={};f&1&&(c.id=a[0].skill_used),n.$set(c),(!s||f&1)&&i!==(i=(a[0].difficulty??0)+"")&&K(o,i)},i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function $5(r){let e,n,t=r[3],i=[];for(let l=0;l<t.length;l+=1)i[l]=M_(b_(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,s){if(s&8){t=l[3];let a;for(a=0;a<t.length;a+=1){const f=b_(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=M_(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}function M_(r){let e,n,t,i=r[12]+"",o,l,s;return n=new ge({props:{type:"skill",id:r[15]}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(")")},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p:oe,i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function D_(r){let e;return{c(){e=m("li"),e.textContent=`${O.t("At birth",{_context:li})}`},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function L_(r){let e,n,t,i=r[12]+"",o,l,s;return n=new ge({props:{type:"skill",id:r[15]}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(")")},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p(a,f){const c={};f&1&&(c.id=a[15]),n.$set(c),(!s||f&1)&&i!==(i=a[12]+"")&&K(o,i)},i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function y5(r){let e,n,t,i,o=r[4],l=[];for(let a=0;a<o.length;a+=1)l[a]=F_(g_(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Written In",{_context:li,_comment:"List of books that contain the recipe"})} 
      `,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f&16){o=a[4];let c;for(c=0;c<o.length;c+=1){const u=g_(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=F_(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function F_(r){let e,n,t,i,o=r[12]+"",l,s,a;return t=new ge({props:{id:r[11],type:"item"}}),{c(){e=m("li"),n=m("span"),q(t.$$.fragment),i=w(" ("),l=w(o),s=w(")"),bt(n,"white-space","nowrap")},m(f,c){h(f,e,c),_(e,n),U(t,n,null),_(n,i),_(n,l),_(n,s),a=!0},p:oe,i(f){a||(g(t.$$.fragment,f),a=!0)},o(f){$(t.$$.fragment,f),a=!1},d(f){f&&p(e),G(t)}}}function P_(r){let e,n=Yt(r[0].description)+"",t;return{c(){e=m("p"),t=w(n),bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=Yt(i[0].description)+"")&&K(t,n)},d(i){i&&p(e)}}}function k5(r){var _t;let e,n,t,i,o,l,s,a,f,c,u,d,b,k,y,E=(r[0].time??"0 m")+"",C,I,A,B=O.t(r[7](r[6][r[0].activity_level??"MODERATE_EXERCISE"]))+"",L,D,Y,z,W,H,ne,M,X,te,F,j,Z,x,Q,V,ie,_e,re;function ee(Ue,ke){return Ue[0].name?i5:Ue[1]?n5:t5}let ce=ee(r),Ee=ce(r),we=r[0].never_learn&&w_(),De=(r[1]||r[0].variant)&&r[0].result&&E_(r);const ze=[r5,l5],We=[];function Ve(Ue,ke){return Ue[0].skill_used?0:1}f=Ve(r),c=We[f]=ze[f](r);let Qe=r[3].length&&o5(r),ve=r[0].practice_data&&C_(r),Te=r[5].length&&c5(r);function Ce(Ue,ke){return Ue[8]?m5:d5}let Be=Ce(r)(r),et=r[0].charges&&R_(r);ne=new _s({props:{requirement:r[0]}});let xe=((_t=r[0].byproducts)==null?void 0:_t.length)&&A_(r);const At=[h5,p5],wt=[];function st(Ue,ke){return Ue[0].autolearn?0:1}te=st(r),F=wt[te]=At[te](r);let Ut=r[4].length&&y5(r),$t=r[0].description&&P_(r);return _e=new us({props:{obj:r[0],buildNumber:r[2].build_number}}),{c(){e=m("section"),n=m("h1"),Ee.c(),t=R(),i=m("p"),we&&we.c(),o=R(),l=m("dl"),De&&De.c(),s=m("dt"),s.textContent=`${O.t("Primary Skill",{_context:li})}`,a=m("dd"),c.c(),u=R(),Qe&&Qe.c(),d=ue(),ve&&ve.c(),b=ue(),Te&&Te.c(),k=m("dt"),k.textContent=`${O.t("Time to Complete")}`,y=m("dd"),C=w(E),I=m("dt"),I.textContent=`${O.t("Activity Level",{_context:li})}`,A=m("dd"),L=w(B),D=R(),Y=m("dt"),Y.textContent=`${O.t("Batch Time Savings",{_context:li})}`,z=m("dd"),Be.c(),W=R(),et&&et.c(),H=ue(),q(ne.$$.fragment),xe&&xe.c(),M=m("dt"),M.textContent=`${O.t("Autolearn",{_context:li})} 
    `,X=m("dd"),F.c(),j=R(),Ut&&Ut.c(),Z=R(),$t&&$t.c(),x=R(),Q=m("details"),V=m("summary"),V.textContent=`${O.t("Recipe JSON")}`,ie=R(),q(_e.$$.fragment),le(M,"title","Learned at these skill levels, otherwise only learnable from a book"),le(e,"class","recipe")},m(Ue,ke){h(Ue,e,ke),_(e,n),Ee.m(n,null),_(e,t),_(e,i),we&&we.m(i,null),_(e,o),_(e,l),De&&De.m(l,null),_(l,s),_(l,a),We[f].m(a,null),_(a,u),Qe&&Qe.m(l,null),_(l,d),ve&&ve.m(l,null),_(l,b),Te&&Te.m(l,null),_(l,k),_(l,y),_(y,C),_(l,I),_(l,A),_(A,L),_(A,D),_(l,Y),_(l,z),Be.m(z,null),_(z,W),et&&et.m(l,null),_(l,H),U(ne,l,null),xe&&xe.m(l,null),_(l,M),_(l,X),wt[te].m(X,null),_(X,j),Ut&&Ut.m(l,null),_(e,Z),$t&&$t.m(e,null),_(e,x),_(e,Q),_(Q,V),_(Q,ie),U(_e,Q,null),re=!0},p(Ue,[ke]){var pe;ce===(ce=ee(Ue))&&Ee?Ee.p(Ue,ke):(Ee.d(1),Ee=ce(Ue),Ee&&(Ee.c(),Ee.m(n,null))),Ue[0].never_learn?we?we.p(Ue,ke):(we=w_(),we.c(),we.m(i,null)):we&&(we.d(1),we=null),(Ue[1]||Ue[0].variant)&&Ue[0].result?De?(De.p(Ue,ke),ke&3&&g(De,1)):(De=E_(Ue),De.c(),g(De,1),De.m(l,s)):De&&(fe(),$(De,1,1,()=>{De=null}),ae());let Ke=f;f=Ve(Ue),f===Ke?We[f].p(Ue,ke):(fe(),$(We[Ke],1,1,()=>{We[Ke]=null}),ae(),c=We[f],c?c.p(Ue,ke):(c=We[f]=ze[f](Ue),c.c()),g(c,1),c.m(a,u)),Ue[3].length&&Qe.p(Ue,ke),Ue[0].practice_data?ve?(ve.p(Ue,ke),ke&1&&g(ve,1)):(ve=C_(Ue),ve.c(),g(ve,1),ve.m(l,b)):ve&&(fe(),$(ve,1,1,()=>{ve=null}),ae()),Ue[5].length&&Te.p(Ue,ke),(!re||ke&1)&&E!==(E=(Ue[0].time??"0 m")+"")&&K(C,E),(!re||ke&1)&&B!==(B=O.t(Ue[7](Ue[6][Ue[0].activity_level??"MODERATE_EXERCISE"]))+"")&&K(L,B),Be.p(Ue,ke),Ue[0].charges?et?et.p(Ue,ke):(et=R_(Ue),et.c(),et.m(l,H)):et&&(et.d(1),et=null);const Lt={};ke&1&&(Lt.requirement=Ue[0]),ne.$set(Lt),(pe=Ue[0].byproducts)!=null&&pe.length?xe?(xe.p(Ue,ke),ke&1&&g(xe,1)):(xe=A_(Ue),xe.c(),g(xe,1),xe.m(l,M)):xe&&(fe(),$(xe,1,1,()=>{xe=null}),ae());let Rt=te;te=st(Ue),te===Rt?wt[te].p(Ue,ke):(fe(),$(wt[Rt],1,1,()=>{wt[Rt]=null}),ae(),F=wt[te],F?F.p(Ue,ke):(F=wt[te]=At[te](Ue),F.c()),g(F,1),F.m(X,j)),Ue[4].length&&Ut.p(Ue,ke),Ue[0].description?$t?$t.p(Ue,ke):($t=P_(Ue),$t.c(),$t.m(e,x)):$t&&($t.d(1),$t=null);const Ct={};ke&1&&(Ct.obj=Ue[0]),_e.$set(Ct)},i(Ue){re||(g(De),g(c),g(Qe),g(ve),g(Te),g(ne.$$.fragment,Ue),g(xe),g(F),g(Ut),g(_e.$$.fragment,Ue),re=!0)},o(Ue){$(De),$(c),$(Qe),$(ve),$(Te),$(ne.$$.fragment,Ue),$(xe),$(F),$(Ut),$(_e.$$.fragment,Ue),re=!1},d(Ue){Ue&&p(e),Ee.d(),we&&we.d(),De&&De.d(),We[f].d(),Qe&&Qe.d(),ve&&ve.d(),Te&&Te.d(),Be.d(),et&&et.d(),G(ne),xe&&xe.d(),wt[te].d(),Ut&&Ut.d(),$t&&$t.d(),G(_e)}}}const li="Recipe",j_="%1$d%% at >%2$d units",v5="%1$s per unit",w5="%1$s per unit to %2$d units";function E5(r){return r===void 0?[]:r.length===0?[]:Array.isArray(r[0])?r:[r]}function T5(r,e,n){let{recipe:t}=e,{showResult:i=!1}=e;const o=jt("data");let l=E5(t.skills_required);const s=Array.isArray(t.book_learn)?[...t.book_learn]:[...Object.entries(t.book_learn??{})].map(([k,y])=>[k,y.skill_level]);s.sort((k,y)=>(k[1]??0)-(y[1]??0));const a=(t.proficiencies??[]).map(k=>{const y=o.byId("proficiency",k.proficiency),E=k.skill_penalty??y.default_skill_penalty??0,C=k.fail_multiplier??y.default_fail_multiplier??1;return{skill_penalty:E,fail_multiplier:C,time_multiplier:y.default_time_multiplier??2,learning_time_multiplier:1,...k}}),f={SLEEP_EXERCISE:.85,NO_EXERCISE:1,LIGHT_EXERCISE:2,fake:4,MODERATE_EXERCISE:4,BRISK_EXERCISE:6,ACTIVE_EXERCISE:8,EXTRA_EXERCISE:10};function c(k){const y=["None","Light","Moderate","Brisk","Active","Extreme"],E=Math.floor(k/2);return en.pgettext("activity description",y[E])}const u=(k,...y)=>en.gettext(k,...y).replace(/\$[ds]/g,"");function d(k){if(!k)return null;if(Array.isArray(k)){const[y,E]=k;return y==null||E==null?null:u(j_,y,E)}if(k.mode==="logistic")return u(j_,k.percent,k.at);if(k.mode==="linear"){const y=typeof k.setup=="number"?Go(k.setup):k.setup;return k.max!=null?u(w5,y,k.max):u(v5,y)}return null}const b=d(t.batch_time_factors);return r.$$set=k=>{"recipe"in k&&n(0,t=k.recipe),"showResult"in k&&n(1,i=k.showResult)},[t,i,o,l,s,a,f,c,b]}class Of extends ht{constructor(e){super(),pt(this,e,T5,k5,mt,{recipe:0,showResult:1})}}function U_(r,e,n){const t=r.slice();return t[5]=e[n],t}function S5(r){let e=[],n=new Map,t,i,o=r[2];const l=s=>s[5];for(let s=0;s<o.length;s+=1){let a=U_(r,o,s),f=l(a);n.set(f,e[s]=G_(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=ue()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);h(s,t,a),i=!0},p(s,a){a&5&&(o=s[2],fe(),e=RC(e,a,l,1,s,o,n,t.parentNode,OC,G_,t,U_),ae())},i(s){if(!i){for(let a=0;a<o.length;a+=1)g(e[a]);i=!0}},o(s){for(let a=0;a<e.length;a+=1)$(e[a]);i=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&p(t)}}}function G_(r,e){let n,t,i;return t=new Of({props:{recipe:e[5],showResult:e[5].result!==e[0]}}),{key:r,first:null,c(){n=ue(),q(t.$$.fragment),this.first=n},m(o,l){h(o,n,l),U(t,o,l),i=!0},p(o,l){e=o;const s={};l&1&&(s.showResult=e[5].result!==e[0]),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(n),G(t,o)}}}function C5(r){let e,n,t,i,o;return i=new Wt({props:{items:r[3],$$slots:{default:[I5,({item:l})=>({4:l}),({item:l})=>l?16:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Byproduct when crafting",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&272&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function I5(r){let e,n,t,i;return e=new Dt({props:{item:r[1].byId("item",r[4].result)}}),t=new ge({props:{type:"item",id:r[4].result}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&16&&(s.item=o[1].byId("item",o[4].result)),e.$set(s);const a={};l&16&&(a.id=o[4].result),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function O5(r){let e,n,t,i=r[2].length&&S5(r),o=r[3].length&&C5(r);return{c(){i&&i.c(),e=R(),o&&o.c(),n=ue()},m(l,s){i&&i.m(l,s),h(l,e,s),o&&o.m(l,s),h(l,n,s),t=!0},p(l,[s]){l[2].length&&i.p(l,s),l[3].length&&o.p(l,s)},i(l){t||(g(i),g(o),t=!0)},o(l){$(i),$(o),t=!1},d(l){i&&i.d(l),l&&p(e),o&&o.d(l),l&&p(n)}}}let br;function R5(r){if(!br){br={};for(const e of r.byType("recipe"))e.result&&!e.obsolete&&(br[e.result]||(br[e.result]=[]),br[e.result].push(e))}return br}let Kl;function A5(r){if(!Kl){Kl={};for(const e of r.byType("recipe"))if(e.result)for(const n of e.byproducts??[])Kl[n[0]]||(Kl[n[0]]=[]),Kl[n[0]].push(e);for(const e of Object.values(Kl))e.sort((n,t)=>{const i=r.byId("item",n.result),o=r.byId("item",t.result);return He(i).localeCompare(He(o))})}return Kl}function N5(r,e,n){let{item_id:t}=e,i=jt("data");const o=R5(i)[t]??[];o.sort((s,a)=>(s.never_learn??!1)-(a.never_learn??!1));const l=A5(i)[t]??[];return r.$$set=s=>{"item_id"in s&&n(0,t=s.item_id)},[t,i,o,l]}class B5 extends ht{constructor(e){super(),pt(this,e,N5,O5,mt,{item_id:0})}}function M5(r){let e,n,t,i,o;return i=new Wt({props:{items:r[0],$$slots:{default:[D5,({item:l})=>({1:l}),({item:l})=>l?2:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Salvage",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&34&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function D5(r){let e,n,t,i;return e=new Dt({props:{item:r[1]}}),t=new ge({props:{type:"item",id:r[1].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&2&&(s.item=o[1]),e.$set(s);const a={};l&2&&(a.id=o[1].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function L5(r){let e,n,t=r[0].length&&M5(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function F5(r,e,n){let{item_id:t}=e,i=jt("data");const o=i.byId("item",t);function l(a){return i.byType("item").filter(f=>f.id).filter(f=>{const c=f.material==null?[]:typeof f.material=="string"?[f.material]:Array.isArray(f.material)?typeof f.material[0]=="string"?f.material:f.material.map(u=>typeof u=="string"?u:u.type):Object.keys(f.material);return c.length===1&&c[0]===a.id})}const s=i.byType("material").filter(a=>a.id).filter(a=>a.salvaged_into===t).flatMap(a=>l(a)).filter(a=>!(a.flags??[]).includes("NO_SALVAGE")).filter(a=>Qi(a.weight??0)>=Qi(o.weight??0)).sort(an);return r.$$set=a=>{"item_id"in a&&n(2,t=a.item_id)},[s,o,t]}class P5 extends ht{constructor(e){super(),pt(this,e,F5,L5,mt,{item_id:2})}}function Lr(r){return r==null?[1,1]:typeof r=="number"?[r,r]:r.length===1?[r[0],r[0]]:r}function j5(r,e){const[n,t]=Lr(r);let i=0,o=0;for(let l=n;l<=t;++l)i+=1-Math.pow(1-e,l),++o;return i/o}function U5(r,e){return{prob:1-(1-r.prob)*(1-e.prob),expected:r.expected+e.expected}}function G5(r,e){return r.prob=1-(1-r.prob)*(1-e.prob),r.expected=r.expected+e.expected,r}function sl(r,[e,n]){return{prob:j5([e,n],r.prob),expected:r.expected*(e+n)/2}}function Rf(r,e){return{prob:r.prob*e,expected:r.expected*e}}const vy=Object.freeze({prob:0,expected:0});function yl(r){if(r.length===1)return r[0];const e=new Map;for(const n of r)for(const[t,i]of n.entries())if(!e.has(t))e.set(t,{...i});else{const o=e.get(t);G5(o,i)}return e}function q5(r,e,n){const t={...r.object,rows:(r.object.rows??[]).slice(n*24,(n+1)*24).map(s=>s.slice(e*24,(e+1)*24))},i=s=>Array.isArray(s)?s[0]:s,o=e*24,l=n*24;return t.place_items&&(t.place_items=t.place_items.filter(s=>i(s.x)>=o&&i(s.y)>=l&&i(s.x)<o+24&&i(s.y)<l+24)),t.place_item&&(t.place_item=t.place_item.filter(s=>i(s.x)>=o&&i(s.y)>=l&&i(s.x)<o+24&&i(s.y)<l+24)),t.add&&(t.add=t.add.filter(s=>i(s.x)>=o&&i(s.y)>=l&&i(s.x)<o+24&&i(s.y)<l+24)),t.place_loot&&(t.place_loot=t.place_loot.filter(s=>i(s.x)>=o&&i(s.y)>=l&&i(s.x)<o+24&&i(s.y)<l+24)),t.place_nested&&(t.place_nested=t.place_nested.filter(s=>i(s.x)>=o&&i(s.y)>=l&&i(s.x)<o+24&&i(s.y)<l+24)),{...r,object:t}}const Y5=typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback:function(r){var e=Date.now();return setTimeout(function(){r({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},0)};function q_(){return globalThis.__isTesting__?Promise.resolve({didTimeout:!1,timeRemaining:()=>100}):new Promise(r=>{Y5(r,{timeout:1})})}const H5="scheduling"in navigator&&"isInputPending"in navigator.scheduling&&"scheduler"in window&&"postTask"in window.scheduler;async function wy(r){if(H5)return await new Promise(e=>setTimeout(e,0)),r(()=>navigator.scheduling.isInputPending()?new Promise(e=>window.scheduler.postTask(e)):Promise.resolve());{let e=await q_();return r(async()=>{e.timeRemaining()<=0&&(e=await q_())})}}const Is=new WeakMap;function z5(r){if(Is.has(r))return Is.get(r);const e=new Map,n=(t,i)=>{e.has(t)||e.set(t,[]),e.get(t).push(i)};for(const t of r.byType("mapgen"))if(t.om_terrain)if(typeof t.om_terrain=="string")n(t.om_terrain,t);else if(typeof t.om_terrain[0]=="string")for(const i of t.om_terrain)n(i,t);else for(let i=0;i<t.om_terrain.length;i++)for(let o=0;o<t.om_terrain[i].length;o++)n(t.om_terrain[i][o],q5(t,o,i));return Is.set(r,e),e}function rf(r){if(r){if(typeof r=="number")return r;if("default"in r)return Number(r.default);if("math"in r||"arithmetic"in r)return 0}}function W5(r,e,n){const i=z5(r).get(e)??[];return Ho(i.map(l=>({weight:rf(l.weight)??1e3,loot:n(l)})))}async function Zl(r,e,n){if(e.subtype==="mutable")return new Map;const t=[];return await wy(async i=>{for(const o of e.overmaps??[]){if(!o.overmap)continue;const l=o.overmap.replace(/_(north|east|west|south)$/,"");t.push(W5(r,l,n)),await i()}}),t6(t)}async function V5(r,e){const n=r.byType("overmap_special"),t=new Map;for(const i of n)t.set(i.id,await Zl(r,i,e));return t}function ds(r,e){if(e.subtype==="mutable")return;const n=[...e.overmaps??[]];let t=1/0,i=1/0,o=-1/0,l=-1/0;const s=new Map;for(const c of n){if(!c.overmap)continue;const u=c.overmap.replace(/_(north|south|east|west)$/,"");if(!r.byIdMaybe("overmap_terrain",u))continue;const[d,b,k]=c.point;k===0&&(d<t&&(t=d),b<i&&(i=b),d>o&&(o=d),b>l&&(l=b),s.set(`${d}|${b}`,c))}if(t===1/0||i===1/0)return;const a=[l-i,o-t];for(let c=i;c<=l;c++)for(let u=t;u<=o;u++){const d=s.get(`${u}|${c}`);if(d!=null&&d.overmap){const b=d.overmap.replace(/_(north|south|east|west)$/,""),k=f(b);a.push(k)}else a.push("no_om")}return a.join("\0");function f(c){const u=r.byId("overmap_terrain",c);return u?`${u.sym}${u.color??"black"}${u.name}`:"appearance_unk"}}const J5=new URL(location.href),X5=J5.searchParams.has("hideNothing"),K5=X5?new Set:new Set(["Necropolis","Isherwood Farms","lab_mutagen_6_level","Lab_SECURITY_1x1x6","Lab_CARGO_Surface","hub_01","aircraft_carrier","airliner_crashed","farm_abandoned","ranch_camp","exodii_base","Central Lab","4x4_microlab_vent_shaft","lab_subway_vent_shaft","mil_base","valhalla_cult","nuclear power plant","tutorial","debug_item_group_test","gas station bunker","bunker shop","physics_lab_LIXA","office_tower_hiddenlab"]);function ms(r){const e=new WeakMap;return n=>(e.has(n)||e.set(n,r(n)),e.get(n))}const Z5=ms(r=>Af(r,e=>Nf(r,e))),Q5=ms(r=>Af(r,e=>Iy(r,e))),x5=ms(r=>Af(r,e=>Oy(r,e))),Ey=ms(r=>{const e=new Map;for(const n of r.byType("overmap_special")){const t=ds(r,n);e.has(t)||e.set(t,[]),e.get(t).push(n.id)}for(const n of e.values())n.sort((t,i)=>t.localeCompare(i));return e});async function Af(r,e){const n=await V5(r,e),t=new Map;return await wy(async i=>{for(const[o,l]of n.entries()){if(K5.has(o))continue;const s=ds(r,r.byId("overmap_special",o));if(!s)continue;t.has(s)||t.set(s,{loot:void 0,ids:[]});const a=t.get(s);a.loot?a.loot=Ho([{loot:a.loot,weight:1},{loot:l,weight:1}]):a.loot=l,await i(),a.ids.push(o)}}),t.forEach(i=>{i.ids.sort((o,l)=>o.localeCompare(l))}),t}function e6(r,e){return{prob:r.prob+e.prob,expected:r.expected+e.expected}}function Ho(r){if(r.length===1)return r[0].loot;const e=r.map(t=>t.weight).reduce((t,i)=>t+i,0),n=new Map;for(const{loot:t,weight:i}of r){const o=i/e;for(const[l,s]of t.entries())n.set(l,e6(n.get(l)??vy,Rf(s,o)))}return n}function Ty(r,e){const n=new Map;for(const[t,i]of r.entries())n.set(t,Rf(i,e));return n}function zo(r,e){const n=new Map;for(const[t,i]of r.entries())n.set(t,Ty(i,e));return n}function t6(r){const e=new Map;for(const n of r)for(const[t,i]of n.entries()){const o=e.get(t)??vy;e.set(t,U5(o,i))}return e}function Sy(r){const e=Fr(r);let n=-1/0,t;for(const[i,o]of e.entries())o>n&&(n=o,t=i);return t}function Fr(r){if(typeof r=="string")return new Map([[r,1]]);if("switch"in r&&typeof r.switch=="object"&&"fallback"in r.switch&&r.switch.fallback&&r.switch.fallback in r.cases&&r.cases[r.switch.fallback])return new Map([[r.cases[r.switch.fallback],1]]);if("distribution"in r){const e=r.distribution,n=e.reduce((t,i)=>t+(typeof i=="string"?1:i[1]),0);return new Map(e.map(t=>typeof t=="string"?[t,1/n]:[t[0],t[1]/n]))}return"param"in r&&"fallback"in r&&r.fallback?new Map([[r.fallback,1]]):new Map}function Y_(r){return new Map([...r.entries()].map(([e,n])=>[e,{prob:n,expected:n}]))}let Os=0;function Cy(r,e){if(Os+=1,Os>4)return new Map;const n=(e??[]).map(i=>Array.isArray(i)?i:[i,100]),t=Ho(n.map(([i,o])=>{const l=Sy(i),s=l?r.nestedMapgensById(l)??[]:[],a=Ho(s.map(c=>{const u=Nf(r,c),d=rf(c.weight)??1e3;return{loot:u,weight:d}})),f=rf(o)??100;return{loot:a,weight:f}}));return Os-=1,t}const Rs=new WeakMap;function Nf(r,e){if(Rs.has(e))return Rs.get(e);const n=Bo(r,e.object),t=(e.object.place_items??[]).map(({item:c,chance:u=100,repeat:d})=>Wo(r,c,d,u/100)),i=[...e.object.place_item??[],...e.object.add??[]].map(({item:c,chance:u=100,repeat:d})=>{const b=Sy(c);return b?new Map([[b,sl({prob:u/100,expected:u/100},Lr(d))]]):new Map}),o=(e.object.place_loot??[]).map(({item:c,group:u,chance:d=100,repeat:b})=>c?new Map([[c,{prob:d/100,expected:d/100}]]):u?Wo(r,u,b,d/100):new Map),l=(e.object.place_nested??[]).map(c=>{const u=Cy(r,c.chunks??[]),d=new Map;for(const[b,k]of u.entries())d.set(b,sl(k,Lr(c.repeat)));return d}),s=new Map;for(const c of e.object.rows??[])for(const u of c)n.has(u)&&s.set(u,(s.get(u)??0)+1);const a=[];for(const[c,u]of s.entries()){const d=n.get(c),b=new Map;for(const[k,y]of d.entries())b.set(k,sl(y,[u,u]));a.push(b)}const f=yl([...t,...i,...o,...l,...a]);return f.delete("null"),Rs.set(e,f),f}const As=new WeakMap;function Iy(r,e){if(As.has(e))return As.get(e);const n=of(r,e.object),t=(e.object.place_furniture??[]).map(({furn:a})=>new Map([[a,{prob:1,expected:1}]])),i=yl([...t]),o=new Map;for(const a of e.object.rows??[])for(const f of a)n.has(f)&&o.set(f,(o.get(f)??0)+1);const l=[];for(const[a,f]of o.entries()){const c=n.get(a),u=new Map;for(const[d,b]of c.entries())u.set(d,sl(b,[f,f]));l.push(u)}l.push(i);const s=yl(l);return s.delete("f_null"),As.set(e,s),s}const Ns=new WeakMap;function Oy(r,e){if(Ns.has(e))return Ns.get(e);const n=sf(r,e.object),t=e.object.fill_ter?Fr(e.object.fill_ter):new Map,i=(e.object.place_terrain??[]).map(({ter:c})=>Y_(Fr(c))),o=yl([...i]),l=new Map;let s=0;for(const c of e.object.rows??[])for(const u of c)n.has(u)?l.set(u,(l.get(u)??0)+1):s+=1;const a=[];for(const[c,u]of l.entries()){const d=n.get(c),b=new Map;for(const[k,y]of d.entries())b.set(k,sl(y,[u,u]));a.push(b)}if(s>0){const c=Y_(t),u=new Map;for(const[d,b]of c.entries())u.set(d,sl(b,[s,s]));a.push(u)}a.push(o);const f=yl(a);return f.delete("t_null"),Ns.set(e,f),f}function Wo(r,e,n,t){const i=typeof e=="string"?r.convertTopLevelItemGroup(r.byIdMaybe("item_group",e)??{id:e,items:[]}):Array.isArray(e)?{subtype:"collection",entries:e}:e,o=r.flattenItemGroup(i);return new Map(o.map(l=>[l.id,sl(Rf(l,t),Lr(n))]))}function Bf(r){return[r].map(e=>e.flatMap(n=>[...n])).map(e=>[...RI(e)]).map(e=>e.map(([n,t])=>[n,yl(t)])).map(e=>new Map(e))[0]}function vo(r,e){return new Map(Object.entries(r??{}).map(([n,t])=>[n,yl((Array.isArray(t)?t:[t]).flatMap(i=>[...e(i)]))]))}function Ry(r,e){return new Map(Object.entries(r??{}).map(([n,t])=>{const i=(Array.isArray(t)?t:[t]).map(l=>Array.isArray(l)?l:[l,1]),o=i.reduce((l,s)=>l+s[1],0);return[n,yl(i.flatMap(([l,s])=>[...e(l)].map(a=>Ty(a,s/o))))]}))}const Bs=new WeakMap;function Bo(r,e){if(Bs.has(e))return Bs.get(e);const n=vo(e.sealed_item,function*({item:a,items:f,chance:c=100}){f&&(yield Wo(r,f.item,f.repeat,c/100*(f.chance??100)/100)),a&&typeof a.item=="string"&&(yield new Map([[a.item,sl({prob:c/100*((a.chance??100)/100),expected:c/100*((a.chance??100)/100)},Lr(a.repeat))]]))}),t=vo(e.item,function*({item:a,chance:f=100,repeat:c}){typeof a=="string"&&(yield new Map([[a,sl({prob:f/100,expected:f/100},Lr(c))]]))}),i=vo(e.items,function*({item:a,chance:f=100,repeat:c}){yield Wo(r,a,c,f/100)}),o=vo(e.nested,function*({chunks:a}){yield Cy(r,a??[])}),l=(e.palettes??[]).flatMap(a=>{if(typeof a=="string")return[Bo(r,r.byId("palette",a))];if("distribution"in a){let f=function(b){return Array.isArray(b)?b[1]:1},c=function(b){return Array.isArray(b)?b[0]:b};const u=a.distribution,d=u.reduce((b,k)=>b+f(k),0);return u.map(b=>zo(Bo(r,r.byId("palette",c(b))),f(b)/d))}else if("param"in a){const f=e.parameters;if(f&&a.param in f){const c=f[a.param];return c.type!=="palette_id"?(console.warn(`unexpected parameter type (was ${c.type}, expected palette_id)`),[]):[...Fr(c.default).entries()].map(([d,b])=>zo(Bo(r,r.byId("palette",d)),b))}else return console.warn(`missing parameter ${a.param}`),[]}else return[]}),s=Bf([t,i,n,o,...l]);return Bs.set(e,s),s}const Ms=new WeakMap;function of(r,e){if(Ms.has(e))return Ms.get(e);const n=Ry(e.furniture,function*(o){const l=Fr(o);for(const[s,a]of l.entries())l&&(yield new Map([[s,{prob:a,expected:a}]]))}),t=(e.palettes??[]).flatMap(o=>{if(typeof o=="string")return[of(r,r.byId("palette",o))];if("distribution"in o){let l=function(c){return Array.isArray(c)?c[1]:1},s=function(c){return Array.isArray(c)?c[0]:c};const a=o.distribution,f=a.reduce((c,u)=>c+l(u),0);return a.map(c=>zo(of(r,r.byId("palette",s(c))),l(c)/f))}else return[]}),i=Bf([n,...t]);return Ms.set(e,i),i}const Ds=new WeakMap;function sf(r,e){if(Ds.has(e))return Ds.get(e);const n=Ry(e.terrain,function*(o){const l=Fr(o);for(const[s,a]of l.entries())l&&(yield new Map([[s,{prob:a,expected:a}]]))}),t=(e.palettes??[]).flatMap(o=>{if(typeof o=="string")return[sf(r,r.byId("palette",o))];if("distribution"in o){let l=function(c){return Array.isArray(c)?c[1]:1},s=function(c){return Array.isArray(c)?c[0]:c};const a=o.distribution,f=a.reduce((c,u)=>c+l(u),0);return a.map(c=>zo(sf(r,r.byId("palette",s(c))),l(c)/f))}else return[]}),i=Bf([n,...t]);return Ds.set(e,i),i}function H_(r,e,n){const t=r.slice();return t[12]=e[n],t}function z_(r,e,n){const t=r.slice();return t[15]=e[n],t}function W_(r){let e,n=(r[15].sym??" ")+"",t,i,o;return{c(){e=m("span"),t=w(n),le(e,"class",i="c_"+r[15].color+" svelte-1b6dcy1"),le(e,"title",o=r[15].name)},m(l,s){h(l,e,s),_(e,t)},p(l,s){s&1&&n!==(n=(l[15].sym??" ")+"")&&K(t,n),s&1&&i!==(i="c_"+l[15].color+" svelte-1b6dcy1")&&le(e,"class",i),s&1&&o!==(o=l[15].name)&&le(e,"title",o)},d(l){l&&p(e)}}}function V_(r){let e,n=r[12],t=[];for(let i=0;i<n.length;i+=1)t[i]=W_(z_(r,n,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();e=m("br")},m(i,o){for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(i,o);h(i,e,o)},p(i,o){if(o&3){n=i[12];let l;for(l=0;l<n.length;l+=1){const s=z_(i,n,l);t[l]?t[l].p(s,o):(t[l]=W_(s),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(i){ye(t,i),i&&p(e)}}}function n6(r){let e,n=r[1](r[0]),t=[];for(let i=0;i<n.length;i+=1)t[i]=V_(H_(r,n,i));return{c(){e=m("div");for(let i=0;i<t.length;i+=1)t[i].c();le(e,"class","appearance-grid svelte-1b6dcy1")},m(i,o){h(i,e,o);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(i,[o]){if(o&3){n=i[1](i[0]);let l;for(l=0;l<n.length;l+=1){const s=H_(i,n,l);t[l]?t[l].p(s,o):(t[l]=V_(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},i:oe,o:oe,d(i){i&&p(e),ye(t,i)}}}function i6(r,e,n){const t=jt("data");let{overmapSpecial:i}=e,{showZ:o=0}=e;const l=[...i.subtype!=="mutable"?i.overmaps??[]:[]];let s=1/0,a=1/0,f=-1/0,c=-1/0;const u=new Map;for(const y of l){const[E,C,I]=y.point;y.overmap&&(E<s&&(s=E),C<a&&(a=C),E>f&&(f=E),C>c&&(c=C),u.set(`${E}|${C}|${I}`,y))}function d(y){const E=[];for(let C=a;C<=c;C++){const I=[];for(let A=s;A<=f;A++){const B=u.get(`${A}|${C}|${y}`);if(B!=null&&B.overmap){const[,L,D]=/^(.+?)(?:_(north|south|east|west))?$/.exec(B.overmap),Y=k(L,D||"north");I.push(Y)}else I.push({color:"black",sym:" ",name:""})}E.push(I)}return E}function b(y,E){const C=E==="north"?0:E==="east"?1:E==="south"?2:E==="west"?3:0;if(C===0)return y;const I=t.byType("rotatable_symbol").find(A=>A.tuple.some(B=>B===y));return I?I.tuple[(I.tuple.indexOf(y)+C)%I.tuple.length]:y}function k(y,E="north"){const C=t.byIdMaybe("overmap_terrain",y);return C?{color:C.color??"black",sym:b(C.sym??" ",E),name:Yt(C.name)}:{color:"black",sym:" ",name:""}}return r.$$set=y=>{"overmapSpecial"in y&&n(2,i=y.overmapSpecial),"showZ"in y&&n(0,o=y.showZ)},[o,d,i]}class uo extends ht{constructor(e){super(),pt(this,e,i6,n6,mt,{overmapSpecial:2,showZ:0})}}function J_(r){const e=r[4](r[5],r[0]);r[6]=e}function l6(r){return{c:oe,m:oe,p:oe,i:oe,o:oe,d:oe}}function r6(r){J_(r);let e,n,t=r[6].length&&X_(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,o){J_(i),i[6].length?t?(t.p(i,o),o&3&&g(t,1)):(t=X_(i),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(fe(),$(t,1,1,()=>{t=null}),ae())},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function X_(r){let e,n,t;return n=new Cf({props:{items:r[6],$$slots:{item:[s6,({item:i})=>({7:i}),({item:i})=>i?128:0],header:[o6]},$$scope:{ctx:r}}}),{c(){e=m("section"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&3&&(l.items=i[6]),o&388&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function o6(r){let e,n,t,i,o,l,s,a,f,c;return{c(){e=m("tr"),n=m("th"),t=m("h1"),i=w(r[2]),o=R(),l=m("th"),s=m("h1"),s.textContent=`${O.t("Avg. Count",{_context:"Obtaining"})}`,a=R(),f=m("th"),c=m("h1"),c.textContent=`${O.t("Chance",{_context:"Obtaining"})}`,le(n,"colspan","2"),bt(l,"text-align","right"),bt(l,"padding-left","1em"),bt(f,"text-align","right"),bt(f,"padding-left","1em"),le(e,"slot","header")},m(u,d){h(u,e,d),_(e,n),_(n,t),_(t,i),_(e,o),_(e,l),_(l,s),_(e,a),_(e,f),_(f,c)},p(u,d){d&4&&K(i,u[2])},d(u){u&&p(e)}}}function K_(r){let e=O.t("({n} variants)",{n:r[7].ids.length})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&128&&e!==(e=O.t("({n} variants)",{n:t[7].ids.length})+"")&&K(n,e)},d(t){t&&p(n)}}}function s6(r){let e,n,t,i,o,l,s=qo(r[3],r[7].overmap_special)+"",a,f,c,u,d,b=ro(r[7].chance.expected)+"",k,y,E,C=Dr(r[7].chance.prob)+"",I,A;t=new uo({props:{overmapSpecial:r[7].overmap_special}});let B=r[7].ids.length>1&&K_(r);return{c(){e=m("tr"),n=m("td"),q(t.$$.fragment),i=R(),o=m("td"),l=m("a"),a=w(s),c=R(),B&&B.c(),u=R(),d=m("td"),k=w(b),y=R(),E=m("td"),I=w(C),bt(n,"text-align","center"),bt(n,"width","0"),bt(n,"padding-left","0.5em"),bt(n,"padding-right","0.5em"),le(n,"class","svelte-r0psfp"),le(l,"href",f="/overmap_special/"+r[7].ids[0]+location.search),le(o,"class","svelte-r0psfp"),bt(d,"text-align","right"),bt(d,"padding-left","1em"),le(d,"class","svelte-r0psfp"),bt(E,"text-align","right"),bt(E,"padding-left","1em"),le(E,"class","svelte-r0psfp"),le(e,"class","middle svelte-r0psfp"),le(e,"slot","item")},m(L,D){h(L,e,D),_(e,n),U(t,n,null),_(e,i),_(e,o),_(o,l),_(l,a),_(o,c),B&&B.m(o,null),_(e,u),_(e,d),_(d,k),_(e,y),_(e,E),_(E,I),A=!0},p(L,D){const Y={};D&128&&(Y.overmapSpecial=L[7].overmap_special),t.$set(Y),(!A||D&128)&&s!==(s=qo(L[3],L[7].overmap_special)+"")&&K(a,s),(!A||D&128&&f!==(f="/overmap_special/"+L[7].ids[0]+location.search))&&le(l,"href",f),L[7].ids.length>1?B?B.p(L,D):(B=K_(L),B.c(),B.m(o,null)):B&&(B.d(1),B=null),(!A||D&128)&&b!==(b=ro(L[7].chance.expected)+"")&&K(k,b),(!A||D&128)&&C!==(C=Dr(L[7].chance.prob)+"")&&K(I,C)},i(L){A||(g(t.$$.fragment,L),A=!0)},o(L){$(t.$$.fragment,L),A=!1},d(L){L&&p(e),G(t),B&&B.d()}}}function f6(r){let e,n,t,i,o,l;return{c(){e=m("section"),n=m("h1"),t=w(r[2]),i=R(),o=m("p"),l=m("em"),l.textContent=`${O.t("Loading...")}`,bt(o,"color","var(--cata-color-gray)"),le(o,"data-testid","loading-indicator")},m(s,a){h(s,e,a),_(e,n),_(n,t),_(e,i),_(e,o),_(o,l)},p(s,a){a&4&&K(t,s[2])},i:oe,o:oe,d(s){s&&p(e)}}}function a6(r){let e,n,t,i={ctx:r,current:null,token:null,hasCatch:!1,pending:f6,then:r6,catch:l6,value:5,blocks:[,,,]};return jo(n=r[1],i),{c(){e=ue(),i.block.c()},m(o,l){h(o,e,l),i.block.m(o,i.anchor=l),i.mount=()=>e.parentNode,i.anchor=e,t=!0},p(o,[l]){r=o,i.ctx=r,l&2&&n!==(n=r[1])&&jo(n,i)||cy(i,r,l)},i(o){t||(g(i.block),t=!0)},o(o){for(let l=0;l<3;l+=1){const s=i.blocks[l];$(s)}t=!1},d(o){o&&p(e),i.block.d(o),i.token=null,i=null}}}function c6(r,e,n){let{id:t}=e,{loots:i}=e,{heading:o}=e;const l=jt("data");function s(a,f){const c=[];for(const{loot:u,ids:d}of a.values())if(u.has(f)){const b=u.get(f),k=l.byId("overmap_special",d[0]);c.push({overmap_special:k,ids:d,chance:b})}return c.sort((u,d)=>(d.chance.prob*100).toFixed(2)===(u.chance.prob*100).toFixed(2)?d.chance.expected-u.chance.expected:d.chance.prob-u.chance.prob),c}return r.$$set=a=>{"id"in a&&n(0,t=a.id),"loots"in a&&n(1,i=a.loots),"heading"in a&&n(2,o=a.heading)},[t,i,o,l,s]}class Mf extends ht{constructor(e){super(),pt(this,e,c6,a6,mt,{id:0,loots:1,heading:2})}}function u6(r){let e,n;return e=new Mf({props:{id:r[0],loots:Z5(r[1]),heading:O.t("Loot",{_context:"Obtaining"})}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,[i]){const o={};i&1&&(o.id=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function _6(r,e,n){let{item_id:t}=e;const i=jt("data");return r.$$set=o=>{"item_id"in o&&n(0,t=o.item_id)},[t,i]}class d6 extends ht{constructor(e){super(),pt(this,e,_6,u6,mt,{item_id:0})}}function m6(r){let e,n,t,i,o;return i=new Wt({props:{items:r[0],$$slots:{default:[p6,({item:{vehicle:l,prob:s}})=>({3:l,4:s}),({item:l})=>(l?8:0)|(l?16:0)]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("In Vehicle",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&56&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function p6(r){let e,n,t=Dr(r[4])+"",i,o,l;return e=new ge({props:{id:r[3].id,type:"vehicle"}}),{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){U(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),l=!0},p(s,a){const f={};a&8&&(f.id=s[3].id),e.$set(f),(!l||a&16)&&t!==(t=Dr(s[4])+"")&&K(i,t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){G(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function h6(r){let e,n,t=r[0].length&&m6(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function g6(r,e,n){let{item_id:t}=e;const i=jt("data"),o=i.byType("vehicle").filter(l=>l.id).flatMap(l=>{const s=tf(l),f=i.flattenItemGroup(s).find(c=>c.id===t);return f?[{vehicle:l,prob:f.prob,count:f.count}]:[]});return o.sort((l,s)=>s.prob-l.prob),r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class b6 extends ht{constructor(e){super(),pt(this,e,g6,h6,mt,{item_id:1})}}function Z_(r,e,n){const t=r.slice();return t[1]=e[n],t}function Q_(r){var y;let e,n,t,i,o,l,s,a,f,c=((y=r[0].ammo)==null?void 0:y.length)&&x_(r),u=r[0].charges_per_use&&td(r),d=r[0].power_draw&&nd(r),b=r[0].turns_per_charge&&id(r),k=r[0].sub&&ld(r);return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Tool",{_context:Hr,_comment:"Section heading"})}`,t=R(),i=m("dl"),c&&c.c(),o=ue(),u&&u.c(),l=ue(),d&&d.c(),s=ue(),b&&b.c(),a=ue(),k&&k.c()},m(E,C){h(E,e,C),_(e,n),_(e,t),_(e,i),c&&c.m(i,null),_(i,o),u&&u.m(i,null),_(i,l),d&&d.m(i,null),_(i,s),b&&b.m(i,null),_(i,a),k&&k.m(i,null),f=!0},p(E,C){var I;(I=E[0].ammo)!=null&&I.length?c?(c.p(E,C),C&1&&g(c,1)):(c=x_(E),c.c(),g(c,1),c.m(i,o)):c&&(fe(),$(c,1,1,()=>{c=null}),ae()),E[0].charges_per_use?u?u.p(E,C):(u=td(E),u.c(),u.m(i,l)):u&&(u.d(1),u=null),E[0].power_draw?d?d.p(E,C):(d=nd(E),d.c(),d.m(i,s)):d&&(d.d(1),d=null),E[0].turns_per_charge?b?b.p(E,C):(b=id(E),b.c(),b.m(i,a)):b&&(b.d(1),b=null),E[0].sub?k?(k.p(E,C),C&1&&g(k,1)):(k=ld(E),k.c(),g(k,1),k.m(i,null)):k&&(fe(),$(k,1,1,()=>{k=null}),ae())},i(E){f||(g(c),g(k),f=!0)},o(E){$(c),$(k),f=!1},d(E){E&&p(e),c&&c.d(),u&&u.d(),d&&d.d(),b&&b.d(),k&&k.d()}}}function x_(r){let e,n,t,i,o,l=[r[0].ammo].flat(),s=[];for(let f=0;f<l.length;f+=1)s[f]=ed(Z_(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Ammo",{_context:Hr})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&1){l=[f[0].ammo].flat();let u;for(u=0;u<l.length;u+=1){const d=Z_(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=ed(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function ed(r){let e,n,t;return n=new ge({props:{type:"ammunition_type",id:r[1]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[1]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function td(r){let e,n,t=r[0].charges_per_use+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Charges Per Use",{_context:Hr})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].charges_per_use+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function nd(r){let e,n,t=r[0].power_draw+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Power Draw",{_context:Hr})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].power_draw+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function id(r){let e,n,t=r[0].turns_per_charge+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Turns Per Charge",{_context:Hr})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].turns_per_charge+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function ld(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[0].sub}}),{c(){e=m("dt"),e.textContent=`${O.t("Substitute",{_context:Hr})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].sub),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function $6(r){let e,n,t=(r[0].charges_per_use||r[0].sub||r[0].power_draw||r[0].turns_per_charge)&&Q_(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].charges_per_use||i[0].sub||i[0].power_draw||i[0].turns_per_charge?t?(t.p(i,o),o&1&&g(t,1)):(t=Q_(i),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(fe(),$(t,1,1,()=>{t=null}),ae())},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}const Hr="Item Tool Info";function y6(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class k6 extends ht{constructor(e){super(),pt(this,e,y6,$6,mt,{item:0})}}function rd(r){const e=r[2](r[4]);r[5]=e}function v6(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[w6,({item:l})=>({4:l}),({item:l})=>l?16:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Transformed From",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&80&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function od(r){let e=" ",n,t,i=Go(r[5].transform_age*100)+"",o,l;return{c(){n=w(e),t=w("("),o=w(i),l=w(")")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p(s,a){a&16&&i!==(i=Go(s[5].transform_age*100)+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function w6(r){rd(r);let e,n,t,i,o;e=new Dt({props:{item:r[0].byId("item",r[4].id)}}),t=new ge({props:{type:"item",id:r[4].id}});let l=r[5].type==="delayed_transform"&&r[5].transform_age&&od(r);return{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment),l&&l.c(),i=ue()},m(s,a){U(e,s,a),h(s,n,a),U(t,s,a),l&&l.m(s,a),h(s,i,a),o=!0},p(s,a){rd(s);const f={};a&16&&(f.item=s[0].byId("item",s[4].id)),e.$set(f);const c={};a&16&&(c.id=s[4].id),t.$set(c),s[5].type==="delayed_transform"&&s[5].transform_age?l?l.p(s,a):(l=od(s),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i(s){o||(g(e.$$.fragment,s),g(t.$$.fragment,s),o=!0)},o(s){$(e.$$.fragment,s),$(t.$$.fragment,s),o=!1},d(s){G(e,s),s&&p(n),G(t,s),l&&l.d(s),s&&p(i)}}}function E6(r){let e,n,t=r[1].length&&v6(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[1].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function T6(r,e,n){let{item_id:t}=e;const i=jt("data"),o=i.transformedFrom(t),l=s=>Nr(s.use_action).find(a=>"target"in a&&a.target===t);return r.$$set=s=>{"item_id"in s&&n(3,t=s.item_id)},[i,o,l,t]}class S6 extends ht{constructor(e){super(),pt(this,e,T6,E6,mt,{item_id:3})}}function C6(r){let e,n,t,i,o,l,s=(r[0].diameter??0)+"",a,f,c,u,d=(r[0].width??0)+"",b,k;return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Wheel",{_context:Ls})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Diameter",{_context:Ls})}`,l=m("dd"),a=w(s),f=w('"'),c=m("dt"),c.textContent=`${O.t("Width",{_context:Ls})}`,u=m("dd"),b=w(d),k=w('"')},m(y,E){h(y,e,E),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),_(l,a),_(l,f),_(i,c),_(i,u),_(u,b),_(u,k)},p(y,[E]){E&1&&s!==(s=(y[0].diameter??0)+"")&&K(a,s),E&1&&d!==(d=(y[0].width??0)+"")&&K(b,d)},i:oe,o:oe,d(y){y&&p(e)}}}const Ls="Item Wheel Info";function I6(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class O6 extends ht{constructor(e){super(),pt(this,e,I6,C6,mt,{item:0})}}function sd(r,e,n){const t=r.slice();t[4]=e[n][0],t[5]=e[n][1],t[6]=e[n][2],t[9]=n;const i=t[1].byId("vitamin",t[4]);return t[7]=i,t}function fd(r,e,n){const t=r.slice();return t[10]=e[n][0],t[9]=n,t}function R6(r){let e=" ",n,t,i=Object.keys(r[0].tools_needed??{}).length,o,l,s,a=i&&ad(r),f=r[0].vitamins??[],c=[];for(let d=0;d<f.length;d+=1)c[d]=_d(sd(r,f,d));const u=d=>$(c[d],1,1,()=>{c[d]=null});return{c(){n=w(e),t=w("("),a&&a.c(),o=ue();for(let d=0;d<c.length;d+=1)c[d].c();l=w(")")},m(d,b){h(d,n,b),h(d,t,b),a&&a.m(d,b),h(d,o,b);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(d,b);h(d,l,b),s=!0},p(d,b){if(b&1&&(i=Object.keys(d[0].tools_needed??{}).length),i?a?(a.p(d,b),b&1&&g(a,1)):(a=ad(d),a.c(),g(a,1),a.m(o.parentNode,o)):a&&(fe(),$(a,1,1,()=>{a=null}),ae()),b&3){f=d[0].vitamins??[];let k;for(k=0;k<f.length;k+=1){const y=sd(d,f,k);c[k]?(c[k].p(y,b),g(c[k],1)):(c[k]=_d(y),c[k].c(),g(c[k],1),c[k].m(l.parentNode,l))}for(fe(),k=f.length;k<c.length;k+=1)u(k);ae()}},i(d){if(!s){g(a);for(let b=0;b<f.length;b+=1)g(c[b]);s=!0}},o(d){$(a),c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)$(c[b]);s=!1},d(d){d&&p(n),d&&p(t),a&&a.d(d),d&&p(o),ye(c,d),d&&p(l)}}}function A6(r){let e=" ",n,t,i,o,l;return i=new ge({props:{type:"item",id:r[0].target}}),{c(){n=w(e),t=w(`(⟹
  `),q(i.$$.fragment),o=w(")")},m(s,a){h(s,n,a),h(s,t,a),U(i,s,a),h(s,o,a),l=!0},p(s,a){const f={};a&1&&(f.id=s[0].target),i.$set(f)},i(s){l||(g(i.$$.fragment,s),l=!0)},o(s){$(i.$$.fragment,s),l=!1},d(s){s&&p(n),s&&p(t),G(i,s),s&&p(o)}}}function ad(r){var f;let e,n,t,i,o=Object.entries(r[0].tools_needed??{}),l=[];for(let c=0;c<o.length;c+=1)l[c]=cd(fd(r,o,c));const s=c=>$(l[c],1,1,()=>{l[c]=null});let a=((f=r[0].vitamins)==null?void 0:f.length)&&ud();return{c(){e=w(`with
    `);for(let c=0;c<l.length;c+=1)l[c].c();n=ue(),a&&a.c(),t=ue()},m(c,u){h(c,e,u);for(let d=0;d<l.length;d+=1)l[d]&&l[d].m(c,u);h(c,n,u),a&&a.m(c,u),h(c,t,u),i=!0},p(c,u){var d;if(u&1){o=Object.entries(c[0].tools_needed??{});let b;for(b=0;b<o.length;b+=1){const k=fd(c,o,b);l[b]?(l[b].p(k,u),g(l[b],1)):(l[b]=cd(k),l[b].c(),g(l[b],1),l[b].m(n.parentNode,n))}for(fe(),b=o.length;b<l.length;b+=1)s(b);ae()}(d=c[0].vitamins)!=null&&d.length?a||(a=ud(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},i(c){if(!i){for(let u=0;u<o.length;u+=1)g(l[u]);i=!0}},o(c){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)$(l[u]);i=!1},d(c){c&&p(e),ye(l,c),c&&p(n),a&&a.d(c),c&&p(t)}}}function N6(r){let e;return{c(){e=w(`,
      `)},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function cd(r){let e,n,t,i=r[9]!==0&&N6();return n=new ge({props:{type:"item",id:r[10]}}),{c(){i&&i.c(),e=ue(),q(n.$$.fragment)},m(o,l){i&&i.m(o,l),h(o,e,l),U(n,o,l),t=!0},p(o,l){const s={};l&1&&(s.id=o[10]),n.$set(s)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),G(n,o)}}}function ud(r){let e;return{c(){e=w(`:
    `)},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function B6(r){let e;return{c(){e=w(", ")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function _d(r){let e,n,t,i=r[5]+"",o,l=r[6]&&r[6]!==r[5]?`–${r[6]}`:"",s,a=r[7].vit_type==="counter"?" U":"%",f,c,u,d=r[9]!==0&&B6();return n=new ge({props:{type:r[7].type,id:r[7].id}}),{c(){d&&d.c(),e=ue(),q(n.$$.fragment),t=w(" ("),o=w(i),s=w(l),f=w(a),c=w(")")},m(b,k){d&&d.m(b,k),h(b,e,k),U(n,b,k),h(b,t,k),h(b,o,k),h(b,s,k),h(b,f,k),h(b,c,k),u=!0},p(b,k){const y={};k&1&&(y.type=b[7].type),k&1&&(y.id=b[7].id),n.$set(y),(!u||k&1)&&i!==(i=b[5]+"")&&K(o,i),(!u||k&1)&&l!==(l=b[6]&&b[6]!==b[5]?`–${b[6]}`:"")&&K(s,l),(!u||k&1)&&a!==(a=b[7].vit_type==="counter"?" U":"%")&&K(f,a)},i(b){u||(g(n.$$.fragment,b),u=!0)},o(b){$(n.$$.fragment,b),u=!1},d(b){d&&d.d(b),b&&p(e),G(n,b),b&&p(t),b&&p(o),b&&p(s),b&&p(f),b&&p(c)}}}function M6(r){let e,n,t,i,o,l;e=new ge({props:{type:"item_action",id:r[2].id,overrideText:r[3]}});const s=[A6,R6],a=[];function f(c,u){var d;return u&1&&(n=null),c[0].type==="transform"||c[0].type==="delayed_transform"?0:(n==null&&(n=!!(c[0].type==="consume_drug"&&((d=c[0].vitamins)!=null&&d.length||Object.keys(c[0].tools_needed??{}).length))),n?1:-1)}return~(t=f(r,-1))&&(i=a[t]=s[t](r)),{c(){q(e.$$.fragment),i&&i.c(),o=ue()},m(c,u){U(e,c,u),~t&&a[t].m(c,u),h(c,o,u),l=!0},p(c,[u]){let d=t;t=f(c,u),t===d?~t&&a[t].p(c,u):(i&&(fe(),$(a[d],1,1,()=>{a[d]=null}),ae()),~t?(i=a[t],i?i.p(c,u):(i=a[t]=s[t](c),i.c()),g(i,1),i.m(o.parentNode,o)):i=null)},i(c){l||(g(e.$$.fragment,c),g(i),l=!0)},o(c){$(e.$$.fragment,c),$(i),l=!1},d(c){G(e,c),~t&&a[t].d(c),c&&p(o)}}}function D6(r,e,n){const t=jt("data");let{usage:i}=e,o=i.type==="__item_action__"?t.byId("item_action",i.id):t.byId("item_action",i.type),l=("menu_text"in i?i.menu_text:null)??("name"in i&&i.name?Yt(i.name):null)??He(o);return r.$$set=s=>{"usage"in s&&n(0,i=s.usage)},[i,t,o,l]}class L6 extends ht{constructor(e){super(),pt(this,e,D6,M6,mt,{usage:0})}}function F6(r){let e,n,t,i,o;return i=new Wt({props:{items:r[0],$$slots:{default:[P6,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Smoke",{_context:"Obtaining"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function P6(r){let e,n,t,i;return e=new Dt({props:{item:r[3]}}),t=new ge({props:{type:"item",id:r[3].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&8&&(s.item=o[3]),e.$set(s);const a={};l&8&&(a.id=o[3].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function j6(r){let e,n,t=r[0].length&&F6(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,[o]){i[0].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function U6(r,e,n){let{item_id:t}=e;const o=jt("data").byType("item").filter(l=>l.id&&"smoking_result"in l&&l.smoking_result===t);return o.sort(an),r.$$set=l=>{"item_id"in l&&n(1,t=l.item_id)},[o,t]}class G6 extends ht{constructor(e){super(),pt(this,e,U6,j6,mt,{item_id:1})}}function dd(r,e,n){const t=r.slice();return t[28]=e[n].pocket,t[29]=e[n].count,t}function md(r,e,n){const t=r.slice();return t[0]=e[n],t}function pd(r,e,n){const t=r.slice();return t[34]=e[n],t}function hd(r,e,n){const t=r.slice();return t[37]=e[n][0],t[29]=e[n][1],t}function gd(r,e,n){const t=r.slice();return t[37]=e[n],t}function bd(r,e,n){const t=r.slice();return t[37]=e[n].id,t[43]=e[n].prob,t}function Fs(r){const e=r.slice(),n=e[1].flattenTopLevelItemGroup(e[1].byId("item_group",e[0].nanofab_template_group));return e[42]=n,e}function $d(r,e,n){const t=r.slice();return t[37]=e[n].id,t}function yd(r,e,n){const t=r.slice();return t[49]=e[n][0],t[29]=e[n][1],t}function Ps(r){const e=r.slice(),n=Array.isArray(e[0].brewable.brew_results)?Object.fromEntries(e[0].brewable.brew_results.map(t=>[t,1])):e[0].brewable.brew_results;return e[48]=n,e}function kd(r,e,n){const t=r.slice();return t[52]=e[n],t}function vd(r,e,n){const t=r.slice();return t[37]=e[n][0],t[29]=e[n][1],t}function wd(r,e,n){const t=r.slice();return t[57]=e[n],t}function Ed(r,e,n){const t=r.slice();return t[60]=e[n].quality,t[61]=e[n].level,t}function Td(r,e,n){const t=r.slice();return t[60]=e[n].quality,t[61]=e[n].level,t}function Sd(r,e,n){const t=r.slice();return t[66]=e[n],t}function Cd(r,e,n){const t=r.slice();return t[69]=e[n],t}function Id(r,e,n){const t=r.slice();return t[72]=e[n],t}function Od(r,e,n){const t=r.slice();return t[75]=e[n].type,t[37]=e[n].id,t}function Rd(r,e,n){const t=r.slice();return t[78]=e[n].id,t[79]=e[n].max_charges,t}function Ad(r,e,n){const t=r.slice();return t[82]=e[n],t}function Nd(r,e,n){const t=r.slice();return t[85]=e[n],t}function js(r){const e=r.slice(),n=Yt(e[85].name);return e[88]=n,e}function Bd(r){let e,n,t,i,o=r[0].variants,l=[];for(let s=0;s<o.length;s+=1)l[s]=Ld(Nd(r,o,s));return{c(){e=m("dt"),e.textContent="AKA",n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a[0]&1){o=s[0].variants;let f;for(f=0;f<o.length;f+=1){const c=Nd(s,o,f);l[f]?l[f].p(c,a):(l[f]=Ld(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function Md(r){let e=r[88]!==He(r[0]),n,t=e&&Dd(r);return{c(){t&&t.c(),n=ue()},m(i,o){t&&t.m(i,o),h(i,n,o)},p(i,o){o[0]&1&&(e=i[88]!==He(i[0])),e?t?t.p(i,o):(t=Dd(i),t.c(),t.m(n.parentNode,n)):t&&(t.d(1),t=null)},d(i){t&&t.d(i),i&&p(n)}}}function Dd(r){let e,n=r[88]+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p(i,o){o[0]&1&&n!==(n=i[88]+"")&&K(t,n)},d(i){i&&p(e)}}}function Ld(r){let e,n=r[85].name&&Md(js(r));return{c(){n&&n.c(),e=ue()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,i){t[85].name?n?n.p(js(t),i):(n=Md(js(t)),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&p(e)}}}function q6(r){let e,n,t,i,o,l=r[5],s=[];for(let f=0;f<l.length;f+=1)s[f]=Fd(Ad(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Material")}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&96){l=f[5];let u;for(u=0;u<l.length;u+=1){const d=Ad(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Fd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Y6(r){let e=" ",n,t,i=(r[82].portion/r[6]*100).toFixed(0)+"",o,l;return{c(){n=w(e),t=w("("),o=w(i),l=w("%)")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p:oe,d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function Fd(r){let e,n,t;n=new ge({props:{type:"material",id:r[82].type}});let i=r[5].length>1&&Y6(r);return{c(){e=m("li"),q(n.$$.fragment),i&&i.c()},m(o,l){h(o,e,l),U(n,e,null),i&&i.m(e,null),t=!0},p(o,l){o[5].length>1&&i.p(o,l)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){o&&p(e),G(n),i&&i.d()}}}function H6(r){let e,n,t,i,o,l=r[12].map(r[22]),s=[];for(let f=0;f<l.length;f+=1)s[f]=Pd(Rd(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Ammo",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","no-bullets")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&6145){l=f[12].map(f[22]);let u;for(u=0;u<l.length;u+=1){const d=Rd(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Pd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Pd(r){let e,n=r[79]+"",t,i,o=Zt("GUN",r[0])?"round":"charge",l,s=r[79]===1?"":"s",a,f,c,u,d;return c=new ge({props:{type:"ammunition_type",id:r[78]}}),{c(){e=m("li"),t=w(n),i=R(),l=w(o),a=w(s),f=w(` of
                  `),q(c.$$.fragment),u=R()},m(b,k){h(b,e,k),_(e,t),_(e,i),_(e,l),_(e,a),_(e,f),U(c,e,null),_(e,u),d=!0},p(b,k){(!d||k[0]&1)&&o!==(o=Zt("GUN",b[0])?"round":"charge")&&K(l,o)},i(b){d||(g(c.$$.fragment,b),d=!0)},o(b){$(c.$$.fragment,b),d=!1},d(b){b&&p(e),G(c)}}}function z6(r){let e,n,t,i,o,l=r[10],s=[];for(let f=0;f<l.length;f+=1)s[f]=jd(Od(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Compatible Magazines",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1024){l=f[10];let u;for(u=0;u<l.length;u+=1){const d=Od(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=jd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function jd(r){let e,n,t;return n=new ge({props:{type:r[75],id:r[37]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Ud(r){let e,n,t,i,o,l=r[0].weapon_category,s=[];for(let f=0;f<l.length;f+=1)s[f]=Gd(Id(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Category",{_context:pn,_comment:"Weapon category for martial arts"})} 
          `,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].weapon_category;let u;for(u=0;u<l.length;u+=1){const d=Id(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Gd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Gd(r){let e,n,t;return n=new ge({props:{type:"weapon_category",id:r[72]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[72]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function W6(r){let e,n,t,i,o,l=r[7],s=[];for(let f=0;f<l.length;f+=1)s[f]=qd(Cd(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Flags")}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&128){l=f[7];let u;for(u=0;u<l.length;u+=1){const d=Cd(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=qd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function V6(r){let e,n;return e=new ge({props:{type:"json_flag",id:r[69].id}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function J6(r){let e,n,t,i,o,l,s;return e=new ge({props:{type:"json_flag",id:r[69].id}}),o=new Mr({props:{text:Yt(r[69].info),fgOnly:!0}}),{c(){q(e.$$.fragment),n=R(),t=m("span"),i=w("("),q(o.$$.fragment),l=w(")"),bt(t,"color","var(--cata-color-gray)")},m(a,f){U(e,a,f),h(a,n,f),h(a,t,f),_(t,i),U(o,t,null),_(t,l),s=!0},p:oe,i(a){s||(g(e.$$.fragment,a),g(o.$$.fragment,a),s=!0)},o(a){$(e.$$.fragment,a),$(o.$$.fragment,a),s=!1},d(a){G(e,a),a&&p(n),a&&p(t),G(o)}}}function qd(r){let e,n,t,i,o;const l=[J6,V6],s=[];function a(f,c){return"info"in f[69]&&f[69].info?0:1}return n=a(r),t=s[n]=l[n](r),{c(){e=m("li"),t.c(),i=R()},m(f,c){h(f,e,c),s[n].m(e,null),_(e,i),o=!0},p(f,c){t.p(f,c)},i(f){o||(g(t),o=!0)},o(f){$(t),o=!1},d(f){f&&p(e),s[n].d()}}}function X6(r){let e,n,t,i,o,l=r[8],s=[];for(let f=0;f<l.length;f+=1)s[f]=Yd(Sd(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Possible Faults",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&256){l=f[8];let u;for(u=0;u<l.length;u+=1){const d=Sd(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Yd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Yd(r){let e,n,t;return n=new ge({props:{type:"fault",id:r[66].id}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function K6(r){let e,n,t,i,o,l=r[3],s=[];for(let f=0;f<l.length;f+=1)s[f]=Hd(Td(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Qualities",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","no-bullets")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&8){l=f[3];let u;for(u=0;u<l.length;u+=1){const d=Td(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Hd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Z6(r){let e,n=r[61]+"",t;return{c(){e=m("span"),t=w(n),le(e,"slot","0")},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function Q6(r){let e,n;return e=new ge({props:{slot:"1",type:"tool_quality",id:r[60].id}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Hd(r){let e,n,t,i;return n=new Ki({props:{str:en.gettext("Level <info>%1$d %2$s</info> quality","{level}","{quality}").replace(/\$[ds]|<\/?info[^>]*>/g,""),slot0:"level",slot1:"quality",$$slots:{1:[Q6],0:[Z6]},$$scope:{ctx:r}}}),{c(){e=m("li"),q(n.$$.fragment),t=R()},m(o,l){h(o,e,l),U(n,e,null),_(e,t),i=!0},p(o,l){const s={};l[2]&134217728&&(s.$$scope={dirty:l,ctx:o}),n.$set(s)},i(o){i||(g(n.$$.fragment,o),i=!0)},o(o){$(n.$$.fragment,o),i=!1},d(o){o&&p(e),G(n)}}}function x6(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=zd(Ed(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Qualities (Charged)",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","no-bullets")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&16){l=f[4];let u;for(u=0;u<l.length;u+=1){const d=Ed(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=zd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function eB(r){let e,n=r[61]+"",t;return{c(){e=m("span"),t=w(n),le(e,"slot","0")},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function tB(r){let e,n;return e=new ge({props:{slot:"1",type:"tool_quality",id:r[60].id}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function zd(r){let e,n,t,i;return n=new Ki({props:{str:en.gettext("Level <info>%1$d %2$s</info> quality","{level}","{quality}").replace(/\$[ds]|<\/?info[^>]*>/g,""),slot0:"level",slot1:"quality",$$slots:{1:[tB],0:[eB]},$$scope:{ctx:r}}}),{c(){e=m("li"),q(n.$$.fragment),t=R()},m(o,l){h(o,e,l),U(n,e,null),_(e,t),i=!0},p(o,l){const s={};l[2]&134217728&&(s.$$scope={dirty:l,ctx:o}),n.$set(s)},i(o){i||(g(n.$$.fragment,o),i=!0)},o(o){$(n.$$.fragment,o),i=!1},d(o){o&&p(e),G(n)}}}function nB(r){let e,n,t,i,o,l=r[15],s=[];for(let f=0;f<l.length;f+=1)s[f]=Wd(wd(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Vehicle Parts",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&32768){l=f[15];let u;for(u=0;u<l.length;u+=1){const d=wd(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Wd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Wd(r){let e,n,t;return n=new ge({props:{type:"vehicle_part",id:r[57].id}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function iB(r){var u,d;let e,n,t,i,o,l,s=r[14].components,a=[];for(let b=0;b<s.length;b+=1)a[b]=Vd(vd(r,s,b));const f=b=>$(a[b],1,1,()=>{a[b]=null});let c=(((u=r[14].qualities)==null?void 0:u.length)||((d=r[14].tools)==null?void 0:d.length))&&lB(r);return{c(){e=m("dt"),e.textContent=`${O.t("Disassembles Into",{_context:pn})}`,n=m("dd"),t=m("ul");for(let b=0;b<a.length;b+=1)a[b].c();i=R(),c&&c.c(),o=R(),le(t,"class","comma-separated")},m(b,k){h(b,e,k),h(b,n,k),_(n,t);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(t,null);_(n,i),c&&c.m(n,null),_(n,o),l=!0},p(b,k){var y,E;if(k[0]&16384){s=b[14].components;let C;for(C=0;C<s.length;C+=1){const I=vd(b,s,C);a[C]?(a[C].p(I,k),g(a[C],1)):(a[C]=Vd(I),a[C].c(),g(a[C],1),a[C].m(t,null))}for(fe(),C=s.length;C<a.length;C+=1)f(C);ae()}((y=b[14].qualities)!=null&&y.length||(E=b[14].tools)!=null&&E.length)&&c.p(b,k)},i(b){if(!l){for(let k=0;k<s.length;k+=1)g(a[k]);g(c),l=!0}},o(b){a=a.filter(Boolean);for(let k=0;k<a.length;k+=1)$(a[k]);$(c),l=!1},d(b){b&&p(e),b&&p(n),ye(a,b),c&&c.d()}}}function Vd(r){let e,n,t;return n=new ge({props:{id:r[37],count:r[29],type:"item"}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function lB(r){let e,n,t;return n=new co({props:{requirement:r[13],direction:"uncraft"}}),{c(){e=m("dl"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function rB(r){let e,n,t,i,o,l=r[16],s=[];for(let f=0;f<l.length;f+=1)s[f]=Jd(kd(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Usage",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&65536){l=f[16];let u;for(u=0;u<l.length;u+=1){const d=kd(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Jd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Jd(r){let e,n,t;return n=new L6({props:{usage:r[52]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Xd(r){let e,n,t,i,o=(r[0].brewable.brew_time??"1 turn")+"",l,s,a,f=Object.entries(r[48]),c=[];for(let d=0;d<f.length;d+=1)c[d]=Kd(yd(r,f,d));const u=d=>$(c[d],1,1,()=>{c[d]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Ferments Into",{_context:pn})}`,n=m("dd"),t=m("ul");for(let d=0;d<c.length;d+=1)c[d].c();i=w(`
            (`),l=w(o),s=w(`)
          `),le(t,"class","comma-separated")},m(d,b){h(d,e,b),h(d,n,b),_(n,t);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(t,null);_(n,i),_(n,l),_(n,s),a=!0},p(d,b){if(b[0]&1){f=Object.entries(d[48]);let k;for(k=0;k<f.length;k+=1){const y=yd(d,f,k);c[k]?(c[k].p(y,b),g(c[k],1)):(c[k]=Kd(y),c[k].c(),g(c[k],1),c[k].m(t,null))}for(fe(),k=f.length;k<c.length;k+=1)u(k);ae()}(!a||b[0]&1)&&o!==(o=(d[0].brewable.brew_time??"1 turn")+"")&&K(l,o)},i(d){if(!a){for(let b=0;b<f.length;b+=1)g(c[b]);a=!0}},o(d){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)$(c[b]);a=!1},d(d){d&&p(e),d&&p(n),ye(c,d)}}}function Kd(r){let e,n,t;return n=new ge({props:{type:"item",id:r[49],count:r[29]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[49]),o[0]&1&&(l.count=i[29]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Zd(r){let e,n,t,i,o=(r[0].milling.conversion_rate??0)+"",l,s,a;return t=new ge({props:{type:"item",id:r[0].milling.into}}),{c(){e=m("dt"),e.textContent=`${O.t("Mills Into",{_context:pn})}`,n=m("dd"),q(t.$$.fragment),i=w(`
            (×`),l=w(o),s=w(`)
          `)},m(f,c){h(f,e,c),h(f,n,c),U(t,n,null),_(n,i),_(n,l),_(n,s),a=!0},p(f,c){const u={};c[0]&1&&(u.id=f[0].milling.into),t.$set(u),(!a||c[0]&1)&&o!==(o=(f[0].milling.conversion_rate??0)+"")&&K(l,o)},i(f){a||(g(t.$$.fragment,f),a=!0)},o(f){$(t.$$.fragment,f),a=!1},d(f){f&&p(e),f&&p(n),G(t)}}}function oB(r){let e,n,t,i,o,l=r[20],s=[];for(let f=0;f<l.length;f+=1)s[f]=Qd($d(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("From Mutation",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1048576){l=f[20];let u;for(u=0;u<l.length;u+=1){const d=$d(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Qd(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Qd(r){let e,n,t;return n=new ge({props:{type:"mutation",id:r[37]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function xd(r){let e,n,t,i,o=r[42],l=[];for(let a=0;a<o.length;a+=1)l[a]=em(bd(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Possible Recipes",{_context:pn})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c()},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f[0]&3){o=a[42];let c;for(c=0;c<o.length;c+=1){const u=bd(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=em(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function em(r){let e,n,t,i,o,l=(r[43]*100).toFixed(1)+"",s,a,f;return n=new Dt({props:{item:r[1].byId("item",r[37])}}),i=new ge({props:{type:"item",id:r[37]}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=w(`
                  (`),s=w(l),a=w(`%)
                `)},m(c,u){h(c,e,u),U(n,e,null),_(e,t),U(i,e,null),_(e,o),_(e,s),_(e,a),f=!0},p(c,u){const d={};u[0]&1&&(d.item=c[1].byId("item",c[37])),n.$set(d);const b={};u[0]&1&&(b.id=c[37]),i.$set(b),(!f||u[0]&1)&&l!==(l=(c[43]*100).toFixed(1)+"")&&K(s,l)},i(c){f||(g(n.$$.fragment,c),g(i.$$.fragment,c),f=!0)},o(c){$(n.$$.fragment,c),$(i.$$.fragment,c),f=!1},d(c){c&&p(e),G(n),G(i)}}}function tm(r){let e,n,t;return n=new Mr({props:{text:Yt(r[0].description),fgOnly:!0}}),{c(){e=m("p"),q(n.$$.fragment),bt(e,"color","var(--cata-color-gray)"),bt(e,"margin-bottom","0"),bt(e,"white-space","pre-wrap")},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.text=Yt(i[0].description)),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function sB(r){let e,n;return e=new uO({props:{picture:r[17]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function nm(r){let e,n;return e=new AR({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function im(r){let e,n,t,i;const o=[aB,fB],l=[];function s(a,f){var c;return(c=a[1].build_number)!=null&&c.startsWith("0.F")?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function fB(r){let e,n;return e=new qO({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function aB(r){let e,n;return e=new bR({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function lm(r){let e,n;return e=new SR({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function rm(r){let e,n;return e=new k6({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function om(r){let e,n,t,i,o,l,s=r[0].displacement+"",a,f;return{c(){e=m("section"),n=m("h1"),n.textContent="Engine",t=R(),i=m("dl"),o=m("dt"),o.textContent="Displacement",l=m("dd"),a=w(s),f=w(" cc")},m(c,u){h(c,e,u),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),_(l,a),_(l,f)},p(c,u){u[0]&1&&s!==(s=c[0].displacement+"")&&K(a,s)},d(c){c&&p(e)}}}function sm(r){let e,n;return e=new YR({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function fm(r){let e,n;return e=new O6({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function am(r){let e,n,t,i,o,l,s,a,f,c,u=r[0].seed_data.grow+"",d,b,k=[r[0].seed_data.fruit].concat(r[0].seed_data.byproducts??[]).concat(r[0].seed_data.seeds??!0?[r[0].id]:[]).filter(gm),y=[];for(let C=0;C<k.length;C+=1)y[C]=cm(gd(r,k,C));const E=C=>$(y[C],1,1,()=>{y[C]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Grows Into",{_context:"Seed Data"})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Harvest Results",{_context:"Seed Data"})}`,l=m("dd"),s=m("ul");for(let C=0;C<y.length;C+=1)y[C].c();a=R(),f=m("dt"),f.textContent=`${O.t("Growing Time",{_context:"Seed Data"})}`,c=m("dd"),d=w(u),le(s,"class","comma-separated")},m(C,I){h(C,e,I),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l),_(l,s);for(let A=0;A<y.length;A+=1)y[A]&&y[A].m(s,null);_(l,a),_(i,f),_(i,c),_(c,d),b=!0},p(C,I){if(I[0]&1){k=[C[0].seed_data.fruit].concat(C[0].seed_data.byproducts??[]).concat(C[0].seed_data.seeds??!0?[C[0].id]:[]).filter(gm);let A;for(A=0;A<k.length;A+=1){const B=gd(C,k,A);y[A]?(y[A].p(B,I),g(y[A],1)):(y[A]=cm(B),y[A].c(),g(y[A],1),y[A].m(s,null))}for(fe(),A=k.length;A<y.length;A+=1)E(A);ae()}(!b||I[0]&1)&&u!==(u=C[0].seed_data.grow+"")&&K(d,u)},i(C){if(!b){for(let I=0;I<k.length;I+=1)g(y[I]);b=!0}},o(C){y=y.filter(Boolean);for(let I=0;I<y.length;I+=1)$(y[I]);b=!1},d(C){C&&p(e),ye(y,C)}}}function cm(r){let e,n,t;return n=new ge({props:{type:"item",id:r[37]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[37]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function um(r){let e,n,t,i,o,l,s,a;n=new _N({props:{item:r[0]}});const f=[uB,cB],c=[];function u(d,b){return b[0]&1&&(i=null),b[0]&1&&(o=null),i==null&&(i=!!Zt("GUN",d[0])),i?0:(o==null&&(o=!!Zt("AMMO",d[0])),o?1:-1)}return~(l=u(r,[-1,-1,-1]))&&(s=c[l]=f[l](r)),{c(){e=m("div"),q(n.$$.fragment),t=R(),s&&s.c(),le(e,"class","side-by-side")},m(d,b){h(d,e,b),U(n,e,null),_(e,t),~l&&c[l].m(e,null),a=!0},p(d,b){const k={};b[0]&1&&(k.item=d[0]),n.$set(k);let y=l;l=u(d,b),l===y?~l&&c[l].p(d,b):(s&&(fe(),$(c[y],1,1,()=>{c[y]=null}),ae()),~l?(s=c[l],s?s.p(d,b):(s=c[l]=f[l](d),s.c()),g(s,1),s.m(e,null)):s=null)},i(d){a||(g(n.$$.fragment,d),g(s),a=!0)},o(d){$(n.$$.fragment,d),$(s),a=!1},d(d){d&&p(e),G(n),~l&&c[l].d()}}}function cB(r){let e,n;return e=new mO({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function uB(r){let e,n;return e=new HA({props:{item:r[0]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function _B(r){let e,n,t,i,o=hm(r[9].filter(bm)),l=[];for(let a=0;a<o.length;a+=1)l[a]=pm(dd(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Pockets",{_context:pn})}`,t=R();for(let a=0;a<l.length;a+=1)l[a].c()},m(a,f){h(a,e,f),_(e,n),_(e,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(e,null);i=!0},p(a,f){if(f[0]&512){o=hm(a[9].filter(bm));let c;for(c=0;c<o.length;c+=1){const u=dd(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=pm(u),l[c].c(),g(l[c],1),l[c].m(e,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),ye(l,a)}}}function dB(r){let e,n,t=r[29]+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Count",{_context:pn})}`,n=m("dd"),i=w(t),o=w("×")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p:oe,d(l){l&&p(e),l&&p(n)}}}function mB(r){let e,n,t=r[28].name+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Name",{_context:pn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function pB(r){let e,n,t=r[28].description+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Description",{_context:pn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function hB(r){let e,n,t=r[28].max_contains_volume+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Volume Capacity",{_context:pn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function gB(r){let e,n,t=r[28].max_contains_weight+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Weight Capacity",{_context:pn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function bB(r){let e,n,t,i,o,l=[...Object.entries(r[28].ammo_restriction)],s=[];for(let f=0;f<l.length;f+=1)s[f]=_m(hd(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Ammo Restriction",{_context:pn,_comment:"For a pocket"})} 
          `,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&512){l=[...Object.entries(f[28].ammo_restriction)];let u;for(u=0;u<l.length;u+=1){const d=hd(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=_m(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function _m(r){let e,n=r[29]+"",t,i,o=r[29]===1?"":"s",l,s,a,f,c;return a=new ge({props:{id:r[37],type:"ammunition_type"}}),{c(){e=m("li"),t=w(n),i=w(" round"),l=w(o),s=w(" of "),q(a.$$.fragment),f=R()},m(u,d){h(u,e,d),_(e,t),_(e,i),_(e,l),_(e,s),U(a,e,null),_(e,f),c=!0},p:oe,i(u){c||(g(a.$$.fragment,u),c=!0)},o(u){$(a.$$.fragment,u),c=!1},d(u){u&&p(e),G(a)}}}function $B(r){let e,n,t=r[28].max_item_length+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Max Item Length",{_context:pn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function yB(r){let e,n,t=r[28].min_item_volume+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Min Item Volume",{_context:pn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function kB(r){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Max Items",{_context:pn,_comment:"Maximum number of items allowed in the pocket. 1 for holsters, not shown for anything else."})} 
          `,n=m("dd"),n.textContent="1"},m(t,i){h(t,e,i),h(t,n,i)},p:oe,d(t){t&&p(e),t&&p(n)}}}function vB(r){let e,n,t=r[28].sealed_data.spoil_multiplier+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Spoil Multiplier",{_context:pn,_comment:"Items contained in this pocket will spoil faster or slower according to this multiplier."})} 
          `,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function wB(r){let e,n,t,i,o,l=r[28].flag_restriction,s=[];for(let f=0;f<l.length;f+=1)s[f]=dm(pd(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Flag Restriction",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&512){l=f[28].flag_restriction;let u;for(u=0;u<l.length;u+=1){const d=pd(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=dm(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function dm(r){let e,n,t;return n=new ge({props:{type:"json_flag",id:r[34]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function EB(r){let e,n,t,i,o,l=r[28].item_restriction,s=[];for(let f=0;f<l.length;f+=1)s[f]=mm(md(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Item Restriction",{_context:pn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&512){l=f[28].item_restriction;let u;for(u=0;u<l.length;u+=1){const d=md(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=mm(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function mm(r){let e,n,t;return n=new ge({props:{type:"item",id:r[0]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function pm(r){let e,n,t,i,o,l,s,a=(r[28].rigid?O.t("Yes"):O.t("No"))+"",f,c,u,d,b,k=r[28].moves+"",y,E,C,I,A,B=r[29]!=1&&dB(r),L=r[28].name&&mB(r),D=r[28].description&&pB(r),Y=r[28].max_contains_volume!=null&&hB(r),z=r[28].max_contains_weight!=null&&gB(r),W=r[28].ammo_restriction&&bB(r),H=r[28].max_item_length&&$B(r),ne=r[28].min_item_volume!=="0 ml"&&yB(r),M=r[28].holster&&kB(),X=r[28].sealed_data&&(r[28].sealed_data.spoil_multiplier??1)!==1&&vB(r),te=r[28].flag_restriction&&wB(r),F=r[28].item_restriction&&EB(r);return{c(){e=m("dl"),B&&B.c(),n=ue(),L&&L.c(),t=ue(),D&&D.c(),i=ue(),Y&&Y.c(),o=ue(),z&&z.c(),l=m("dt"),l.textContent=`${O.t("Rigid",{_context:pn})}`,s=m("dd"),f=w(a),W&&W.c(),c=ue(),H&&H.c(),u=ue(),ne&&ne.c(),d=m("dt"),d.textContent=`${O.t("Moves to Remove Item",{_context:pn})}`,b=m("dd"),y=w(k),M&&M.c(),E=ue(),X&&X.c(),C=ue(),te&&te.c(),I=ue(),F&&F.c()},m(j,Z){h(j,e,Z),B&&B.m(e,null),_(e,n),L&&L.m(e,null),_(e,t),D&&D.m(e,null),_(e,i),Y&&Y.m(e,null),_(e,o),z&&z.m(e,null),_(e,l),_(e,s),_(s,f),W&&W.m(e,null),_(e,c),H&&H.m(e,null),_(e,u),ne&&ne.m(e,null),_(e,d),_(e,b),_(b,y),M&&M.m(e,null),_(e,E),X&&X.m(e,null),_(e,C),te&&te.m(e,null),_(e,I),F&&F.m(e,null),A=!0},p(j,Z){j[29]!=1&&B.p(j,Z),j[28].name&&L.p(j,Z),j[28].description&&D.p(j,Z),j[28].max_contains_volume!=null&&Y.p(j,Z),j[28].max_contains_weight!=null&&z.p(j,Z),j[28].ammo_restriction&&W.p(j,Z),j[28].max_item_length&&H.p(j,Z),j[28].min_item_volume!=="0 ml"&&ne.p(j,Z),j[28].holster&&M.p(j,Z),j[28].sealed_data&&(j[28].sealed_data.spoil_multiplier??1)!==1&&X.p(j,Z),j[28].flag_restriction&&te.p(j,Z),j[28].item_restriction&&F.p(j,Z)},i(j){A||(g(W),g(te),g(F),A=!0)},o(j){$(W),$(te),$(F),A=!1},d(j){j&&p(e),B&&B.d(),L&&L.d(),D&&D.d(),Y&&Y.d(),z&&z.d(),W&&W.d(),H&&H.d(),ne&&ne.d(),M&&M.d(),X&&X.d(),te&&te.d(),F&&F.d()}}}function TB(r){let e,n,t,i,o;return i=new Wt({props:{items:r[18],$$slots:{default:[SB,({item:l})=>({0:l}),({item:l})=>[l?1:0]]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Fuel For",{_context:pn})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s[0]&1|s[2]&134217728&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function SB(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:r[0].type,id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l[0]&1&&(s.item=o[0]),e.$set(s);const a={};l[0]&1&&(a.type=o[0].type),l[0]&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function CB(r){let e,n,t,i,o;return i=new Wt({props:{items:r[19],$$slots:{default:[IB,({item:l})=>({0:l}),({item:l})=>[l?1:0]]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Used to Repair",{_context:pn})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s[0]&1|s[2]&134217728&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function IB(r){let e,n;return e=new ge({props:{type:"fault",id:r[0].id}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function OB(r){var Cl,Ne,kt;let e,n,t,i=He(r[0])+"",o,l,s,a,f,c,u,d,b,k,y,E=$l(r[21](r[0])??"1 ml")+"",C,I,A,B=Ar(r[0].weight??0)+"",L,D,Y,z=r[2](r[0])+"",W,H,ne,M,X,te,F,j,Z,x,Q,V,ie,_e,re,ee,ce,Ee,we=Zt("BOOK",r[0]),De,ze=Zt("ARMOR",r[0])||Zt("TOOL_ARMOR",r[0]),We,Ve=Zt("BIONIC_ITEM",r[0]),Qe,ve=Zt("TOOL",r[0])||Zt("TOOL_ARMOR",r[0]),Te,Ce=Zt("ENGINE",r[0])&&r[0].displacement,it,Be=Zt("COMESTIBLE",r[0]),et,xe=Zt("WHEEL",r[0]),At,wt,st,Ut,$t=r[0].bashing||r[0].cutting||r[0].melee_damage||Zt("GUN",r[0])||Zt("AMMO",r[0])&&(r[0].show_stats||r[0].damage),_t,Ue=r[9].filter(AB).length,ke,Ke,Lt,Rt,Ct,pe,$e,Ae,de,Ge,Oe,dt,Ie,at,Ze,Me,je,ot,rt,Bt,Ot,Pe,Je,ft,Se,ct,tn,Mt,Qt,sn,Xe,Et,nn,Re,yt,dn,rn,Gt,xn,In;n=new Dt({props:{item:r[0]}});let wn=((Cl=r[0].variants)==null?void 0:Cl.length)&&Bd(r),cn=r[5].length&&q6(r),Ni=r[12].length&&H6(r),En=r[10].length&&z6(r),bn=((Ne=r[0].weapon_category)==null?void 0:Ne.length)&&Ud(r),un=r[7].length&&W6(r),Bi=r[8].length&&X6(r),On=r[3].length&&K6(r),$n=r[4].length&&x6(r),yn=r[15].length&&nB(r),Qn=r[14]&&r[13]&&iB(r),Ti=r[16].length&&rB(r),Dn=r[0].brewable&&Xd(Ps(r)),Ln=((kt=r[0].milling)==null?void 0:kt.into)&&Zd(r),Si=r[20].length&&oB(r),Fn=r[0].nanofab_template_group&&xd(Fs(r)),Pn=r[0].description&&tm(r),Ci=r[17]&&sB(r),jn=we&&nm(r),Un=ze&&im(r),Gn=Ve&&lm(r),qn=ve&&rm(r),ei=Ce&&om(r),Yn=Be&&sm(r),Hn=xe&&fm(r);wt=new rN({props:{item:r[0]}});let zn=r[0].seed_data&&am(r),Wn=$t&&um(r),Ii=Ue&&_B(r),Oi=r[18].length&&TB(r),Ri=r[19].length&&CB(r);return Rt=new fA({props:{item_id:r[0].id}}),de=new LA({props:{item_id:r[0].id}}),Oe=new GA({props:{item_id:r[0].id}}),Ie=new LR({props:{item_id:r[0].id}}),Ze=new XA({props:{item_id:r[0].id}}),je=new eN({props:{item_id:r[0].id}}),rt=new G6({props:{item_id:r[0].id}}),Ot=new S6({props:{item_id:r[0].id}}),Je=new EA({props:{item_id:r[0].id}}),Se=new P5({props:{item_id:r[0].id}}),tn=new B5({props:{item_id:r[0].id}}),Qt=new mA({props:{item_id:r[0].id}}),Xe=new $A({props:{item_id:r[0].id}}),nn=new wR({props:{item_id:r[0].id}}),yt=new AA({props:{item_id:r[0].id}}),rn=new d6({props:{item_id:r[0].id}}),xn=new b6({props:{item_id:r[0].id}}),{c(){e=m("h1"),q(n.$$.fragment),t=R(),o=w(i),l=R(),s=m("section"),a=m("h1"),a.textContent=`${O.t("General",{_context:pn})}`,f=R(),c=m("div"),u=m("div"),d=m("dl"),wn&&wn.c(),b=ue(),cn&&cn.c(),k=m("dt"),k.textContent=`${O.t("Volume")}`,y=m("dd"),C=w(E),I=m("dt"),I.textContent=`${O.t("Weight")}`,A=m("dd"),L=w(B),D=m("dt"),D.textContent=`${O.t("Length")}`,Y=m("dd"),W=w(z),Ni&&Ni.c(),H=ue(),En&&En.c(),ne=ue(),bn&&bn.c(),M=ue(),un&&un.c(),X=ue(),Bi&&Bi.c(),te=ue(),On&&On.c(),F=ue(),$n&&$n.c(),j=ue(),yn&&yn.c(),Z=ue(),Qn&&Qn.c(),x=ue(),Ti&&Ti.c(),Q=ue(),Dn&&Dn.c(),V=ue(),Ln&&Ln.c(),ie=ue(),Si&&Si.c(),_e=ue(),Fn&&Fn.c(),re=R(),Pn&&Pn.c(),ee=R(),ce=m("div"),Ci&&Ci.c(),Ee=R(),jn&&jn.c(),De=R(),Un&&Un.c(),We=R(),Gn&&Gn.c(),Qe=R(),qn&&qn.c(),Te=R(),ei&&ei.c(),it=R(),Yn&&Yn.c(),et=R(),Hn&&Hn.c(),At=R(),q(wt.$$.fragment),st=R(),zn&&zn.c(),Ut=R(),Wn&&Wn.c(),_t=R(),Ii&&Ii.c(),ke=R(),Oi&&Oi.c(),Ke=R(),Ri&&Ri.c(),Lt=R(),q(Rt.$$.fragment),Ct=R(),pe=m("div"),$e=m("h2"),$e.textContent=`${O.t("Obtaining",{_context:pn})}`,Ae=R(),q(de.$$.fragment),Ge=R(),q(Oe.$$.fragment),dt=R(),q(Ie.$$.fragment),at=R(),q(Ze.$$.fragment),Me=R(),q(je.$$.fragment),ot=R(),q(rt.$$.fragment),Bt=R(),q(Ot.$$.fragment),Pe=R(),q(Je.$$.fragment),ft=R(),q(Se.$$.fragment),ct=R(),q(tn.$$.fragment),Mt=R(),q(Qt.$$.fragment),sn=R(),q(Xe.$$.fragment),Et=R(),q(nn.$$.fragment),Re=R(),q(yt.$$.fragment),dn=R(),q(rn.$$.fragment),Gt=R(),q(xn.$$.fragment),le(c,"class","side-by-side no-margin"),le($e,"class","svelte-18ijh8q"),le(pe,"class","hide-header-if-no-sections svelte-18ijh8q")},m(me,tt){h(me,e,tt),U(n,e,null),_(e,t),_(e,o),h(me,l,tt),h(me,s,tt),_(s,a),_(s,f),_(s,c),_(c,u),_(u,d),wn&&wn.m(d,null),_(d,b),cn&&cn.m(d,null),_(d,k),_(d,y),_(y,C),_(d,I),_(d,A),_(A,L),_(d,D),_(d,Y),_(Y,W),Ni&&Ni.m(d,null),_(d,H),En&&En.m(d,null),_(d,ne),bn&&bn.m(d,null),_(d,M),un&&un.m(d,null),_(d,X),Bi&&Bi.m(d,null),_(d,te),On&&On.m(d,null),_(d,F),$n&&$n.m(d,null),_(d,j),yn&&yn.m(d,null),_(d,Z),Qn&&Qn.m(d,null),_(d,x),Ti&&Ti.m(d,null),_(d,Q),Dn&&Dn.m(d,null),_(d,V),Ln&&Ln.m(d,null),_(d,ie),Si&&Si.m(d,null),_(d,_e),Fn&&Fn.m(d,null),_(u,re),Pn&&Pn.m(u,null),_(c,ee),_(c,ce),Ci&&Ci.m(ce,null),h(me,Ee,tt),jn&&jn.m(me,tt),h(me,De,tt),Un&&Un.m(me,tt),h(me,We,tt),Gn&&Gn.m(me,tt),h(me,Qe,tt),qn&&qn.m(me,tt),h(me,Te,tt),ei&&ei.m(me,tt),h(me,it,tt),Yn&&Yn.m(me,tt),h(me,et,tt),Hn&&Hn.m(me,tt),h(me,At,tt),U(wt,me,tt),h(me,st,tt),zn&&zn.m(me,tt),h(me,Ut,tt),Wn&&Wn.m(me,tt),h(me,_t,tt),Ii&&Ii.m(me,tt),h(me,ke,tt),Oi&&Oi.m(me,tt),h(me,Ke,tt),Ri&&Ri.m(me,tt),h(me,Lt,tt),U(Rt,me,tt),h(me,Ct,tt),h(me,pe,tt),_(pe,$e),_(pe,Ae),U(de,pe,null),_(pe,Ge),U(Oe,pe,null),_(pe,dt),U(Ie,pe,null),_(pe,at),U(Ze,pe,null),_(pe,Me),U(je,pe,null),_(pe,ot),U(rt,pe,null),_(pe,Bt),U(Ot,pe,null),_(pe,Pe),U(Je,pe,null),_(pe,ft),U(Se,pe,null),_(pe,ct),U(tn,pe,null),_(pe,Mt),U(Qt,pe,null),_(pe,sn),U(Xe,pe,null),_(pe,Et),U(nn,pe,null),_(pe,Re),U(yt,pe,null),_(pe,dn),U(rn,pe,null),_(pe,Gt),U(xn,pe,null),In=!0},p(me,tt){var Wl,Vl,Jl;const al={};tt[0]&1&&(al.item=me[0]),n.$set(al),(!In||tt[0]&1)&&i!==(i=He(me[0])+"")&&K(o,i),(Wl=me[0].variants)!=null&&Wl.length?wn?wn.p(me,tt):(wn=Bd(me),wn.c(),wn.m(d,b)):wn&&(wn.d(1),wn=null),me[5].length&&cn.p(me,tt),(!In||tt[0]&1)&&E!==(E=$l(me[21](me[0])??"1 ml")+"")&&K(C,E),(!In||tt[0]&1)&&B!==(B=Ar(me[0].weight??0)+"")&&K(L,B),(!In||tt[0]&1)&&z!==(z=me[2](me[0])+"")&&K(W,z),me[12].length&&Ni.p(me,tt),me[10].length&&En.p(me,tt),(Vl=me[0].weapon_category)!=null&&Vl.length?bn?(bn.p(me,tt),tt[0]&1&&g(bn,1)):(bn=Ud(me),bn.c(),g(bn,1),bn.m(d,M)):bn&&(fe(),$(bn,1,1,()=>{bn=null}),ae()),me[7].length&&un.p(me,tt),me[8].length&&Bi.p(me,tt),me[3].length&&On.p(me,tt),me[4].length&&$n.p(me,tt),me[15].length&&yn.p(me,tt),me[14]&&me[13]&&Qn.p(me,tt),me[16].length&&Ti.p(me,tt),me[0].brewable?Dn?(Dn.p(Ps(me),tt),tt[0]&1&&g(Dn,1)):(Dn=Xd(Ps(me)),Dn.c(),g(Dn,1),Dn.m(d,V)):Dn&&(fe(),$(Dn,1,1,()=>{Dn=null}),ae()),(Jl=me[0].milling)!=null&&Jl.into?Ln?(Ln.p(me,tt),tt[0]&1&&g(Ln,1)):(Ln=Zd(me),Ln.c(),g(Ln,1),Ln.m(d,ie)):Ln&&(fe(),$(Ln,1,1,()=>{Ln=null}),ae()),me[20].length&&Si.p(me,tt),me[0].nanofab_template_group?Fn?(Fn.p(Fs(me),tt),tt[0]&1&&g(Fn,1)):(Fn=xd(Fs(me)),Fn.c(),g(Fn,1),Fn.m(d,null)):Fn&&(fe(),$(Fn,1,1,()=>{Fn=null}),ae()),me[0].description?Pn?(Pn.p(me,tt),tt[0]&1&&g(Pn,1)):(Pn=tm(me),Pn.c(),g(Pn,1),Pn.m(u,null)):Pn&&(fe(),$(Pn,1,1,()=>{Pn=null}),ae()),me[17]&&Ci.p(me,tt),tt[0]&1&&(we=Zt("BOOK",me[0])),we?jn?(jn.p(me,tt),tt[0]&1&&g(jn,1)):(jn=nm(me),jn.c(),g(jn,1),jn.m(De.parentNode,De)):jn&&(fe(),$(jn,1,1,()=>{jn=null}),ae()),tt[0]&1&&(ze=Zt("ARMOR",me[0])||Zt("TOOL_ARMOR",me[0])),ze?Un?(Un.p(me,tt),tt[0]&1&&g(Un,1)):(Un=im(me),Un.c(),g(Un,1),Un.m(We.parentNode,We)):Un&&(fe(),$(Un,1,1,()=>{Un=null}),ae()),tt[0]&1&&(Ve=Zt("BIONIC_ITEM",me[0])),Ve?Gn?(Gn.p(me,tt),tt[0]&1&&g(Gn,1)):(Gn=lm(me),Gn.c(),g(Gn,1),Gn.m(Qe.parentNode,Qe)):Gn&&(fe(),$(Gn,1,1,()=>{Gn=null}),ae()),tt[0]&1&&(ve=Zt("TOOL",me[0])||Zt("TOOL_ARMOR",me[0])),ve?qn?(qn.p(me,tt),tt[0]&1&&g(qn,1)):(qn=rm(me),qn.c(),g(qn,1),qn.m(Te.parentNode,Te)):qn&&(fe(),$(qn,1,1,()=>{qn=null}),ae()),tt[0]&1&&(Ce=Zt("ENGINE",me[0])&&me[0].displacement),Ce?ei?ei.p(me,tt):(ei=om(me),ei.c(),ei.m(it.parentNode,it)):ei&&(ei.d(1),ei=null),tt[0]&1&&(Be=Zt("COMESTIBLE",me[0])),Be?Yn?(Yn.p(me,tt),tt[0]&1&&g(Yn,1)):(Yn=sm(me),Yn.c(),g(Yn,1),Yn.m(et.parentNode,et)):Yn&&(fe(),$(Yn,1,1,()=>{Yn=null}),ae()),tt[0]&1&&(xe=Zt("WHEEL",me[0])),xe?Hn?(Hn.p(me,tt),tt[0]&1&&g(Hn,1)):(Hn=fm(me),Hn.c(),g(Hn,1),Hn.m(At.parentNode,At)):Hn&&(fe(),$(Hn,1,1,()=>{Hn=null}),ae());const Il={};tt[0]&1&&(Il.item=me[0]),wt.$set(Il),me[0].seed_data?zn?(zn.p(me,tt),tt[0]&1&&g(zn,1)):(zn=am(me),zn.c(),g(zn,1),zn.m(Ut.parentNode,Ut)):zn&&(fe(),$(zn,1,1,()=>{zn=null}),ae()),tt[0]&1&&($t=me[0].bashing||me[0].cutting||me[0].melee_damage||Zt("GUN",me[0])||Zt("AMMO",me[0])&&(me[0].show_stats||me[0].damage)),$t?Wn?(Wn.p(me,tt),tt[0]&1&&g(Wn,1)):(Wn=um(me),Wn.c(),g(Wn,1),Wn.m(_t.parentNode,_t)):Wn&&(fe(),$(Wn,1,1,()=>{Wn=null}),ae()),Ue&&Ii.p(me,tt),me[18].length&&Oi.p(me,tt),me[19].length&&Ri.p(me,tt);const Ol={};tt[0]&1&&(Ol.item_id=me[0].id),Rt.$set(Ol);const Rl={};tt[0]&1&&(Rl.item_id=me[0].id),de.$set(Rl);const Al={};tt[0]&1&&(Al.item_id=me[0].id),Oe.$set(Al);const Nl={};tt[0]&1&&(Nl.item_id=me[0].id),Ie.$set(Nl);const Bl={};tt[0]&1&&(Bl.item_id=me[0].id),Ze.$set(Bl);const Ml={};tt[0]&1&&(Ml.item_id=me[0].id),je.$set(Ml);const Dl={};tt[0]&1&&(Dl.item_id=me[0].id),rt.$set(Dl);const Ll={};tt[0]&1&&(Ll.item_id=me[0].id),Ot.$set(Ll);const Fl={};tt[0]&1&&(Fl.item_id=me[0].id),Je.$set(Fl);const Pl={};tt[0]&1&&(Pl.item_id=me[0].id),Se.$set(Pl);const jl={};tt[0]&1&&(jl.item_id=me[0].id),tn.$set(jl);const Ul={};tt[0]&1&&(Ul.item_id=me[0].id),Qt.$set(Ul);const Gl={};tt[0]&1&&(Gl.item_id=me[0].id),Xe.$set(Gl);const ql={};tt[0]&1&&(ql.item_id=me[0].id),nn.$set(ql);const Yl={};tt[0]&1&&(Yl.item_id=me[0].id),yt.$set(Yl);const Hl={};tt[0]&1&&(Hl.item_id=me[0].id),rn.$set(Hl);const zl={};tt[0]&1&&(zl.item_id=me[0].id),xn.$set(zl)},i(me){In||(g(n.$$.fragment,me),g(cn),g(Ni),g(En),g(bn),g(un),g(Bi),g(On),g($n),g(yn),g(Qn),g(Ti),g(Dn),g(Ln),g(Si),g(Fn),g(Pn),g(Ci),g(jn),g(Un),g(Gn),g(qn),g(Yn),g(Hn),g(wt.$$.fragment,me),g(zn),g(Wn),g(Ii),g(Oi),g(Ri),g(Rt.$$.fragment,me),g(de.$$.fragment,me),g(Oe.$$.fragment,me),g(Ie.$$.fragment,me),g(Ze.$$.fragment,me),g(je.$$.fragment,me),g(rt.$$.fragment,me),g(Ot.$$.fragment,me),g(Je.$$.fragment,me),g(Se.$$.fragment,me),g(tn.$$.fragment,me),g(Qt.$$.fragment,me),g(Xe.$$.fragment,me),g(nn.$$.fragment,me),g(yt.$$.fragment,me),g(rn.$$.fragment,me),g(xn.$$.fragment,me),In=!0)},o(me){$(n.$$.fragment,me),$(cn),$(Ni),$(En),$(bn),$(un),$(Bi),$(On),$($n),$(yn),$(Qn),$(Ti),$(Dn),$(Ln),$(Si),$(Fn),$(Pn),$(Ci),$(jn),$(Un),$(Gn),$(qn),$(Yn),$(Hn),$(wt.$$.fragment,me),$(zn),$(Wn),$(Ii),$(Oi),$(Ri),$(Rt.$$.fragment,me),$(de.$$.fragment,me),$(Oe.$$.fragment,me),$(Ie.$$.fragment,me),$(Ze.$$.fragment,me),$(je.$$.fragment,me),$(rt.$$.fragment,me),$(Ot.$$.fragment,me),$(Je.$$.fragment,me),$(Se.$$.fragment,me),$(tn.$$.fragment,me),$(Qt.$$.fragment,me),$(Xe.$$.fragment,me),$(nn.$$.fragment,me),$(yt.$$.fragment,me),$(rn.$$.fragment,me),$(xn.$$.fragment,me),In=!1},d(me){me&&p(e),G(n),me&&p(l),me&&p(s),wn&&wn.d(),cn&&cn.d(),Ni&&Ni.d(),En&&En.d(),bn&&bn.d(),un&&un.d(),Bi&&Bi.d(),On&&On.d(),$n&&$n.d(),yn&&yn.d(),Qn&&Qn.d(),Ti&&Ti.d(),Dn&&Dn.d(),Ln&&Ln.d(),Si&&Si.d(),Fn&&Fn.d(),Pn&&Pn.d(),Ci&&Ci.d(),me&&p(Ee),jn&&jn.d(me),me&&p(De),Un&&Un.d(me),me&&p(We),Gn&&Gn.d(me),me&&p(Qe),qn&&qn.d(me),me&&p(Te),ei&&ei.d(me),me&&p(it),Yn&&Yn.d(me),me&&p(et),Hn&&Hn.d(me),me&&p(At),G(wt,me),me&&p(st),zn&&zn.d(me),me&&p(Ut),Wn&&Wn.d(me),me&&p(_t),Ii&&Ii.d(me),me&&p(ke),Oi&&Oi.d(me),me&&p(Ke),Ri&&Ri.d(me),me&&p(Lt),G(Rt,me),me&&p(Ct),me&&p(pe),G(de),G(Oe),G(Ie),G(Ze),G(je),G(rt),G(Ot),G(Je),G(Se),G(tn),G(Qt),G(Xe),G(nn),G(yt),G(rn),G(xn)}}}const pn="Item Basic Info";function RB(r){return Array.isArray(r)&&typeof r[0]=="string"}function ff(r,e){if(r===e)return!0;if(typeof r!=typeof e||typeof r!="object"||Array.isArray(r)!==Array.isArray(e))return!1;if(Array.isArray(r)){if(r.length!==e.length)return!1;for(let i=0;i<r.length;i++)if(!ff(r[i],e[i]))return!1;return!0}const n=Object.keys(r),t=Object.keys(e);if(n.length!==t.length)return!1;for(const i of n)if(!ff(r[i],e[i]))return!1;return!0}function hm(r){const e=[];for(const n of r){const t=e[e.length-1];ff(t==null?void 0:t.pocket,n)?t.count++:e.push({pocket:n,count:1})}return e}const AB=r=>r.pocket_type==="CONTAINER",gm=r=>r!=="null",bm=r=>r.pocket_type==="CONTAINER";function NB(r,e,n){let{item:t}=e,i=jt("data");function o(F){return F.longest_side?F.longest_side:`${Math.round(Math.cbrt(wr(F.volume??"1 ml")))} cm`}let l=(t.qualities??[]).map(([F,j])=>({quality:i.byId("tool_quality",F),level:j})),s=(t.charged_qualities??[]).map(([F,j])=>({quality:i.byId("tool_quality",F),level:j}));const a=t.material==null?[]:typeof t.material=="string"?[{type:t.material,portion:1}]:Array.isArray(t.material)?RB(t.material)?t.material.map(F=>({type:F,portion:1})):t.material.map(F=>({type:F.type,portion:F.portion??1})):Object.entries(t.material).map(([F,j])=>({type:F,portion:j})),f=a.reduce((F,j)=>F+j.portion,0),c=a.reduce((F,j)=>!F||j.portion>F.portion?j:F,null);let u=[t.flags??[]].flat().map(F=>i.byIdMaybe("json_flag",F)??{id:F}),d=(t.faults??[]).flatMap(F=>typeof F=="string"?[i.byId("fault",F)]:"fault"in F?[i.byId("fault",F.fault)]:i.byId("fault_group",F.fault_group).group.map(j=>i.byId("fault",j.fault)));const b={pocket_type:"CONTAINER",min_item_volume:"0 ml",moves:100,fire_protection:!1,watertight:!1,airtight:!1,open_container:!1,rigid:!1,holster:!1};let k=(t.pocket_data??[]).map(F=>({...b,...F})),y=k.filter(F=>F.pocket_type==="MAGAZINE_WELL").flatMap(F=>{var j,Z;return((j=F.item_restriction)==null?void 0:j.map(x=>({type:"item",id:x})))??((Z=F.flag_restriction)==null?void 0:Z.map(x=>({type:"json_flag",id:x})))??[]});function E(F){let j=0;for(const Z of k)Z.pocket_type==="MAGAZINE"&&Z.ammo_restriction&&(j+=Z.ammo_restriction[F]??0);return j}let C=k.flatMap(F=>F.pocket_type==="MAGAZINE"?Object.keys(F.ammo_restriction??{}):[]);const I=i.uncraftRecipe(t.id),A=I?(()=>{const{components:F,qualities:j,tools:Z}=i.normalizeRequirementsForDisassembly(I);return{components:F.map(Q=>Q[0]),qualities:j,tools:Z}})():void 0,B=i.byType("vehicle_part").filter(F=>F.id&&F.item===t.id),L=Nr(t.use_action).map(F=>F.type==="repair_item"?{type:F.item_action_type}:F),D=t.ascii_picture&&i.byId("ascii_art",t.ascii_picture),Y=(F,j)=>He(F).localeCompare(He(j)),z=i.byType("vehicle_part").filter(F=>{var j;return F.id&&(((j=F.fuel_options)==null?void 0:j.includes(t.id))||F.fuel_type===t.id)}),W=c!=null&&c.type?i.byType("bionic").filter(F=>{var j;return F.id&&((j=F.fuel_options)==null?void 0:j.includes(c==null?void 0:c.type))}):[],H=z.sort(Y).concat(W.sort(Y)),ne=i.byType("fault").filter(F=>(F.mending_methods??[]).map(Z=>{const x=i.resolveRequirementList(Z.requirements),Q=i.normalizeRequirementUsing(x),V=i.flattenRequirement(Q.components,ie=>ie.components);return{mending_method:Z,components:V,requirement:Q}}).some(Z=>Z.components.some(x=>x.some(Q=>Q.id===t.id)))),M=i.byType("mutation").filter(F=>{var j;return F.id&&((j=F.integrated_armor)==null?void 0:j.some(Z=>Z===t.id))});function X(F){if(Zt("AMMO",F)){const{count:j}=F;return`${wr(F.volume??"1 ml")/(j??1)} ml`}if(Zt("COMESTIBLE",F)){const{charges:j}=F;return`${wr(F.volume??"1 ml")/(j??1)} ml`}return F.volume}const te=F=>({id:F,max_charges:E(F)});return r.$$set=F=>{"item"in F&&n(0,t=F.item)},[t,i,o,l,s,a,f,u,d,k,y,E,C,I,A,B,L,D,H,ne,M,X,te]}class fi extends ht{constructor(e){super(),pt(this,e,NB,OB,mt,{item:0},null,[-1,-1,-1])}}function BB(r){let e,n=JSON.stringify(r[0],null,2)+"",t;return{c(){e=m("pre"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p(i,[o]){o&1&&n!==(n=JSON.stringify(i[0],null,2)+"")&&K(t,n)},i:oe,o:oe,d(i){i&&p(e)}}}function MB(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class DB extends ht{constructor(e){super(),pt(this,e,MB,BB,mt,{item:0})}}function LB(r){let e=(r[0].specific_heat_liquid??4.186)+"",n,t;return{c(){n=w(e),t=w(" J / g / °K")},m(i,o){h(i,n,o),h(i,t,o)},p(i,o){o&1&&e!==(e=(i[0].specific_heat_liquid??4.186)+"")&&K(n,e)},d(i){i&&p(n),i&&p(t)}}}function FB(r){let e,n,t,i=(r[0].specific_heat_liquid??4.186)+"",o,l,s,a,f=(r[0].specific_heat_solid??2.108)+"",c,u;return{c(){e=m("dl"),n=m("dt"),n.textContent=`${O.t("Liquid",{_context:Ai})}`,t=m("dd"),o=w(i),l=w(" J / g / °K"),s=m("dt"),s.textContent=`${O.t("Solid",{_context:Ai})}`,a=m("dd"),c=w(f),u=w(" J / g / °K")},m(d,b){h(d,e,b),_(e,n),_(e,t),_(t,o),_(t,l),_(e,s),_(e,a),_(a,c),_(a,u)},p(d,b){b&1&&i!==(i=(d[0].specific_heat_liquid??4.186)+"")&&K(o,i),b&1&&f!==(f=(d[0].specific_heat_solid??2.108)+"")&&K(c,f)},d(d){d&&p(e)}}}function $m(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[0].repaired_with}}),{c(){e=m("dt"),e.textContent=`${O.t("Repaired With",{_context:Ai})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].repaired_with),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function ym(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[0].salvaged_into}}),{c(){e=m("dt"),e.textContent=`${O.t("Salvaged Into",{_context:Ai})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].salvaged_into),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function PB(r){let e,n,t=O.t("Items Made From {material}",{material:He(r[0])})+"",i,o,l,s;return l=new Wt({props:{items:r[1],$$slots:{default:[jB,({item:a})=>({0:a}),({item:a})=>a?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),i=w(t),o=R(),q(l.$$.fragment)},m(a,f){h(a,e,f),_(e,n),_(n,i),_(e,o),U(l,e,null),s=!0},p(a,f){(!s||f&1)&&t!==(t=O.t("Items Made From {material}",{material:He(a[0])})+"")&&K(i,t);const c={};f&9&&(c.$$scope={dirty:f,ctx:a}),l.$set(c)},i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){$(l.$$.fragment,a),s=!1},d(a){a&&p(e),G(l)}}}function jB(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{id:r[0].id,type:"item"}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function UB(r){var ot,rt,Bt,Ot,Pe,Je;let e,n=O.t("Material")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b,k=r[0].density+"",y,E,C,I,A,B,L,D=(r[0].latent_heat??334)+"",Y,z,W,H,ne=da(r[0].breathability??"IMPERMEABLE")+"",M,X,te,F,j,Z,x,Q=(r[0].bash_resist??((ot=r[0].resist)==null?void 0:ot.bash)??0)+"",V,ie,_e,re=(r[0].cut_resist??((rt=r[0].resist)==null?void 0:rt.cut)??0)+"",ee,ce,Ee,we=(r[0].bullet_resist??((Bt=r[0].resist)==null?void 0:Bt.bullet)??0)+"",De,ze,We,Ve=(r[0].acid_resist??((Ot=r[0].resist)==null?void 0:Ot.acid)??0)+"",Qe,ve,Te,Ce=(r[0].fire_resist??((Pe=r[0].resist)==null?void 0:Pe.heat)??0)+"",it,Be,et,xe=(r[0].elec_resist===0||r[0].elec_resist===1||((Je=r[0].resist)==null?void 0:Je.electric)!=null||r[0].conductive?O.t("Yes"):O.t("No"))+"",At,wt,st,Ut,$t=(r[0].chip_resist??0)+"",_t,Ue,ke,Ke,Lt=(r[0].edible?O.t("Yes"):O.t("No"))+"",Rt,Ct,pe,$e=(r[0].rotting?O.t("Yes"):O.t("No"))+"",Ae,de,Ge,Oe;function dt(ft,Se){return(ft[0].specific_heat_liquid??4.186)!==(ft[0].specific_heat_solid??2.108)?FB:LB}let Ie=dt(r),at=Ie(r),Ze=r[0].repaired_with&&$m(r),Me=r[0].salvaged_into&&ym(r),je=r[1].length&&PB(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("h1"),f.textContent=`${O.t("Properties",{_context:Ai})}`,c=R(),u=m("dl"),d=m("dt"),d.textContent=`${O.t("Density",{_context:Ai})}`,b=m("dd"),y=w(k),E=w(" kg / L"),C=m("dt"),C.textContent=`${O.t("Specific Heat",{_context:Ai})}`,I=m("dd"),at.c(),A=R(),B=m("dt"),B.textContent=`${O.t("Latent Heat",{_context:Ai})}`,L=m("dd"),Y=w(D),z=w(" J / g"),W=m("dt"),W.textContent=`${O.t("Breathability",{_context:Ai})}`,H=m("dd"),M=w(ne),X=w("%"),te=m("dt"),te.textContent=`${O.t("Resistance",{_context:Ai})}`,F=m("dd"),j=m("dl"),Z=m("dt"),Z.textContent=`${O.t("Bash",{_context:"Damage Type"})}`,x=m("dd"),V=w(Q),ie=m("dt"),ie.textContent=`${O.t("Cut",{_context:"Damage Type"})}`,_e=m("dd"),ee=w(re),ce=m("dt"),ce.textContent=`${O.t("Ballistic",{_context:"Damage Type"})}`,Ee=m("dd"),De=w(we),ze=m("dt"),ze.textContent=`${O.t("Acid",{_context:"Damage Type"})}`,We=m("dd"),Qe=w(Ve),ve=m("dt"),ve.textContent=`${O.t("Heat",{_context:"Damage Type"})}`,Te=m("dd"),it=w(Ce),Be=m("dt"),Be.textContent=`${O.t("Conductive",{_context:Ai})}`,et=m("dd"),At=w(xe),wt=R(),st=m("dt"),st.textContent=`${O.t("Durability",{_context:Ai})} 
    `,Ut=m("dd"),_t=w($t),Ze&&Ze.c(),Ue=ue(),Me&&Me.c(),ke=m("dt"),ke.textContent=`${O.t("Edible",{_context:Ai})}`,Ke=m("dd"),Rt=w(Lt),Ct=m("dt"),Ct.textContent=`${O.t("Rots",{_context:Ai})} 
    `,pe=m("dd"),Ae=w($e),de=R(),je&&je.c(),Ge=ue(),le(st,"title","Resistance to physical damage of the item itself"),le(Ct,"title","Corpses made of this material will go bad")},m(ft,Se){h(ft,e,Se),_(e,t),_(e,i),_(e,l),h(ft,s,Se),h(ft,a,Se),_(a,f),_(a,c),_(a,u),_(u,d),_(u,b),_(b,y),_(b,E),_(u,C),_(u,I),at.m(I,null),_(I,A),_(u,B),_(u,L),_(L,Y),_(L,z),_(u,W),_(u,H),_(H,M),_(H,X),_(u,te),_(u,F),_(F,j),_(j,Z),_(j,x),_(x,V),_(j,ie),_(j,_e),_(_e,ee),_(j,ce),_(j,Ee),_(Ee,De),_(j,ze),_(j,We),_(We,Qe),_(j,ve),_(j,Te),_(Te,it),_(j,Be),_(j,et),_(et,At),_(F,wt),_(u,st),_(u,Ut),_(Ut,_t),Ze&&Ze.m(u,null),_(u,Ue),Me&&Me.m(u,null),_(u,ke),_(u,Ke),_(Ke,Rt),_(u,Ct),_(u,pe),_(pe,Ae),h(ft,de,Se),je&&je.m(ft,Se),h(ft,Ge,Se),Oe=!0},p(ft,[Se]){var ct,tn,Mt,Qt,sn,Xe;(!Oe||Se&1)&&o!==(o=He(ft[0])+"")&&K(l,o),(!Oe||Se&1)&&k!==(k=ft[0].density+"")&&K(y,k),Ie===(Ie=dt(ft))&&at?at.p(ft,Se):(at.d(1),at=Ie(ft),at&&(at.c(),at.m(I,A))),(!Oe||Se&1)&&D!==(D=(ft[0].latent_heat??334)+"")&&K(Y,D),(!Oe||Se&1)&&ne!==(ne=da(ft[0].breathability??"IMPERMEABLE")+"")&&K(M,ne),(!Oe||Se&1)&&Q!==(Q=(ft[0].bash_resist??((ct=ft[0].resist)==null?void 0:ct.bash)??0)+"")&&K(V,Q),(!Oe||Se&1)&&re!==(re=(ft[0].cut_resist??((tn=ft[0].resist)==null?void 0:tn.cut)??0)+"")&&K(ee,re),(!Oe||Se&1)&&we!==(we=(ft[0].bullet_resist??((Mt=ft[0].resist)==null?void 0:Mt.bullet)??0)+"")&&K(De,we),(!Oe||Se&1)&&Ve!==(Ve=(ft[0].acid_resist??((Qt=ft[0].resist)==null?void 0:Qt.acid)??0)+"")&&K(Qe,Ve),(!Oe||Se&1)&&Ce!==(Ce=(ft[0].fire_resist??((sn=ft[0].resist)==null?void 0:sn.heat)??0)+"")&&K(it,Ce),(!Oe||Se&1)&&xe!==(xe=(ft[0].elec_resist===0||ft[0].elec_resist===1||((Xe=ft[0].resist)==null?void 0:Xe.electric)!=null||ft[0].conductive?O.t("Yes"):O.t("No"))+"")&&K(At,xe),(!Oe||Se&1)&&$t!==($t=(ft[0].chip_resist??0)+"")&&K(_t,$t),ft[0].repaired_with?Ze?(Ze.p(ft,Se),Se&1&&g(Ze,1)):(Ze=$m(ft),Ze.c(),g(Ze,1),Ze.m(u,Ue)):Ze&&(fe(),$(Ze,1,1,()=>{Ze=null}),ae()),ft[0].salvaged_into?Me?(Me.p(ft,Se),Se&1&&g(Me,1)):(Me=ym(ft),Me.c(),g(Me,1),Me.m(u,ke)):Me&&(fe(),$(Me,1,1,()=>{Me=null}),ae()),(!Oe||Se&1)&&Lt!==(Lt=(ft[0].edible?O.t("Yes"):O.t("No"))+"")&&K(Rt,Lt),(!Oe||Se&1)&&$e!==($e=(ft[0].rotting?O.t("Yes"):O.t("No"))+"")&&K(Ae,$e),ft[1].length&&je.p(ft,Se)},i(ft){Oe||(g(Ze),g(Me),g(je),Oe=!0)},o(ft){$(Ze),$(Me),$(je),Oe=!1},d(ft){ft&&p(e),ft&&p(s),ft&&p(a),at.d(),Ze&&Ze.d(),Me&&Me.d(),ft&&p(de),je&&je.d(ft),ft&&p(Ge)}}}const Ai="Material";function GB(r){return Array.isArray(r)&&typeof r[0]=="string"}function qB(r,e,n){const t=jt("data");let{item:i}=e,o=t.byType("item").filter(l=>{const s=l.material==null?[]:typeof l.material=="string"?[l.material]:Array.isArray(l.material)?GB(l.material)?l.material:l.material.map(a=>a.type):Object.keys(l.material);return l.id&&s.some(a=>a===i.id)}).sort(an);return r.$$set=l=>{"item"in l&&n(0,i=l.item)},[i,o]}class YB extends ht{constructor(e){super(),pt(this,e,qB,UB,mt,{item:0})}}function km(r,e,n){const t=r.slice();return t[5]=e[n],t}function vm(r){let e,n=O.t("default",{_context:Vo})+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function wm(r){let e,n,t,i,o,l,s;n=new Dt({props:{item:r[5]}}),i=new ge({props:{type:"item",id:r[5].id}});let a=r[5].id===r[0].default&&vm();return{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=R(),a&&a.c(),l=R()},m(f,c){h(f,e,c),U(n,e,null),_(e,t),U(i,e,null),_(e,o),a&&a.m(e,null),_(e,l),s=!0},p(f,c){f[5].id===f[0].default?a?a.p(f,c):(a=vm(),a.c(),a.m(e,l)):a&&(a.d(1),a=null)},i(f){s||(g(n.$$.fragment,f),g(i.$$.fragment,f),s=!0)},o(f){$(n.$$.fragment,f),$(i.$$.fragment,f),s=!1},d(f){f&&p(e),G(n),G(i),a&&a.d()}}}function HB(r){let e,n;return{c(){e=m("p"),n=m("em"),n.textContent=`${O.t("No items use this ammo.",{_context:Vo})}`,bt(n,"color","var(--cata-color-gray)")},m(t,i){h(t,e,i),_(e,n)},p:oe,i:oe,o:oe,d(t){t&&p(e)}}}function zB(r){let e,n;return e=new Wt({props:{items:r[2],$$slots:{default:[WB,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&257&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function WB(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"item",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function VB(r){let e,n=O.t("Ammunition Type")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b,k,y,E,C,I,A=r[1],B=[];for(let W=0;W<A.length;W+=1)B[W]=wm(km(r,A,W));const L=W=>$(B[W],1,1,()=>{B[W]=null}),D=[zB,HB],Y=[];function z(W,H){return W[2].length>0?0:1}return E=z(r),C=Y[E]=D[E](r),{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("h1"),f.textContent=`${O.t("Compatible Variants",{_context:Vo})}`,c=R(),u=m("ul");for(let W=0;W<B.length;W+=1)B[W].c();d=R(),b=m("section"),k=m("h1"),k.textContent=`${O.t("Used By",{_context:Vo})}`,y=R(),C.c()},m(W,H){h(W,e,H),_(e,t),_(e,i),_(e,l),h(W,s,H),h(W,a,H),_(a,f),_(a,c),_(a,u);for(let ne=0;ne<B.length;ne+=1)B[ne]&&B[ne].m(u,null);h(W,d,H),h(W,b,H),_(b,k),_(b,y),Y[E].m(b,null),I=!0},p(W,[H]){if((!I||H&1)&&o!==(o=He(W[0])+"")&&K(l,o),H&3){A=W[1];let ne;for(ne=0;ne<A.length;ne+=1){const M=km(W,A,ne);B[ne]?(B[ne].p(M,H),g(B[ne],1)):(B[ne]=wm(M),B[ne].c(),g(B[ne],1),B[ne].m(u,null))}for(fe(),ne=A.length;ne<B.length;ne+=1)L(ne);ae()}C.p(W,H)},i(W){if(!I){for(let H=0;H<A.length;H+=1)g(B[H]);g(C),I=!0}},o(W){B=B.filter(Boolean);for(let H=0;H<B.length;H+=1)$(B[H]);$(C),I=!1},d(W){W&&p(e),W&&p(s),W&&p(a),ye(B,W),W&&p(d),W&&p(b),Y[E].d()}}}const Vo="Ammunition Type";function JB(r,e){return(n,t)=>{const i=r(n,t);return i!==0?i:e(n,t)}}function XB(r,e){return r.type.localeCompare(e.type)}function KB(r,e,n){let{item:t}=e;const i=jt("data"),o=i.byType("item").filter(a=>!!a.id&&Zt("AMMO",a)&&a.ammo_type===t.id);o.sort(an);const l=(a,f)=>{var c,u;return"ammo"in a&&((c=a.ammo)!=null&&c.includes(f.id))?!0:!!((u=a.pocket_data)!=null&&u.some(d=>d.pocket_type==="MAGAZINE"&&d.ammo_restriction&&Object.prototype.hasOwnProperty.call(d.ammo_restriction,f.id)))},s=i.byType("item").filter(a=>a.id&&l(a,t));return s.sort(JB(XB,an)),r.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,o,s]}class ZB extends ht{constructor(e){super(),pt(this,e,KB,VB,mt,{item:0})}}function Em(r,e,n){const t=r.slice();return t[11]=e[n][0],t[12]=e[n][1],t}function Tm(r,e,n){const t=r.slice();t[16]=e[n],t[19]=n;const i=t[16].startsWith("f_")?"furniture":"terrain";return t[17]=i,t}function Sm(r,e,n){const t=r.slice();return t[11]=e[n][0],t[20]=e[n][1],t}function Cm(r,e,n){const t=r.slice();return t[11]=e[n][0],t[23]=e[n][1],t}function Im(r,e,n){const t=r.slice();return t[11]=e[n][0],t[26]=e[n][1],t}function Om(r,e,n){const t=r.slice();return t[11]=e[n][0],t[29]=e[n][1],t}function Rm(r,e,n){const t=r.slice();return t[32]=e[n],t}function Am(r){let e,n,t,i,o,l=r[0].usages,s=[];for(let f=0;f<l.length;f+=1)s[f]=Bm(Om(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Usages",{_context:kl})}`,t=R(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c[0]&1){l=f[0].usages;let u;for(u=0;u<l.length;u+=1){const d=Om(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Bm(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function Nm(r){let e,n,t;return n=new ge({props:{type:"item_action",id:r[32]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[32]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Bm(r){let e,n=O.t("Level {level}",{level:r[11],_context:kl})+"",t,i,o,l,s,a,f=r[29],c=[];for(let d=0;d<f.length;d+=1)c[d]=Nm(Rm(r,f,d));const u=d=>$(c[d],1,1,()=>{c[d]=null});return{c(){e=m("dt"),t=w(n),i=R(),o=m("dd"),l=m("ul");for(let d=0;d<c.length;d+=1)c[d].c();s=R(),bt(e,"font-variant","tabular-nums"),le(l,"class","comma-separated")},m(d,b){h(d,e,b),_(e,t),_(e,i),h(d,o,b),_(o,l);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(l,null);_(o,s),a=!0},p(d,b){if((!a||b[0]&1)&&n!==(n=O.t("Level {level}",{level:d[11],_context:kl})+"")&&K(t,n),b[0]&1){f=d[29];let k;for(k=0;k<f.length;k+=1){const y=Rm(d,f,k);c[k]?(c[k].p(y,b),g(c[k],1)):(c[k]=Nm(y),c[k].c(),g(c[k],1),c[k].m(l,null))}for(fe(),k=f.length;k<c.length;k+=1)u(k);ae()}},i(d){if(!a){for(let b=0;b<f.length;b+=1)g(c[b]);a=!0}},o(d){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)$(c[b]);a=!1},d(d){d&&p(e),d&&p(o),ye(c,d)}}}function QB(r){let e,n,t,i,o,l=r[2],s=[];for(let f=0;f<l.length;f+=1)s[f]=Mm(Im(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Tools",{_context:kl})}`,t=R(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c[0]&5){l=f[2];let u;for(u=0;u<l.length;u+=1){const d=Im(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Mm(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function xB(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"item",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l[0]&1&&(s.item=o[0]),e.$set(s);const a={};l[0]&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Mm(r){let e,n=O.t("Level {level}",{level:r[11],_context:kl})+"",t,i,o,l,s,a;return l=new Wt({props:{items:r[26],limit:20,$$slots:{default:[xB,({item:f})=>({0:f}),({item:f})=>[f?1:0]]},$$scope:{ctx:r}}}),{c(){e=m("dt"),t=w(n),i=R(),o=m("dd"),q(l.$$.fragment),s=R(),bt(e,"font-variant","tabular-nums")},m(f,c){h(f,e,c),_(e,t),_(e,i),h(f,o,c),U(l,o,null),_(o,s),a=!0},p(f,c){const u={};c[0]&1|c[1]&16&&(u.$$scope={dirty:c,ctx:f}),l.$set(u)},i(f){a||(g(l.$$.fragment,f),a=!0)},o(f){$(l.$$.fragment,f),a=!1},d(f){f&&p(e),f&&p(o),G(l)}}}function eM(r){let e,n,t,i,o,l=r[3],s=[];for(let f=0;f<l.length;f+=1)s[f]=Dm(Cm(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Vehicle Parts")}`,t=R(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c[0]&9){l=f[3];let u;for(u=0;u<l.length;u+=1){const d=Cm(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Dm(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function tM(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"vehicle_part",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l[0]&1&&(s.item=o[0]),e.$set(s);const a={};l[0]&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Dm(r){let e,n=O.t("Level {level}",{level:r[11],_context:kl})+"",t,i,o,l,s,a;return l=new Wt({props:{items:r[23].sort(an),limit:20,$$slots:{default:[tM,({item:f})=>({0:f}),({item:f})=>[f?1:0]]},$$scope:{ctx:r}}}),{c(){e=m("dt"),t=w(n),i=R(),o=m("dd"),q(l.$$.fragment),s=R(),bt(e,"font-variant","tabular-nums")},m(f,c){h(f,e,c),_(e,t),_(e,i),h(f,o,c),U(l,o,null),_(o,s),a=!0},p(f,c){const u={};c[0]&1|c[1]&16&&(u.$$scope={dirty:c,ctx:f}),l.$set(u)},i(f){a||(g(l.$$.fragment,f),a=!0)},o(f){$(l.$$.fragment,f),a=!1},d(f){f&&p(e),f&&p(o),G(l)}}}function nM(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=Lm(Sm(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Recipes")}`,t=R(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c[0]&19){l=f[4];let u;for(u=0;u<l.length;u+=1){const d=Sm(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Lm(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function iM(r){let e,n,t,i;return e=new Dt({props:{item:r[1].byId("item",r[0])}}),t=new ge({props:{type:"item",id:r[0]}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l[0]&1&&(s.item=o[1].byId("item",o[0])),e.$set(s);const a={};l[0]&1&&(a.id=o[0]),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Lm(r){let e,n=O.t("Level {level}",{level:r[11],_context:kl})+"",t,i,o,l,s,a;return l=new Wt({props:{items:r[20],limit:20,$$slots:{default:[iM,({item:f})=>({0:f}),({item:f})=>[f?1:0]]},$$scope:{ctx:r}}}),{c(){e=m("dt"),t=w(n),i=R(),o=m("dd"),q(l.$$.fragment),s=R(),bt(e,"font-variant","tabular-nums")},m(f,c){h(f,e,c),_(e,t),_(e,i),h(f,o,c),U(l,o,null),_(o,s),a=!0},p(f,c){const u={};c[0]&1|c[1]&16&&(u.$$scope={dirty:c,ctx:f}),l.$set(u)},i(f){a||(g(l.$$.fragment,f),a=!0)},o(f){$(l.$$.fragment,f),a=!1},d(f){f&&p(e),f&&p(o),G(l)}}}function lM(r){let e,n,t,i,o,l=r[5],s=[];for(let f=0;f<l.length;f+=1)s[f]=jm(Em(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Constructions")}`,t=R(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c[0]&32802){l=f[5];let u;for(u=0;u<l.length;u+=1){const d=Em(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=jm(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function Fm(r){let e,n,t,i=[r[15].pre_terrain].flat(),o=[];for(let s=0;s<i.length;s+=1)o[s]=Pm(Tm(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=w("on ");for(let s=0;s<o.length;s+=1)o[s].c();n=ue()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(s,a);h(s,n,a),t=!0},p(s,a){if(a[0]&32770){i=[s[15].pre_terrain].flat();let f;for(f=0;f<i.length;f+=1){const c=Tm(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=Pm(c),o[f].c(),g(o[f],1),o[f].m(n.parentNode,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s),s&&p(n)}}}function rM(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function Pm(r){let e,n,t,i,o,l=r[19]!==0&&rM();return n=new Dt({props:{item:r[1].byId(r[17],r[16])}}),i=new ge({props:{type:r[17],id:r[16]}}),{c(){l&&l.c(),e=R(),q(n.$$.fragment),t=R(),q(i.$$.fragment)},m(s,a){l&&l.m(s,a),h(s,e,a),U(n,s,a),h(s,t,a),U(i,s,a),o=!0},p(s,a){s[19]!==0&&l.p(s,a);const f={};a[0]&32768&&(f.item=s[1].byId(s[17],s[16])),n.$set(f);const c={};a[0]&32768&&(c.type=s[17]),a[0]&32768&&(c.id=s[16]),i.$set(c)},i(s){o||(g(n.$$.fragment,s),g(i.$$.fragment,s),o=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),o=!1},d(s){l&&l.d(s),s&&p(e),G(n,s),s&&p(t),G(i,s)}}}function oM(r){let e,n,t,i;e=new ge({props:{id:r[15].group,type:"construction_group"}});let o=r[15].pre_terrain&&Fm(r);return{c(){q(e.$$.fragment),n=R(),o&&o.c(),t=ue()},m(l,s){U(e,l,s),h(l,n,s),o&&o.m(l,s),h(l,t,s),i=!0},p(l,s){const a={};s[0]&32768&&(a.id=l[15].group),e.$set(a),l[15].pre_terrain?o?(o.p(l,s),s[0]&32768&&g(o,1)):(o=Fm(l),o.c(),g(o,1),o.m(t.parentNode,t)):o&&(fe(),$(o,1,1,()=>{o=null}),ae())},i(l){i||(g(e.$$.fragment,l),g(o),i=!0)},o(l){$(e.$$.fragment,l),$(o),i=!1},d(l){G(e,l),l&&p(n),o&&o.d(l),l&&p(t)}}}function jm(r){let e,n=O.t("Level {level}",{level:r[11],_context:kl})+"",t,i,o,l,s,a;return l=new Wt({props:{items:r[12],$$slots:{default:[oM,({item:f})=>({15:f}),({item:f})=>[f?32768:0]]},$$scope:{ctx:r}}}),{c(){e=m("dt"),t=w(n),i=R(),o=m("dd"),q(l.$$.fragment),s=R(),bt(e,"font-variant","tabular-nums")},m(f,c){h(f,e,c),_(e,t),_(e,i),h(f,o,c),U(l,o,null),_(o,s),a=!0},p(f,c){const u={};c[0]&32768|c[1]&16&&(u.$$scope={dirty:c,ctx:f}),l.$set(u)},i(f){a||(g(l.$$.fragment,f),a=!0)},o(f){$(l.$$.fragment,f),a=!1},d(f){f&&p(e),f&&p(o),G(l)}}}function sM(r){let e,n=O.t("Quality",{_comment:"Tool Quality"})+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b,k=r[0].usages&&Am(r),y=r[2].length&&QB(r),E=r[3].length&&eM(r),C=r[4].length&&nM(r),I=r[5].length&&lM(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),k&&k.c(),a=R(),y&&y.c(),f=R(),E&&E.c(),c=R(),C&&C.c(),u=R(),I&&I.c(),d=ue()},m(A,B){h(A,e,B),_(e,t),_(e,i),_(e,l),h(A,s,B),k&&k.m(A,B),h(A,a,B),y&&y.m(A,B),h(A,f,B),E&&E.m(A,B),h(A,c,B),C&&C.m(A,B),h(A,u,B),I&&I.m(A,B),h(A,d,B),b=!0},p(A,B){(!b||B[0]&1)&&o!==(o=He(A[0])+"")&&K(l,o),A[0].usages?k?(k.p(A,B),B[0]&1&&g(k,1)):(k=Am(A),k.c(),g(k,1),k.m(a.parentNode,a)):k&&(fe(),$(k,1,1,()=>{k=null}),ae()),A[2].length&&y.p(A,B),A[3].length&&E.p(A,B),A[4].length&&C.p(A,B),A[5].length&&I.p(A,B)},i(A){b||(g(k),g(y),g(E),g(C),g(I),b=!0)},o(A){$(k),$(y),$(E),$(C),$(I),b=!1},d(A){A&&p(e),A&&p(s),k&&k.d(A),A&&p(a),y&&y.d(A),A&&p(f),E&&E.d(A),A&&p(c),C&&C.d(A),A&&p(u),I&&I.d(A),A&&p(d)}}}const kl="Tool Quality";function fM(r,e,n){var k;let{item:t}=e,i=jt("data"),o=new Map;for(const y of i.byType("item")){if(!y.id)continue;const E=(y.qualities??[]).concat(y.charged_qualities??[]).find(([C,I])=>C===t.id);if(E){const[,C]=E;o.has(C)||o.set(C,[]),o.get(C).push(y)}else Zt("GUN",y)&&!((k=y.flags)!=null&&k.includes("PRIMITIVE_RANGED_WEAPON"))&&y.skill.toUpperCase()===t.id&&(o.has(1)||o.set(1,[]),o.get(1).push(y))}const l=[...o.entries()].sort((y,E)=>y[0]-E[0]);l.forEach(([,y])=>{y.sort(an)});const s=new Map;for(const y of i.byType("vehicle_part")){if(!y.id)continue;const E=(y.qualities??[]).find(([C,I])=>C===t.id);if(E){const[,C]=E;s.has(C)||s.set(C,[]),s.get(C).push(y)}}const a=[...s.entries()].sort((y,E)=>y[0]-E[0]);a.forEach(([,y])=>{y.sort(an)});const f=new Map;for(const y of i.byType("recipe")){if(!y.result||y.construction_blueprint||!i.byIdMaybe("item",y.result))continue;const{qualities:E}=i.normalizeRequirements(y);for(const C of E)for(const{id:I,level:A=1}of C)I===t.id&&(f.has(A)||f.set(A,new Set),f.get(A).add(y.result))}const c=new Map;for(const[y,E]of f)c.set(y,[...E].sort((C,I)=>He(i.byId("item",C)).localeCompare(He(i.byId("item",I)))));const u=[...c.entries()].sort((y,E)=>y[0]-E[0]),d=new Map;for(const y of i.byType("construction")){const{qualities:E}=i.normalizeRequirements(y);for(const C of E)for(const{id:I,level:A=1}of C)I===t.id&&(d.has(A)||d.set(A,[]),d.get(A).push(y))}const b=[...d.entries()].sort((y,E)=>y[0]-E[0]);return b.forEach(([,y])=>{y.sort((E,C)=>He(i.byId("construction_group",E.group)).localeCompare(He(i.byId("construction_group",C.group))))}),r.$$set=y=>{"item"in y&&n(0,t=y.item)},[t,i,l,a,u,b]}class aM extends ht{constructor(e){super(),pt(this,e,fM,sM,mt,{item:0},null,[-1,-1])}}function Um(r,e,n){const t=r.slice();return t[9]=e[n].id,t[10]=e[n].count,t}function Gm(r,e,n){const t=r.slice();return t[13]=e[n],t}function qm(r,e,n){const t=r.slice();return t[9]=e[n].id,t[10]=e[n].count,t[17]=n,t}function Ym(r,e,n){const t=r.slice();return t[18]=e[n].flag,t}function Hm(r,e,n){const t=r.slice();return t[21]=e[n],t[17]=n,t}function zm(r,e,n){const t=r.slice();return t[9]=e[n][0],t[23]=e[n][1],t[17]=n,t}function Wm(r){let e,n=He(r[2].byId("construction_group",r[0].group))+"",t;return{c(){e=m("h1"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=He(i[2].byId("construction_group",i[0].group))+"")&&K(t,n)},d(i){i&&p(e)}}}function Vm(r){let e,n,t,i;const o=[uM,cM],l=[];function s(a,f){return a[0].skill?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function cM(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function uM(r){let e,n,t=(r[0].difficulty??0)+"",i,o,l;return e=new ge({props:{type:"skill",id:r[0].skill}}),{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){U(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),l=!0},p(s,a){const f={};a&1&&(f.id=s[0].skill),e.$set(f),(!l||a&1)&&t!==(t=(s[0].difficulty??0)+"")&&K(i,t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){G(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function _M(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function dM(r){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function Jm(r){let e,n,t=r[23]+"",i,o,l,s;e=new ge({props:{type:"skill",id:r[9]}});function a(u,d){var b,k;if(u[17]+2===((b=u[0].required_skills)==null?void 0:b.length))return dM;if(u[17]+1!==((k=u[0].required_skills)==null?void 0:k.length))return _M}let f=a(r),c=f&&f(r);return{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),c&&c.c(),l=ue()},m(u,d){U(e,u,d),h(u,n,d),h(u,i,d),h(u,o,d),c&&c.m(u,d),h(u,l,d),s=!0},p(u,d){const b={};d&1&&(b.id=u[9]),e.$set(b),(!s||d&1)&&t!==(t=u[23]+"")&&K(i,t),f!==(f=a(u))&&(c&&c.d(1),c=f&&f(u),c&&(c.c(),c.m(l.parentNode,l)))},i(u){s||(g(e.$$.fragment,u),s=!0)},o(u){$(e.$$.fragment,u),s=!1},d(u){G(e,u),u&&p(n),u&&p(i),u&&p(o),c&&c.d(u),u&&p(l)}}}function Xm(r){let e,n,t,i,o=[r[0].pre_terrain].flat(),l=[];for(let a=0;a<o.length;a+=1)l[a]=Km(Hm(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Requires",{_context:rr})}`,n=m("dd");for(let a=0;a<l.length;a+=1)l[a].c();t=R()},m(a,f){h(a,e,f),h(a,n,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(n,null);_(n,t),i=!0},p(a,f){if(f&65){o=[a[0].pre_terrain].flat();let c;for(c=0;c<o.length;c+=1){const u=Hm(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=Km(u),l[c].c(),g(l[c],1),l[c].m(n,t))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function mM(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function Km(r){let e,n,t,i,o,l=r[17]!==0&&mM();return n=new Dt({props:{item:r[6](r[21])}}),i=new ge({props:{type:r[21].startsWith("f_")?"furniture":"terrain",id:r[21]}}),{c(){l&&l.c(),e=R(),q(n.$$.fragment),t=R(),q(i.$$.fragment)},m(s,a){l&&l.m(s,a),h(s,e,a),U(n,s,a),h(s,t,a),U(i,s,a),o=!0},p(s,a){s[17]!==0&&l.p(s,a);const f={};a&1&&(f.item=s[6](s[21])),n.$set(f);const c={};a&1&&(c.type=s[21].startsWith("f_")?"furniture":"terrain"),a&1&&(c.id=s[21]),i.$set(c)},i(s){o||(g(n.$$.fragment,s),g(i.$$.fragment,s),o=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),o=!1},d(s){l&&l.d(s),s&&p(e),G(n,s),s&&p(t),G(i,s)}}}function pM(r){let e,n,t,i,o,l=r[5],s=[];for(let f=0;f<l.length;f+=1)s[f]=Zm(Ym(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Requires Flags",{_context:rr})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&32){l=f[5];let u;for(u=0;u<l.length;u+=1){const d=Ym(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Zm(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Zm(r){let e,n,t;return n=new ge({props:{type:"json_flag",id:r[18]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function hM(r){let e,n,t,i,o,l=r[3],s=[];for(let f=0;f<l.length;f+=1)s[f]=xm(Gm(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Components",{_context:"Requirement"})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&12){l=f[3];let u;for(u=0;u<l.length;u+=1){const d=Gm(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=xm(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function gM(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function Qm(r){let e,n,t,i=r[17]!==0&&gM();return n=new ge({props:{id:r[9],count:r[10],type:"item"}}),{c(){i&&i.c(),e=R(),q(n.$$.fragment)},m(o,l){i&&i.m(o,l),h(o,e,l),U(n,o,l),t=!0},p(o,l){o[17]!==0&&i.p(o,l)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),G(n,o)}}}function xm(r){let e,n,t,i=r[13].map(r[7]),o=[];for(let s=0;s<i.length;s+=1)o[s]=Qm(qm(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=R()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);_(e,n),t=!0},p(s,a){if(a&12){i=s[13].map(s[7]);let f;for(f=0;f<i.length;f+=1){const c=qm(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=Qm(c),o[f].c(),g(o[f],1),o[f].m(e,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s)}}}function bM(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=ep(Um(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Byproducts",{_context:rr})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&20){l=f[4];let u;for(u=0;u<l.length;u+=1){const d=Um(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=ep(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function ep(r){let e,n,t,i,o,l;return n=new Dt({props:{item:r[2].byId("item",r[9])}}),i=new ge({props:{type:"item",id:r[9],count:r[10]}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),_(e,t),U(i,e,null),_(e,o),l=!0},p:oe,i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),G(i)}}}function tp(r){let e,n,t,i,o;const l=[yM,$M],s=[];function a(f,c){return f[0].post_terrain==="f_null"?0:1}return t=a(r),i=s[t]=l[t](r),{c(){e=m("dt"),e.textContent=`${O.t("Creates",{_context:rr})}`,n=m("dd"),i.c()},m(f,c){h(f,e,c),h(f,n,c),s[t].m(n,null),o=!0},p(f,c){let u=t;t=a(f),t===u?s[t].p(f,c):(fe(),$(s[u],1,1,()=>{s[u]=null}),ae(),i=s[t],i?i.p(f,c):(i=s[t]=l[t](f),i.c()),g(i,1),i.m(n,null))},i(f){o||(g(i),o=!0)},o(f){$(i),o=!1},d(f){f&&p(e),f&&p(n),s[t].d()}}}function $M(r){let e,n,t,i;return e=new Dt({props:{item:r[6](r[0].post_terrain)}}),t=new ge({props:{type:r[0].post_terrain.startsWith("f_")?"furniture":"terrain",id:r[0].post_terrain}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[6](o[0].post_terrain)),e.$set(s);const a={};l&1&&(a.type=o[0].post_terrain.startsWith("f_")?"furniture":"terrain"),l&1&&(a.id=o[0].post_terrain),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function yM(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("nothing",{_context:rr,_comment:'The furniture/terrain "created" by a deconstruction is...'})}`},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function np(r){let e,n=Yt(r[0].pre_note)+"",t;return{c(){e=m("p"),t=w(n),bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=Yt(i[0].pre_note)+"")&&K(t,n)},d(i){i&&p(e)}}}function kM(r){let e,n,t,i,o,l,s,a,f=(typeof r[0].time=="number"?`${r[0].time} m`:r[0].time??"0 m")+"",c,u,d,b,k,y,E,C,I,A,B,L,D,Y,z=r[1]&&Wm(r),W=r[0].required_skills??[],H=[];for(let Q=0;Q<W.length;Q+=1)H[Q]=Jm(zm(r,W,Q));const ne=Q=>$(H[Q],1,1,()=>{H[Q]=null});let M=null;W.length||(M=Vm(r));let X=r[0].pre_terrain&&Xm(r),te=r[5].length&&pM(r);k=new co({props:{requirement:r[0]}});let F=r[3].length&&hM(r),j=r[4].length&&bM(r),Z=!r[1]&&r[0].post_terrain&&tp(r),x=r[0].pre_note&&np(r);return D=new us({props:{obj:r[0],buildNumber:r[2].build_number}}),{c(){e=m("section"),z&&z.c(),n=R(),t=m("dl"),i=m("dt"),i.textContent=`${O.t("Required Skills")}`,o=m("dd");for(let Q=0;Q<H.length;Q+=1)H[Q].c();M&&M.c(),l=R(),s=m("dt"),s.textContent=`${O.t("Time",{_context:rr})}`,a=m("dd"),c=w(f),u=R(),X&&X.c(),d=ue(),te&&te.c(),b=ue(),q(k.$$.fragment),F&&F.c(),y=ue(),j&&j.c(),E=ue(),Z&&Z.c(),C=R(),x&&x.c(),I=R(),A=m("details"),B=m("summary"),B.textContent=`${O.t("Construction JSON",{_context:rr})}`,L=R(),q(D.$$.fragment)},m(Q,V){h(Q,e,V),z&&z.m(e,null),_(e,n),_(e,t),_(t,i),_(t,o);for(let ie=0;ie<H.length;ie+=1)H[ie]&&H[ie].m(o,null);M&&M.m(o,null),_(o,l),_(t,s),_(t,a),_(a,c),_(a,u),X&&X.m(t,null),_(t,d),te&&te.m(t,null),_(t,b),U(k,t,null),F&&F.m(t,null),_(t,y),j&&j.m(t,null),_(t,E),Z&&Z.m(t,null),_(e,C),x&&x.m(e,null),_(e,I),_(e,A),_(A,B),_(A,L),U(D,A,null),Y=!0},p(Q,[V]){if(Q[1]?z?z.p(Q,V):(z=Wm(Q),z.c(),z.m(e,n)):z&&(z.d(1),z=null),V&1){W=Q[0].required_skills??[];let re;for(re=0;re<W.length;re+=1){const ee=zm(Q,W,re);H[re]?(H[re].p(ee,V),g(H[re],1)):(H[re]=Jm(ee),H[re].c(),g(H[re],1),H[re].m(o,l))}for(fe(),re=W.length;re<H.length;re+=1)ne(re);ae(),!W.length&&M?M.p(Q,V):W.length?M&&(fe(),$(M,1,1,()=>{M=null}),ae()):(M=Vm(Q),M.c(),g(M,1),M.m(o,l))}(!Y||V&1)&&f!==(f=(typeof Q[0].time=="number"?`${Q[0].time} m`:Q[0].time??"0 m")+"")&&K(c,f),Q[0].pre_terrain?X?(X.p(Q,V),V&1&&g(X,1)):(X=Xm(Q),X.c(),g(X,1),X.m(t,d)):X&&(fe(),$(X,1,1,()=>{X=null}),ae()),Q[5].length&&te.p(Q,V);const ie={};V&1&&(ie.requirement=Q[0]),k.$set(ie),Q[3].length&&F.p(Q,V),Q[4].length&&j.p(Q,V),!Q[1]&&Q[0].post_terrain?Z?(Z.p(Q,V),V&3&&g(Z,1)):(Z=tp(Q),Z.c(),g(Z,1),Z.m(t,null)):Z&&(fe(),$(Z,1,1,()=>{Z=null}),ae()),Q[0].pre_note?x?x.p(Q,V):(x=np(Q),x.c(),x.m(e,I)):x&&(x.d(1),x=null);const _e={};V&1&&(_e.obj=Q[0]),D.$set(_e)},i(Q){if(!Y){for(let V=0;V<W.length;V+=1)g(H[V]);g(X),g(te),g(k.$$.fragment,Q),g(F),g(j),g(Z),g(D.$$.fragment,Q),Y=!0}},o(Q){H=H.filter(Boolean);for(let V=0;V<H.length;V+=1)$(H[V]);$(X),$(te),$(k.$$.fragment,Q),$(F),$(j),$(Z),$(D.$$.fragment,Q),Y=!1},d(Q){Q&&p(e),z&&z.d(),ye(H,Q),M&&M.d(),X&&X.d(),te&&te.d(),G(k),F&&F.d(),j&&j.d(),Z&&Z.d(),x&&x.d(),G(D)}}}const rr="Construction";function vM(r,e,n){const t=jt("data");let{construction:i}=e,{includeTitle:o=!1}=e;const s=t.resolveRequirementList(i.using).concat([[i,1]]).flatMap(([d,b])=>t.flattenRequirement(d.components??[],k=>k.components).map(k=>k.map(y=>({...y,count:y.count*b})))),a=t.flattenItemGroup(t.normalizeItemGroup(i.byproducts,"collection")),f=[];if(i.pre_flags)for(const d of[i.pre_flags].flat())typeof d=="string"?f.push({flag:d}):f.push(d);function c(d){return t.byId(d.startsWith("f_")?"furniture":"terrain",d)}const u=d=>({...d,item:t.byId("item",d.id)});return r.$$set=d=>{"construction"in d&&n(0,i=d.construction),"includeTitle"in d&&n(1,o=d.includeTitle)},[i,o,t,s,a,f,c,u]}class Df extends ht{constructor(e){super(),pt(this,e,vM,kM,mt,{construction:0,includeTitle:1})}}function ip(r,e,n){const t=r.slice();return t[3]=e[n].item,t[4]=e[n].count,t}function wM(r){let e,n=r[4][0]+"",t,i,o=r[4][1]+"",l,s;return{c(){e=w(" ("),t=w(n),i=w("–"),l=w(o),s=w(")")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,l,f),h(a,s,f)},p(a,f){f&1&&n!==(n=a[4][0]+"")&&K(t,n),f&1&&o!==(o=a[4][1]+"")&&K(l,o)},d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(l),a&&p(s)}}}function EM(r){let e,n=r[4]+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p(o,l){l&1&&n!==(n=o[4]+"")&&K(t,n)},d(o){o&&p(e),o&&p(t),o&&p(i)}}}function lp(r){let e,n,t,i,o;n=new ge({props:{id:r[3],type:"item"}});function l(f,c){if(c&1&&(t=null),typeof f[4]=="number")return EM;if(t==null&&(t=!!Array.isArray(f[4])),t)return wM}let s=l(r,-1),a=s&&s(r);return{c(){e=m("li"),q(n.$$.fragment),a&&a.c(),i=R()},m(f,c){h(f,e,c),U(n,e,null),a&&a.m(e,null),_(e,i),o=!0},p(f,c){const u={};c&1&&(u.id=f[3]),n.$set(u),s===(s=l(f,c))&&a?a.p(f,c):(a&&a.d(1),a=s&&s(f),a&&(a.c(),a.m(e,i)))},i(f){o||(g(n.$$.fragment,f),o=!0)},o(f){$(n.$$.fragment,f),o=!1},d(f){f&&p(e),G(n),a&&a.d()}}}function rp(r){let e,n,t=(r[0].prying_data.difficulty??0)+"",i,o,l,s,a,f=(r[0].prying_data.prying_level??0)+"",c,u,d,b,k=(r[0].prying_data.noisy?O.t("Yes"):O.t("No"))+"",y,E,C,I=(r[0].prying_data.alarm?O.t("Yes"):O.t("No"))+"",A,B,L,D=(r[0].prying_data.breakable?O.t("Yes"):O.t("No"))+"",Y,z;s=new ge({props:{id:"PRY",type:"tool_quality"}});let W=r[0].prying_data.prying_nails&&op();return{c(){e=m("dt"),e.textContent=`${O.t("Difficulty",{_context:Ql,_comment:xl})}`,n=m("dd"),i=w(t),o=m("dt"),o.textContent=`${O.t("Requires",{_context:Ql,_comment:xl})}`,l=m("dd"),q(s.$$.fragment),a=R(),c=w(f),W&&W.c(),u=R(),d=m("dt"),d.textContent=`${O.t("Noisy",{_context:Ql,_comment:xl})}`,b=m("dd"),y=w(k),E=m("dt"),E.textContent=`${O.t("Alarm",{_context:Ql,_comment:xl})}`,C=m("dd"),A=w(I),B=m("dt"),B.textContent=`${O.t("Breakable",{_context:Ql,_comment:xl})}`,L=m("dd"),Y=w(D)},m(H,ne){h(H,e,ne),h(H,n,ne),_(n,i),h(H,o,ne),h(H,l,ne),U(s,l,null),_(l,a),_(l,c),W&&W.m(l,null),_(l,u),h(H,d,ne),h(H,b,ne),_(b,y),h(H,E,ne),h(H,C,ne),_(C,A),h(H,B,ne),h(H,L,ne),_(L,Y),z=!0},p(H,ne){(!z||ne&1)&&t!==(t=(H[0].prying_data.difficulty??0)+"")&&K(i,t),(!z||ne&1)&&f!==(f=(H[0].prying_data.prying_level??0)+"")&&K(c,f),H[0].prying_data.prying_nails?W?ne&1&&g(W,1):(W=op(),W.c(),g(W,1),W.m(l,u)):W&&(fe(),$(W,1,1,()=>{W=null}),ae()),(!z||ne&1)&&k!==(k=(H[0].prying_data.noisy?O.t("Yes"):O.t("No"))+"")&&K(y,k),(!z||ne&1)&&I!==(I=(H[0].prying_data.alarm?O.t("Yes"):O.t("No"))+"")&&K(A,I),(!z||ne&1)&&D!==(D=(H[0].prying_data.breakable?O.t("Yes"):O.t("No"))+"")&&K(Y,D)},i(H){z||(g(s.$$.fragment,H),g(W),z=!0)},o(H){$(s.$$.fragment,H),$(W),z=!1},d(H){H&&p(e),H&&p(n),H&&p(o),H&&p(l),G(s),W&&W.d(),H&&p(d),H&&p(b),H&&p(E),H&&p(C),H&&p(B),H&&p(L)}}}function op(r){let e,n,t,i;return n=new ge({props:{id:"PRYING_NAIL",type:"tool_quality"}}),{c(){e=w(", "),q(n.$$.fragment),t=w(" 1")},m(o,l){h(o,e,l),U(n,o,l),h(o,t,l),i=!0},i(o){i||(g(n.$$.fragment,o),i=!0)},o(o){$(n.$$.fragment,o),i=!1},d(o){o&&p(e),G(n,o),o&&p(t)}}}function sp(r){let e,n,t,i,o,l;return t=new Dt({props:{item:r[2].byId(r[1],r[0].result)}}),o=new ge({props:{id:r[0].result,type:r[1]}}),{c(){e=m("dt"),e.textContent=`${O.t("Result",{_context:Ql,_comment:xl})}`,n=m("dd"),q(t.$$.fragment),i=R(),q(o.$$.fragment)},m(s,a){h(s,e,a),h(s,n,a),U(t,n,null),_(n,i),U(o,n,null),l=!0},p(s,a){const f={};a&3&&(f.item=s[2].byId(s[1],s[0].result)),t.$set(f);const c={};a&1&&(c.id=s[0].result),a&2&&(c.type=s[1]),o.$set(c)},i(s){l||(g(t.$$.fragment,s),g(o.$$.fragment,s),l=!0)},o(s){$(t.$$.fragment,s),$(o.$$.fragment,s),l=!1},d(s){s&&p(e),s&&p(n),G(t),G(o)}}}function TM(r){let e,n,t,i,o,l=(r[0].duration??"1 s")+"",s,a,f,c=r[0].byproducts??[],u=[];for(let y=0;y<c.length;y+=1)u[y]=lp(ip(r,c,y));const d=y=>$(u[y],1,1,()=>{u[y]=null});let b=r[0].prying_data&&rp(r),k=r[0].result&&sp(r);return{c(){e=m("ul");for(let y=0;y<u.length;y+=1)u[y].c();n=R(),t=m("dl"),i=m("dt"),i.textContent=`${O.t("Duration",{_context:Ql,_comment:xl})}`,o=m("dd"),s=w(l),b&&b.c(),a=ue(),k&&k.c(),le(e,"class","comma-separated")},m(y,E){h(y,e,E);for(let C=0;C<u.length;C+=1)u[C]&&u[C].m(e,null);h(y,n,E),h(y,t,E),_(t,i),_(t,o),_(o,s),b&&b.m(t,null),_(t,a),k&&k.m(t,null),f=!0},p(y,[E]){if(E&1){c=y[0].byproducts??[];let C;for(C=0;C<c.length;C+=1){const I=ip(y,c,C);u[C]?(u[C].p(I,E),g(u[C],1)):(u[C]=lp(I),u[C].c(),g(u[C],1),u[C].m(e,null))}for(fe(),C=c.length;C<u.length;C+=1)d(C);ae()}(!f||E&1)&&l!==(l=(y[0].duration??"1 s")+"")&&K(s,l),y[0].prying_data?b?(b.p(y,E),E&1&&g(b,1)):(b=rp(y),b.c(),g(b,1),b.m(t,a)):b&&(fe(),$(b,1,1,()=>{b=null}),ae()),y[0].result?k?(k.p(y,E),E&1&&g(k,1)):(k=sp(y),k.c(),g(k,1),k.m(t,null)):k&&(fe(),$(k,1,1,()=>{k=null}),ae())},i(y){if(!f){for(let E=0;E<c.length;E+=1)g(u[E]);g(b),g(k),f=!0}},o(y){u=u.filter(Boolean);for(let E=0;E<u.length;E+=1)$(u[E]);$(b),$(k),f=!1},d(y){y&&p(e),ye(u,y),y&&p(n),y&&p(t),b&&b.d(),k&&k.d()}}}const Ql="Terrain / Furniture",xl="activity (prying, hacksawing, etc.)";function SM(r,e,n){let{act:t}=e,{resultType:i}=e;const o=jt("data");return r.$$set=l=>{"act"in l&&n(0,t=l.act),"resultType"in l&&n(1,i=l.resultType)},[t,i,o]}class Sl extends ht{constructor(e){super(),pt(this,e,SM,TM,mt,{act:0,resultType:1})}}function CM(r){let e,n;return e=new Mf({props:{id:r[0],loots:Q5(r[1]),heading:O.t("Found In",{_context:"Terrain/Furniture Locations"})}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,[i]){const o={};i&1&&(o.id=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function IM(r,e,n){let{item_id:t}=e;const i=jt("data");return r.$$set=o=>{"item_id"in o&&n(0,t=o.item_id)},[t,i]}class OM extends ht{constructor(e){super(),pt(this,e,IM,CM,mt,{item_id:0})}}function fp(r,e,n){const t=r.slice();return t[9]=e[n],t}function ap(r,e,n){const t=r.slice();return t[12]=e[n],t}function cp(r,e,n){const t=r.slice();return t[15]=e[n][0],t[16]=e[n][1],t}function up(r,e,n){const t=r.slice();return t[19]=e[n],t}function _p(r,e,n){const t=r.slice();return t[22]=e[n],t}function dp(r,e,n){const t=r.slice();return t[25]=e[n].id,t[26]=e[n].prob,t}function Us(r){const e=r.slice(),n=e[0].bash.furn_set;return e[29]=n,e}function mp(r,e,n){const t=r.slice();return t[25]=e[n].id,t[26]=e[n].prob,t[30]=e[n].count,t}function Gs(r){const e=r.slice(),n=e[0].deconstruct.furn_set;return e[29]=n,e}function pp(r,e,n){const t=r.slice();return t[25]=e[n].id,t[26]=e[n].prob,t[30]=e[n].count,t}function RM(r){let e,n=r[0].move_cost_mod*50+"",t;return{c(){e=w("+"),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o[0]&1&&n!==(n=i[0].move_cost_mod*50+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function AM(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("impassable",{_context:bi})}`},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function hp(r){let e,n,t=r[0].comfort+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Comfort",{_context:bi})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].comfort+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function gp(r){let e,n,t=r[0].max_volume+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Max Volume",{_context:bi})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].max_volume+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function bp(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[0].crafting_pseudo_item}}),{c(){e=m("dt"),e.textContent=`${O.t("Provides",{_context:bi})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l[0]&1&&(s.id=o[0].crafting_pseudo_item),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function $p(r){let e,n,t,i,o,l;return n=new ge({props:{type:"item_action",id:"BOLTCUTTERS"}}),i=new Sl({props:{act:r[0].boltcut,resultType:"furniture"}}),{c(){e=m("dt"),q(n.$$.fragment),t=m("dd"),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),h(s,t,a),U(i,t,null),_(t,o),l=!0},p(s,a){const f={};a[0]&1&&(f.act=s[0].boltcut),i.$set(f)},i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),s&&p(t),G(i)}}}function yp(r){let e,n,t,i,o,l;return n=new ge({props:{type:"item_action",id:"HACKSAW"}}),i=new Sl({props:{act:r[0].hacksaw,resultType:"furniture"}}),{c(){e=m("dt"),q(n.$$.fragment),t=m("dd"),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),h(s,t,a),U(i,t,null),_(t,o),l=!0},p(s,a){const f={};a[0]&1&&(f.act=s[0].hacksaw),i.$set(f)},i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),s&&p(t),G(i)}}}function kp(r){let e,n,t,i,o,l;return n=new ge({props:{type:"item_action",id:"OXYTORCH"}}),i=new Sl({props:{act:r[0].oxytorch,resultType:"furniture"}}),{c(){e=m("dt"),q(n.$$.fragment),t=m("dd"),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),h(s,t,a),U(i,t,null),_(t,o),l=!0},p(s,a){const f={};a[0]&1&&(f.act=s[0].oxytorch),i.$set(f)},i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),s&&p(t),G(i)}}}function vp(r){let e,n,t,i,o,l;return n=new ge({props:{type:"item_action",id:"CROWBAR"}}),i=new Sl({props:{act:r[0].prying,resultType:"furniture"}}),{c(){e=m("dt"),q(n.$$.fragment),t=m("dd"),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),h(s,t,a),U(i,t,null),_(t,o),l=!0},p(s,a){const f={};a[0]&1&&(f.act=s[0].prying),i.$set(f)},i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),s&&p(t),G(i)}}}function NM(r){var u;let e,n,t,i,o,l,s=r[2],a=[];for(let d=0;d<s.length;d+=1)a[d]=wp(pp(r,s,d));const f=d=>$(a[d],1,1,()=>{a[d]=null});let c=((u=r[0].deconstruct)==null?void 0:u.furn_set)&&Ep(Gs(r));return{c(){e=m("dt"),e.textContent=`${O.t("Deconstruct",{_context:bi})}`,n=m("dd"),t=m("ul");for(let d=0;d<a.length;d+=1)a[d].c();i=R(),c&&c.c(),o=R(),le(t,"class","comma-separated")},m(d,b){h(d,e,b),h(d,n,b),_(n,t);for(let k=0;k<a.length;k+=1)a[k]&&a[k].m(t,null);_(n,i),c&&c.m(n,null),_(n,o),l=!0},p(d,b){var k;if(b[0]&4){s=d[2];let y;for(y=0;y<s.length;y+=1){const E=pp(d,s,y);a[y]?(a[y].p(E,b),g(a[y],1)):(a[y]=wp(E),a[y].c(),g(a[y],1),a[y].m(t,null))}for(fe(),y=s.length;y<a.length;y+=1)f(y);ae()}(k=d[0].deconstruct)!=null&&k.furn_set?c?(c.p(Gs(d),b),b[0]&1&&g(c,1)):(c=Ep(Gs(d)),c.c(),g(c,1),c.m(n,o)):c&&(fe(),$(c,1,1,()=>{c=null}),ae())},i(d){if(!l){for(let b=0;b<s.length;b+=1)g(a[b]);g(c),l=!0}},o(d){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)$(a[b]);$(c),l=!1},d(d){d&&p(e),d&&p(n),ye(a,d),c&&c.d()}}}function BM(r){let e,n=r[30][0]+"",t,i,o=r[30][1]+"",l,s;return{c(){e=w(" ("),t=w(n),i=w("–"),l=w(o),s=w(")")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,l,f),h(a,s,f)},p:oe,d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(l),a&&p(s)}}}function MM(r){let e,n=r[30][0]!==1&&DM(r);return{c(){n&&n.c(),e=ue()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,i){t[30][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&p(e)}}}function DM(r){let e,n=r[30][0]+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function LM(r){let e,n=Ay(r[26])+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function wp(r){let e,n,t,i="",o,l="",s,a;t=new ge({props:{type:"item",id:r[25]}});function f(b,k){return b[30][0]===b[30][1]?MM:BM}let u=f(r)(r),d=r[26]!==1&&LM(r);return{c(){e=m("li"),n=m("span"),q(t.$$.fragment),o=w(i),u.c(),s=w(l),d&&d.c(),bt(n,"white-space","nowrap")},m(b,k){h(b,e,k),_(e,n),U(t,n,null),_(n,o),u.m(n,null),_(n,s),d&&d.m(n,null),a=!0},p(b,k){u.p(b,k),b[26]!==1&&d.p(b,k)},i(b){a||(g(t.$$.fragment,b),a=!0)},o(b){$(t.$$.fragment,b),a=!1},d(b){b&&p(e),G(t),u.d(),d&&d.d()}}}function Ep(r){let e,n,t,i,o,l,s;return i=new Dt({props:{item:r[1].byId("furniture",r[29])}}),l=new ge({props:{type:"furniture",id:r[29]}}),{c(){e=m("dl"),n=m("dt"),n.textContent=`${O.t("Becomes",{_context:bi})}`,t=m("dd"),q(i.$$.fragment),o=R(),q(l.$$.fragment)},m(a,f){h(a,e,f),_(e,n),_(e,t),U(i,t,null),_(t,o),U(l,t,null),s=!0},p(a,f){const c={};f[0]&1&&(c.item=a[1].byId("furniture",a[29])),i.$set(c);const u={};f[0]&1&&(u.id=a[29]),l.$set(u)},i(a){s||(g(i.$$.fragment,a),g(l.$$.fragment,a),s=!0)},o(a){$(i.$$.fragment,a),$(l.$$.fragment,a),s=!1},d(a){a&&p(e),G(i),G(l)}}}function FM(r){var E,C;let e,n,t,i,o,l,s,a=(((E=r[0].bash)==null?void 0:E.str_min)??0)+"",f,c,u,d=r[3],b=[];for(let I=0;I<d.length;I+=1)b[I]=Tp(mp(r,d,I));const k=I=>$(b[I],1,1,()=>{b[I]=null});let y=((C=r[0].bash)==null?void 0:C.furn_set)&&Sp(Us(r));return{c(){e=m("dt"),e.textContent=`${O.t("Bash",{_context:bi})}`,n=m("dd"),t=m("ul");for(let I=0;I<b.length;I+=1)b[I].c();i=R(),o=m("dl"),l=m("dt"),l.textContent=`${O.t("Strength Required",{_context:bi})}`,s=m("dd"),f=w(a),y&&y.c(),c=R(),le(t,"class","comma-separated")},m(I,A){h(I,e,A),h(I,n,A),_(n,t);for(let B=0;B<b.length;B+=1)b[B]&&b[B].m(t,null);_(n,i),_(n,o),_(o,l),_(o,s),_(s,f),y&&y.m(o,null),_(n,c),u=!0},p(I,A){var B,L;if(A[0]&8){d=I[3];let D;for(D=0;D<d.length;D+=1){const Y=mp(I,d,D);b[D]?(b[D].p(Y,A),g(b[D],1)):(b[D]=Tp(Y),b[D].c(),g(b[D],1),b[D].m(t,null))}for(fe(),D=d.length;D<b.length;D+=1)k(D);ae()}(!u||A[0]&1)&&a!==(a=(((B=I[0].bash)==null?void 0:B.str_min)??0)+"")&&K(f,a),(L=I[0].bash)!=null&&L.furn_set?y?(y.p(Us(I),A),A[0]&1&&g(y,1)):(y=Sp(Us(I)),y.c(),g(y,1),y.m(o,null)):y&&(fe(),$(y,1,1,()=>{y=null}),ae())},i(I){if(!u){for(let A=0;A<d.length;A+=1)g(b[A]);g(y),u=!0}},o(I){b=b.filter(Boolean);for(let A=0;A<b.length;A+=1)$(b[A]);$(y),u=!1},d(I){I&&p(e),I&&p(n),ye(b,I),y&&y.d()}}}function PM(r){let e,n=r[30][0]+"",t,i,o=r[30][1]+"",l,s;return{c(){e=w(" ("),t=w(n),i=w("–"),l=w(o),s=w(")")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,l,f),h(a,s,f)},p:oe,d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(l),a&&p(s)}}}function jM(r){let e,n=r[30][0]!==1&&UM(r);return{c(){n&&n.c(),e=ue()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,i){t[30][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&p(e)}}}function UM(r){let e,n=r[30][0]+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function GM(r){let e,n=Ay(r[26])+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function Tp(r){let e,n,t,i="",o,l="",s,a;t=new ge({props:{type:"item",id:r[25]}});function f(b,k){return b[30][0]===b[30][1]?jM:PM}let u=f(r)(r),d=r[26]!==1&&GM(r);return{c(){e=m("li"),n=m("span"),q(t.$$.fragment),o=w(i),u.c(),s=w(l),d&&d.c(),bt(n,"white-space","nowrap")},m(b,k){h(b,e,k),_(e,n),U(t,n,null),_(n,o),u.m(n,null),_(n,s),d&&d.m(n,null),a=!0},p(b,k){u.p(b,k),b[26]!==1&&d.p(b,k)},i(b){a||(g(t.$$.fragment,b),a=!0)},o(b){$(t.$$.fragment,b),a=!1},d(b){b&&p(e),G(t),u.d(),d&&d.d()}}}function Sp(r){let e,n,t,i,o,l;return t=new Dt({props:{item:r[1].byId("furniture",r[29])}}),o=new ge({props:{type:"furniture",id:r[29]}}),{c(){e=m("dt"),e.textContent=`${O.t("Becomes",{_context:bi})}`,n=m("dd"),q(t.$$.fragment),i=R(),q(o.$$.fragment)},m(s,a){h(s,e,a),h(s,n,a),U(t,n,null),_(n,i),U(o,n,null),l=!0},p(s,a){const f={};a[0]&1&&(f.item=s[1].byId("furniture",s[29])),t.$set(f);const c={};a[0]&1&&(c.id=s[29]),o.$set(c)},i(s){l||(g(t.$$.fragment,s),g(o.$$.fragment,s),l=!0)},o(s){$(t.$$.fragment,s),$(o.$$.fragment,s),l=!1},d(s){s&&p(e),s&&p(n),G(t),G(o)}}}function qM(r){let e,n,t,i,o,l=r[6],s=[];for(let f=0;f<l.length;f+=1)s[f]=Rp(cp(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Harvest",{_context:bi})}`,n=m("dd"),t=m("dl");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&66){l=f[6];let u;for(u=0;u<l.length;u+=1){const d=cp(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Rp(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function YM(r){let e,n,t,i,o;return n=new Dt({props:{item:r[1].byId("item",r[22].drop)}}),i=new ge({props:{type:"item",id:r[22].drop}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),U(n,e,null),_(e,t),U(i,e,null),o=!0},p:oe,i(l){o||(g(n.$$.fragment,l),g(i.$$.fragment,l),o=!0)},o(l){$(n.$$.fragment,l),$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(n),G(i)}}}function HM(r){let e,n,t=r[1].flattenTopLevelItemGroup(r[1].byId("item_group",r[22].drop)),i=[];for(let l=0;l<t.length;l+=1)i[l]=Cp(dp(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,s){if(s[0]&66){t=l[1].flattenTopLevelItemGroup(l[1].byId("item_group",l[22].drop));let a;for(a=0;a<t.length;a+=1){const f=dp(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=Cp(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}function Cp(r){let e,n,t,i,o,l=(r[26]*100).toFixed(2)+"",s,a,f;return n=new Dt({props:{item:r[1].byId("item",r[25])}}),i=new ge({props:{type:"item",id:r[25]}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=w(" ("),s=w(l),a=w("%)")},m(c,u){h(c,e,u),U(n,e,null),_(e,t),U(i,e,null),_(e,o),_(e,s),_(e,a),f=!0},p:oe,i(c){f||(g(n.$$.fragment,c),g(i.$$.fragment,c),f=!0)},o(c){$(n.$$.fragment,c),$(i.$$.fragment,c),f=!1},d(c){c&&p(e),G(n),G(i)}}}function Ip(r){let e,n,t,i;const o=[HM,YM],l=[];function s(a,f){return a[22].type==="bionic_group"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function Op(r){let e,n,t=r[19].entries,i=[];for(let l=0;l<t.length;l+=1)i[l]=Ip(_p(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c()},m(l,s){h(l,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(l,s){if(s[0]&66){t=l[19].entries;let a;for(a=0;a<t.length;a+=1){const f=_p(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=Ip(f),i[a].c(),g(i[a],1),i[a].m(e,null))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){l&&p(e),ye(i,l)}}}function Rp(r){let e,n=en.__(r[15].replace(/^(.)/,XM))+"",t,i,o,l,s=[r[1].byId("harvest",r[16])],a=[];for(let c=0;c<1;c+=1)a[c]=Op(up(r,s,c));const f=c=>$(a[c],1,1,()=>{a[c]=null});return{c(){e=m("dt"),t=w(n),i=m("dd");for(let c=0;c<1;c+=1)a[c].c();o=R()},m(c,u){h(c,e,u),_(e,t),h(c,i,u);for(let d=0;d<1;d+=1)a[d]&&a[d].m(i,null);_(i,o),l=!0},p(c,u){if(u[0]&66){s=[c[1].byId("harvest",c[16])];let d;for(d=0;d<1;d+=1){const b=up(c,s,d);a[d]?(a[d].p(b,u),g(a[d],1)):(a[d]=Op(b),a[d].c(),g(a[d],1),a[d].m(i,o))}for(fe(),d=1;d<1;d+=1)f(d);ae()}},i(c){if(!l){for(let u=0;u<1;u+=1)g(a[u]);l=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<1;u+=1)$(a[u]);l=!1},d(c){c&&p(e),c&&p(i),ye(a,c)}}}function Ap(r){let e,n;return{c(){e=m("li"),n=m("em"),n.textContent=`${O.t("none")}`},m(t,i){h(t,e,i),_(e,n)},p:oe,d(t){t&&p(e)}}}function Np(r){let e,n,t;return n=new ge({props:{type:"json_flag",id:r[12]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[12]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function zM(r){let e,n,t,i,o=r[4],l=[];for(let a=0;a<o.length;a+=1)l[a]=Bp(fp(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("h2"),e.textContent=`${O.t("Construction",{_context:bi})}`,n=R();for(let a=0;a<l.length;a+=1)l[a].c();t=ue()},m(a,f){h(a,e,f),h(a,n,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,t,f),i=!0},p(a,f){if(f[0]&16){o=a[4];let c;for(c=0;c<o.length;c+=1){const u=fp(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=Bp(u),l[c].c(),g(l[c],1),l[c].m(t.parentNode,t))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a),a&&p(t)}}}function Bp(r){let e,n;return e=new Df({props:{construction:r[9],includeTitle:!0}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function WM(r){let e,n,t,i,o;return i=new Wt({props:{items:r[5],$$slots:{default:[VM,({item:l})=>({0:l}),({item:l})=>[l?1:0]]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Bashed From",{_context:bi})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s[0]&1|s[1]&16&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function VM(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"furniture",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l[0]&1&&(s.item=o[0]),e.$set(s);const a={};l[0]&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function JM(r){let e,n,t,i=He(r[0])+"",o,l,s,a,f,c,u,d,b,k,y,E=(r[0].required_str>=0?r[0].required_str:"not movable")+"",C,I,A,B=(r[0].coverage??0)+"",L,D,Y,z,W,H,ne,M,X,te,F,j,Z,x,Q,V,ie=Yt(r[0].description)+"",_e,re,ee,ce,Ee,we;n=new Dt({props:{item:r[0]}});function De(ke,Ke){return ke[0].move_cost_mod<0?AM:RM}let ze=De(r),We=ze(r),Ve=r[0].comfort&&hp(r),Qe=r[0].max_volume&&gp(r),ve=r[0].crafting_pseudo_item&&bp(r),Te=r[0].boltcut&&$p(r),Ce=r[0].hacksaw&&yp(r),it=r[0].oxytorch&&kp(r),Be=r[0].prying&&vp(r),et=r[2].length&&NM(r),xe=r[3].length&&FM(r),At=r[6].length&&qM(r),wt=r[0].flags??[],st=[];for(let ke=0;ke<wt.length;ke+=1)st[ke]=Np(ap(r,wt,ke));const Ut=ke=>$(st[ke],1,1,()=>{st[ke]=null});let $t=null;wt.length||($t=Ap());let _t=r[4].length&&zM(r),Ue=r[5].length&&WM(r);return Ee=new OM({props:{item_id:r[0].id}}),{c(){e=m("h1"),q(n.$$.fragment),t=R(),o=w(i),l=R(),s=m("section"),a=m("h1"),a.textContent=`${O.t("General",{_context:bi})}`,f=R(),c=m("dl"),u=m("dt"),u.textContent=`${O.t("Move Cost Modifier",{_context:bi})}`,d=m("dd"),We.c(),b=R(),k=m("dt"),k.textContent=`${O.t("Strength Required to Drag",{_context:bi})}`,y=m("dd"),C=w(E),I=m("dt"),I.textContent=`${O.t("Coverage",{_context:bi})}`,A=m("dd"),L=w(B),D=w("%"),Ve&&Ve.c(),Y=ue(),Qe&&Qe.c(),z=ue(),ve&&ve.c(),W=ue(),Te&&Te.c(),H=ue(),Ce&&Ce.c(),ne=ue(),it&&it.c(),M=ue(),Be&&Be.c(),X=ue(),et&&et.c(),te=ue(),xe&&xe.c(),F=ue(),At&&At.c(),j=m("dt"),j.textContent=`${O.t("Flags")}`,Z=m("dd"),x=m("ul");for(let ke=0;ke<st.length;ke+=1)st[ke].c();$t&&$t.c(),Q=R(),V=m("p"),_e=w(ie),re=R(),_t&&_t.c(),ee=R(),Ue&&Ue.c(),ce=R(),q(Ee.$$.fragment),le(x,"class","comma-separated"),bt(V,"color","var(--cata-color-gray)")},m(ke,Ke){h(ke,e,Ke),U(n,e,null),_(e,t),_(e,o),h(ke,l,Ke),h(ke,s,Ke),_(s,a),_(s,f),_(s,c),_(c,u),_(c,d),We.m(d,null),_(d,b),_(c,k),_(c,y),_(y,C),_(c,I),_(c,A),_(A,L),_(A,D),Ve&&Ve.m(c,null),_(c,Y),Qe&&Qe.m(c,null),_(c,z),ve&&ve.m(c,null),_(c,W),Te&&Te.m(c,null),_(c,H),Ce&&Ce.m(c,null),_(c,ne),it&&it.m(c,null),_(c,M),Be&&Be.m(c,null),_(c,X),et&&et.m(c,null),_(c,te),xe&&xe.m(c,null),_(c,F),At&&At.m(c,null),_(c,j),_(c,Z),_(Z,x);for(let Lt=0;Lt<st.length;Lt+=1)st[Lt]&&st[Lt].m(x,null);$t&&$t.m(x,null),_(s,Q),_(s,V),_(V,_e),h(ke,re,Ke),_t&&_t.m(ke,Ke),h(ke,ee,Ke),Ue&&Ue.m(ke,Ke),h(ke,ce,Ke),U(Ee,ke,Ke),we=!0},p(ke,Ke){const Lt={};if(Ke[0]&1&&(Lt.item=ke[0]),n.$set(Lt),(!we||Ke[0]&1)&&i!==(i=He(ke[0])+"")&&K(o,i),ze===(ze=De(ke))&&We?We.p(ke,Ke):(We.d(1),We=ze(ke),We&&(We.c(),We.m(d,b))),(!we||Ke[0]&1)&&E!==(E=(ke[0].required_str>=0?ke[0].required_str:"not movable")+"")&&K(C,E),(!we||Ke[0]&1)&&B!==(B=(ke[0].coverage??0)+"")&&K(L,B),ke[0].comfort?Ve?Ve.p(ke,Ke):(Ve=hp(ke),Ve.c(),Ve.m(c,Y)):Ve&&(Ve.d(1),Ve=null),ke[0].max_volume?Qe?Qe.p(ke,Ke):(Qe=gp(ke),Qe.c(),Qe.m(c,z)):Qe&&(Qe.d(1),Qe=null),ke[0].crafting_pseudo_item?ve?(ve.p(ke,Ke),Ke[0]&1&&g(ve,1)):(ve=bp(ke),ve.c(),g(ve,1),ve.m(c,W)):ve&&(fe(),$(ve,1,1,()=>{ve=null}),ae()),ke[0].boltcut?Te?(Te.p(ke,Ke),Ke[0]&1&&g(Te,1)):(Te=$p(ke),Te.c(),g(Te,1),Te.m(c,H)):Te&&(fe(),$(Te,1,1,()=>{Te=null}),ae()),ke[0].hacksaw?Ce?(Ce.p(ke,Ke),Ke[0]&1&&g(Ce,1)):(Ce=yp(ke),Ce.c(),g(Ce,1),Ce.m(c,ne)):Ce&&(fe(),$(Ce,1,1,()=>{Ce=null}),ae()),ke[0].oxytorch?it?(it.p(ke,Ke),Ke[0]&1&&g(it,1)):(it=kp(ke),it.c(),g(it,1),it.m(c,M)):it&&(fe(),$(it,1,1,()=>{it=null}),ae()),ke[0].prying?Be?(Be.p(ke,Ke),Ke[0]&1&&g(Be,1)):(Be=vp(ke),Be.c(),g(Be,1),Be.m(c,X)):Be&&(fe(),$(Be,1,1,()=>{Be=null}),ae()),ke[2].length&&et.p(ke,Ke),ke[3].length&&xe.p(ke,Ke),ke[6].length&&At.p(ke,Ke),Ke[0]&1){wt=ke[0].flags??[];let Ct;for(Ct=0;Ct<wt.length;Ct+=1){const pe=ap(ke,wt,Ct);st[Ct]?(st[Ct].p(pe,Ke),g(st[Ct],1)):(st[Ct]=Np(pe),st[Ct].c(),g(st[Ct],1),st[Ct].m(x,null))}for(fe(),Ct=wt.length;Ct<st.length;Ct+=1)Ut(Ct);ae(),!wt.length&&$t?$t.p(ke,Ke):wt.length?$t&&($t.d(1),$t=null):($t=Ap(),$t.c(),$t.m(x,null))}(!we||Ke[0]&1)&&ie!==(ie=Yt(ke[0].description)+"")&&K(_e,ie),ke[4].length&&_t.p(ke,Ke),ke[5].length&&Ue.p(ke,Ke);const Rt={};Ke[0]&1&&(Rt.item_id=ke[0].id),Ee.$set(Rt)},i(ke){if(!we){g(n.$$.fragment,ke),g(ve),g(Te),g(Ce),g(it),g(Be),g(et),g(xe),g(At);for(let Ke=0;Ke<wt.length;Ke+=1)g(st[Ke]);g(_t),g(Ue),g(Ee.$$.fragment,ke),we=!0}},o(ke){$(n.$$.fragment,ke),$(ve),$(Te),$(Ce),$(it),$(Be),$(et),$(xe),$(At),st=st.filter(Boolean);for(let Ke=0;Ke<st.length;Ke+=1)$(st[Ke]);$(_t),$(Ue),$(Ee.$$.fragment,ke),we=!1},d(ke){ke&&p(e),G(n),ke&&p(l),ke&&p(s),We.d(),Ve&&Ve.d(),Qe&&Qe.d(),ve&&ve.d(),Te&&Te.d(),Ce&&Ce.d(),it&&it.d(),Be&&Be.d(),et&&et.d(),xe&&xe.d(),At&&At.d(),ye(st,ke),$t&&$t.d(),ke&&p(re),_t&&_t.d(ke),ke&&p(ee),Ue&&Ue.d(ke),ke&&p(ce),G(Ee,ke)}}}const bi="Terrain / Furniture";function Ay(r){const e=(r*100).toFixed(2);return e==="0.00"?"< 0.01%":e+"%"}const XM=r=>r.toUpperCase();function KM(r,e,n){var d,b;const t=jt("data");let{item:i}=e;const o=(d=i.deconstruct)!=null&&d.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.deconstruct.items=="string"?[{group:i.deconstruct.items}]:i.deconstruct.items}):[],l=(b=i.bash)!=null&&b.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.bash.items=="string"?[{group:i.bash.items}]:i.bash.items}):[],s=t.byType("construction").filter(k=>k.post_terrain===i.id),a=t.byType("furniture").filter(k=>{var y;return k.id&&((y=k.bash)==null?void 0:y.furn_set)===i.id}),f=new Map;for(const{seasons:k,id:y}of i.harvest_by_season??[])for(const E of k)f.set(E,y);const c=["winter","spring","summer","autumn"],u=[...f.entries()];return u.sort((k,y)=>c.indexOf(k[0])-c.indexOf(y[0])),r.$$set=k=>{"item"in k&&n(0,i=k.item)},[i,t,o,l,s,a,u]}class ZM extends ht{constructor(e){super(),pt(this,e,KM,JM,mt,{item:0},null,[-1,-1])}}function Mp(r,e,n){const t=r.slice();return t[7]=e[n],t}function Dp(r,e,n){const t=r.slice();return t[10]=e[n][0],t[11]=e[n][1],t}function Lp(r,e,n){const t=r.slice();return t[14]=e[n],t}function QM(r){let e,n,t,i,o,l=r[2],s=[];for(let f=0;f<l.length;f+=1)s[f]=Pp(Dp(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Books",{_context:"Skill"})}`,t=R(),i=m("dl");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c&4){l=f[2];let u;for(u=0;u<l.length;u+=1){const d=Dp(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Pp(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function Fp(r){let e,n,t;return n=new ge({props:{id:r[14].id,type:"item"}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Pp(r){let e,n,t=r[10]+"",i,o,l,s,a,f=r[11],c=[];for(let d=0;d<f.length;d+=1)c[d]=Fp(Lp(r,f,d));const u=d=>$(c[d],1,1,()=>{c[d]=null});return{c(){e=m("dt"),n=w("Level "),i=w(t),o=m("dd"),l=m("ul");for(let d=0;d<c.length;d+=1)c[d].c();s=R(),bt(e,"font-variant","tabular-nums")},m(d,b){h(d,e,b),_(e,n),_(e,i),h(d,o,b),_(o,l);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(l,null);_(o,s),a=!0},p(d,b){if(b&4){f=d[11];let k;for(k=0;k<f.length;k+=1){const y=Lp(d,f,k);c[k]?(c[k].p(y,b),g(c[k],1)):(c[k]=Fp(y),c[k].c(),g(c[k],1),c[k].m(l,null))}for(fe(),k=f.length;k<c.length;k+=1)u(k);ae()}},i(d){if(!a){for(let b=0;b<f.length;b+=1)g(c[b]);a=!0}},o(d){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)$(c[b]);a=!1},d(d){d&&p(e),d&&p(o),ye(c,d)}}}function xM(r){let e,n,t,i,o;return i=new Wt({props:{items:r[3],$$slots:{default:[e8,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Used By",{_context:"Skill"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&131073&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function e8(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"item",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function t8(r){let e,n,t,i,o=r[4],l=[];for(let a=0;a<o.length;a+=1)l[a]=jp(Mp(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("h1"),e.textContent=`${O.t("Practice Recipes",{_context:"Skill"})}`,n=R();for(let a=0;a<l.length;a+=1)l[a].c();t=ue()},m(a,f){h(a,e,f),h(a,n,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,t,f),i=!0},p(a,f){if(f&16){o=a[4];let c;for(c=0;c<o.length;c+=1){const u=Mp(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=jp(u),l[c].c(),g(l[c],1),l[c].m(t.parentNode,t))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a),a&&p(t)}}}function jp(r){let e,n;return e=new Of({props:{recipe:r[7],showResult:!1}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function n8(r){let e,n=O.t("Skill")+"",t,i,o=He(r[0])+"",l,s,a,f,c=Yt(r[0].description)+"",u,d,b,k,y,E,C=r[1].length&&QM(r),I=r[3].length&&xM(r),A=r[4].length&&t8(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("p"),u=w(c),d=R(),C&&C.c(),b=R(),I&&I.c(),k=R(),A&&A.c(),y=ue(),bt(f,"color","var(--cata-color-gray)")},m(B,L){h(B,e,L),_(e,t),_(e,i),_(e,l),h(B,s,L),h(B,a,L),_(a,f),_(f,u),h(B,d,L),C&&C.m(B,L),h(B,b,L),I&&I.m(B,L),h(B,k,L),A&&A.m(B,L),h(B,y,L),E=!0},p(B,[L]){(!E||L&1)&&o!==(o=He(B[0])+"")&&K(l,o),(!E||L&1)&&c!==(c=Yt(B[0].description)+"")&&K(u,c),B[1].length&&C.p(B,L),B[3].length&&I.p(B,L),B[4].length&&A.p(B,L)},i(B){E||(g(C),g(I),g(A),E=!0)},o(B){$(C),$(I),$(A),E=!1},d(B){B&&p(e),B&&p(s),B&&p(a),B&&p(d),C&&C.d(B),B&&p(b),I&&I.d(B),B&&p(k),A&&A.d(B),B&&p(y)}}}function i8(r,e,n){let{item:t}=e;const i=jt("data"),o=i.byType("item").filter(c=>c.id&&Zt("BOOK",c)&&(c.read_skill??c.skill)===t.id).sort((c,u)=>He(c).localeCompare(He(u))),l=new Map;for(const c of o)l.has(c.max_level??0)||l.set(c.max_level??0,[]),l.get(c.max_level??0).push(c);const s=[...l.entries()].sort((c,u)=>c[0]-u[0]);s.forEach(([,c])=>{c.sort((u,d)=>(u.required_level??0)-(d.required_level??0))});const a=i.byType("item").filter(c=>c.id&&Zt("GUN",c)&&c.skill===t.id);a.sort(an);const f=i.byType("practice").filter(c=>c.skill_used===t.id);return f.sort((c,u)=>{var d,b;return(((d=c.practice_data)==null?void 0:d.min_difficulty)??0)-(((b=u.practice_data)==null?void 0:b.min_difficulty)??0)}),r.$$set=c=>{"item"in c&&n(0,t=c.item)},[t,o,s,a,f]}class l8 extends ht{constructor(e){super(),pt(this,e,i8,n8,mt,{item:0})}}function Up(r,e,n){const t=r.slice();return t[5]=e[n],t}function Gp(r,e,n){const t=r.slice();return t[8]=e[n],t}function r8(r){let e,n,t=(r[0].default_skill_penalty??1)+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Default Skill Bonus",{_context:or})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=(o[0].default_skill_penalty??1)+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function o8(r){let e,n,t=r[0].default_fail_multiplier+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Default Fail Multiplier",{_context:or})}`,n=m("dd"),i=w(t),o=w("×")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p(l,s){s&1&&t!==(t=l[0].default_fail_multiplier+"")&&K(i,t)},d(l){l&&p(e),l&&p(n)}}}function qp(r){let e,n,t,i,o=r[0].required_proficiencies,l=[];for(let a=0;a<o.length;a+=1)l[a]=Yp(Gp(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Required Proficiencies",{_context:or})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f&1){o=a[0].required_proficiencies;let c;for(c=0;c<o.length;c+=1){const u=Gp(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=Yp(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function Yp(r){let e,n,t;return n=new ge({props:{id:r[8],type:"proficiency"}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[8]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function s8(r){let e,n,t,i,o;return i=new Wt({props:{items:r[4],$$slots:{default:[f8,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Required By",{_context:or})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&2049&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function f8(r){let e,n;return e=new ge({props:{type:"proficiency",id:r[0].id}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function a8(r){let e,n,t,i,o;return i=new Wt({props:{items:r[2],$$slots:{default:[c8,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Recipes",{_context:or})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&2049&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function c8(r){let e,n,t,i;return e=new Dt({props:{item:r[1].byId("item",r[0])}}),t=new ge({props:{type:"item",id:r[0]}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[1].byId("item",o[0])),e.$set(s);const a={};l&1&&(a.id=o[0]),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function u8(r){let e,n,t,i,o=r[3],l=[];for(let a=0;a<o.length;a+=1)l[a]=Hp(Up(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("h1"),e.textContent=`${O.t("Practice Recipes",{_context:"Skill"})}`,n=R();for(let a=0;a<l.length;a+=1)l[a].c();t=ue()},m(a,f){h(a,e,f),h(a,n,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,t,f),i=!0},p(a,f){if(f&8){o=a[3];let c;for(c=0;c<o.length;c+=1){const u=Up(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=Hp(u),l[c].c(),g(l[c],1),l[c].m(t.parentNode,t))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a),a&&p(t)}}}function Hp(r){let e,n;return e=new Of({props:{recipe:r[5],showResult:!1}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function _8(r){let e,n=O.t("Proficiency")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d=(r[0].can_learn?r[0].time_to_learn:"not learnable")+"",b,k,y,E=(r[0].default_time_multiplier??2)+"",C,I,A,B,L,D=Yt(r[0].description)+"",Y,z,W,H,ne,M;function X(V,ie){return V[0].default_fail_multiplier?o8:r8}let te=X(r),F=te(r),j=r[0].required_proficiencies&&qp(r),Z=r[4].length&&s8(r),x=r[2].length&&a8(r),Q=r[3].length&&u8(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("dl"),c=m("dt"),c.textContent=`${O.t("Time to Learn",{_context:or})}`,u=m("dd"),b=w(d),k=m("dt"),k.textContent=`${O.t("Default Time Multiplier",{_context:or})}`,y=m("dd"),C=w(E),I=w("×"),F.c(),A=ue(),j&&j.c(),B=R(),L=m("p"),Y=w(D),z=R(),Z&&Z.c(),W=R(),x&&x.c(),H=R(),Q&&Q.c(),ne=ue(),bt(L,"color","var(--cata-color-gray)")},m(V,ie){h(V,e,ie),_(e,t),_(e,i),_(e,l),h(V,s,ie),h(V,a,ie),_(a,f),_(f,c),_(f,u),_(u,b),_(f,k),_(f,y),_(y,C),_(y,I),F.m(f,null),_(f,A),j&&j.m(f,null),_(a,B),_(a,L),_(L,Y),h(V,z,ie),Z&&Z.m(V,ie),h(V,W,ie),x&&x.m(V,ie),h(V,H,ie),Q&&Q.m(V,ie),h(V,ne,ie),M=!0},p(V,[ie]){(!M||ie&1)&&o!==(o=He(V[0])+"")&&K(l,o),(!M||ie&1)&&d!==(d=(V[0].can_learn?V[0].time_to_learn:"not learnable")+"")&&K(b,d),(!M||ie&1)&&E!==(E=(V[0].default_time_multiplier??2)+"")&&K(C,E),te===(te=X(V))&&F?F.p(V,ie):(F.d(1),F=te(V),F&&(F.c(),F.m(f,A))),V[0].required_proficiencies?j?(j.p(V,ie),ie&1&&g(j,1)):(j=qp(V),j.c(),g(j,1),j.m(f,null)):j&&(fe(),$(j,1,1,()=>{j=null}),ae()),(!M||ie&1)&&D!==(D=Yt(V[0].description)+"")&&K(Y,D),V[4].length&&Z.p(V,ie),V[2].length&&x.p(V,ie),V[3].length&&Q.p(V,ie)},i(V){M||(g(j),g(Z),g(x),g(Q),M=!0)},o(V){$(j),$(Z),$(x),$(Q),M=!1},d(V){V&&p(e),V&&p(s),V&&p(a),F.d(),j&&j.d(),V&&p(z),Z&&Z.d(V),V&&p(W),x&&x.d(V),V&&p(H),Q&&Q.d(V),V&&p(ne)}}}const or="Proficiency";function d8(r,e,n){let{item:t}=e;const i=jt("data"),o=[...new Set(i.byType("recipe").filter(a=>(a.proficiencies??[]).some(f=>f.proficiency===t.id)).map(a=>a.result).filter(a=>!!a))].sort((a,f)=>He(i.byId("item",a)).localeCompare(He(i.byId("item",f)))),l=i.byType("practice").filter(a=>(a.proficiencies??[]).some(f=>f.proficiency===t.id)).sort((a,f)=>{var c,u;return(((c=a.practice_data)==null?void 0:c.min_difficulty)??0)-(((u=f.practice_data)==null?void 0:u.min_difficulty)??0)}),s=i.byType("proficiency").filter(a=>a.id&&(a.required_proficiencies??[]).some(f=>f===t.id));return r.$$set=a=>{"item"in a&&n(0,t=a.item)},[t,i,o,l,s]}class m8 extends ht{constructor(e){super(),pt(this,e,d8,_8,mt,{item:0})}}function zp(r){let e,n,t,i;return t=new Mr({props:{text:Yt(r[0].info)}}),{c(){e=m("section"),n=m("p"),q(t.$$.fragment)},m(o,l){h(o,e,l),_(e,n),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.text=Yt(o[0].info)),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),G(t)}}}function p8(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1].sort(an),$$slots:{default:[h8,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Items",{_comment:"Section heading"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function h8(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"item",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function g8(r){let e,n,t,i,o;return i=new Wt({props:{items:r[2].sort(an),$$slots:{default:[b8,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Vehicle Parts")}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function b8(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"vehicle_part",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function $8(r){let e,n,t,i,o;return i=new Wt({props:{items:r[4].sort(an),$$slots:{default:[y8,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Terrain")}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function y8(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"terrain",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function k8(r){let e,n,t,i,o;return i=new Wt({props:{items:r[3].sort(an),$$slots:{default:[v8,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Furniture")}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function v8(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"furniture",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function w8(r){let e,n,t,i,o;return i=new Wt({props:{items:r[5].sort(an),$$slots:{default:[E8,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Bionics")}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&129&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function E8(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"bionic",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function T8(r){let e,n=O.t("Flag",{_comment:"Section heading"})+"",t,i,o=r[0].id+"",l,s,a,f,c,u,d,b,k,y=r[0].info&&zp(r),E=r[1].length&&p8(r),C=r[2].length&&g8(r),I=r[4].length&&$8(r),A=r[3].length&&k8(r),B=r[5].length&&w8(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),y&&y.c(),a=R(),E&&E.c(),f=R(),C&&C.c(),c=R(),I&&I.c(),u=R(),A&&A.c(),d=R(),B&&B.c(),b=ue()},m(L,D){h(L,e,D),_(e,t),_(e,i),_(e,l),h(L,s,D),y&&y.m(L,D),h(L,a,D),E&&E.m(L,D),h(L,f,D),C&&C.m(L,D),h(L,c,D),I&&I.m(L,D),h(L,u,D),A&&A.m(L,D),h(L,d,D),B&&B.m(L,D),h(L,b,D),k=!0},p(L,[D]){(!k||D&1)&&o!==(o=L[0].id+"")&&K(l,o),L[0].info?y?(y.p(L,D),D&1&&g(y,1)):(y=zp(L),y.c(),g(y,1),y.m(a.parentNode,a)):y&&(fe(),$(y,1,1,()=>{y=null}),ae()),L[1].length&&E.p(L,D),L[2].length&&C.p(L,D),L[4].length&&I.p(L,D),L[3].length&&A.p(L,D),L[5].length&&B.p(L,D)},i(L){k||(g(y),g(E),g(C),g(I),g(A),g(B),k=!0)},o(L){$(y),$(E),$(C),$(I),$(A),$(B),k=!1},d(L){L&&p(e),L&&p(s),y&&y.d(L),L&&p(a),E&&E.d(L),L&&p(f),C&&C.d(L),L&&p(c),I&&I.d(L),L&&p(u),A&&A.d(L),L&&p(d),B&&B.d(L),L&&p(b)}}}function S8(r,e,n){let{item:t}=e,i=jt("data");const o=i.byType("item").filter(c=>{var u;return c.id&&((u=c.flags)==null?void 0:u.includes(t.id))}),l=i.byType("vehicle_part").filter(c=>{var u;return c.id&&((u=c.flags)==null?void 0:u.includes(t.id))}),s=i.byType("furniture").filter(c=>{var u;return c.id&&((u=c.flags)==null?void 0:u.includes(t.id))}),a=i.byType("terrain").filter(c=>{var u;return c.id&&((u=c.flags)==null?void 0:u.includes(t.id))}),f=i.byType("bionic").filter(c=>{var u,d,b;return c.id&&(((u=c.flags)==null?void 0:u.includes(t.id))||((d=c.active_flags)==null?void 0:d.includes(t.id))||((b=c.inactive_flags)==null?void 0:b.includes(t.id)))});return r.$$set=c=>{"item"in c&&n(0,t=c.item)},[t,o,l,s,a,f]}class C8 extends ht{constructor(e){super(),pt(this,e,S8,T8,mt,{item:0})}}function Wp(r,e,n){const t=r.slice();t[9]=e[n].components,t[10]=e[n].requirement,t[23]=e[n].fault_fix;const i=Object.entries(t[23].skills??{});return t[24]=i,t}function Vp(r,e,n){const t=r.slice();return t[27]=e[n],t}function Jp(r,e,n){const t=r.slice();return t[27]=e[n],t}function Xp(r,e,n){const t=r.slice();return t[14]=e[n],t}function Kp(r,e,n){const t=r.slice();return t[17]=e[n].id,t[18]=e[n].count,t[20]=n,t}function Zp(r,e,n){const t=r.slice();return t[17]=e[n][0],t[21]=e[n][1],t[20]=n,t}function Qp(r,e,n){const t=r.slice();return t[9]=e[n].components,t[10]=e[n].requirement,t[11]=e[n].mending_method,t}function xp(r,e,n){const t=r.slice();return t[14]=e[n],t}function e1(r,e,n){const t=r.slice();return t[17]=e[n].id,t[18]=e[n].count,t[20]=n,t}function t1(r,e,n){const t=r.slice();return t[17]=e[n].id,t[21]=e[n].level,t[20]=n,t}function n1(r,e,n){const t=r.slice();return t[36]=e[n],t}function i1(r){let e,n;return{c(){e=m("li"),n=m("em"),n.textContent=`${O.t("none")}`},m(t,i){h(t,e,i),_(e,n)},p:oe,d(t){t&&p(e)}}}function l1(r){let e,n,t=r[36]+"",i,o;return{c(){e=m("li"),n=m("abbr"),i=w(t),le(n,"title",o=r[4][r[36]])},m(l,s){h(l,e,s),_(e,n),_(n,i)},p(l,s){s[0]&1&&t!==(t=l[36]+"")&&K(i,t),s[0]&1&&o!==(o=l[4][l[36]])&&le(n,"title",o)},d(l){l&&p(e)}}}function I8(r){let e,n,t,i,o=r[3],l=[];for(let a=0;a<o.length;a+=1)l[a]=_1(Wp(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("h2"),e.textContent=`${O.t("Fixes",{_context:ur})}`,n=R();for(let a=0;a<l.length;a+=1)l[a].c();t=ue()},m(a,f){h(a,e,f),h(a,n,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,t,f),i=!0},p(a,f){if(f[0]&11){o=a[3];let c;for(c=0;c<o.length;c+=1){const u=Wp(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=_1(u),l[c].c(),g(l[c],1),l[c].m(t.parentNode,t))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a),a&&p(t)}}}function O8(r){let e,n,t,i,o=r[2],l=[];for(let a=0;a<o.length;a+=1)l[a]=g1(Qp(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("h2"),e.textContent=`${O.t("Mending Methods",{_context:ur})}`,n=R();for(let a=0;a<l.length;a+=1)l[a].c();t=ue()},m(a,f){h(a,e,f),h(a,n,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,t,f),i=!0},p(a,f){if(f[0]&6){o=a[2];let c;for(c=0;c<o.length;c+=1){const u=Qp(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=g1(u),l[c].c(),g(l[c],1),l[c].m(t.parentNode,t))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a),a&&p(t)}}}function r1(r){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function R8(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function A8(r){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function o1(r){let e,n,t=r[21]+"",i,o,l,s;e=new ge({props:{type:"skill",id:r[17]}});function a(u,d){if(u[20]===u[24].length-2)return A8;if(u[20]!==u[24].length-1)return R8}let f=a(r),c=f&&f(r);return{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),c&&c.c(),l=ue()},m(u,d){U(e,u,d),h(u,n,d),h(u,i,d),h(u,o,d),c&&c.m(u,d),h(u,l,d),s=!0},p:oe,i(u){s||(g(e.$$.fragment,u),s=!0)},o(u){$(e.$$.fragment,u),s=!1},d(u){G(e,u),u&&p(n),u&&p(i),u&&p(o),c&&c.d(u),u&&p(l)}}}function N8(r){let e,n,t,i,o,l=r[9],s=[];for(let f=0;f<l.length;f+=1)s[f]=f1(Xp(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Components",{_context:"Requirement"})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&10){l=f[9];let u;for(u=0;u<l.length;u+=1){const d=Xp(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=f1(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function B8(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function s1(r){let e,n,t,i=r[20]!==0&&B8();return n=new ge({props:{id:r[17],count:r[18],type:"item"}}),{c(){i&&i.c(),e=R(),q(n.$$.fragment)},m(o,l){i&&i.m(o,l),h(o,e,l),U(n,o,l),t=!0},p(o,l){o[20]!==0&&i.p(o,l)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),G(n,o)}}}function f1(r){let e,n,t,i=r[14].map(r[7]),o=[];for(let s=0;s<i.length;s+=1)o[s]=s1(Kp(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=R()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);_(e,n),t=!0},p(s,a){if(a[0]&10){i=s[14].map(s[7]);let f;for(f=0;f<i.length;f+=1){const c=Kp(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=s1(c),o[f].c(),g(o[f],1),o[f].m(e,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s)}}}function M8(r){let e,n,t,i,o,l=r[23].faults_added,s=[];for(let f=0;f<l.length;f+=1)s[f]=a1(Jp(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Adds Fault",{_context:ur})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated and")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&8){l=f[23].faults_added;let u;for(u=0;u<l.length;u+=1){const d=Jp(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=a1(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function a1(r){let e,n,t;return n=new ge({props:{type:"fault",id:r[27]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function c1(r){let e,n,t,i,o=r[23].faults_removed.filter(r[8]),l=[];for(let a=0;a<o.length;a+=1)l[a]=u1(Vp(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Also Fixes",{_context:ur})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","comma-separated and")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f[0]&9){o=a[23].faults_removed.filter(a[8]);let c;for(c=0;c<o.length;c+=1){const u=Vp(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=u1(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function u1(r){let e,n,t;return n=new ge({props:{type:"fault",id:r[27]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[27]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function _1(r){var j,Z;let e,n,t=He(r[23])+"",i,o,l,s,a,f,c,u,d=Go(r[23].time)+"",b,k,y,E,C=((j=r[23].faults_removed)==null?void 0:j.length)&&r[23].faults_removed.some(r[5]),I,A,B,L,D,Y,z,W=r[24],H=[];for(let x=0;x<W.length;x+=1)H[x]=o1(Zp(r,W,x));const ne=x=>$(H[x],1,1,()=>{H[x]=null});let M=null;W.length||(M=r1()),k=new co({props:{requirement:r[10]}});let X=r[9].length&&N8(r),te=((Z=r[23].faults_added)==null?void 0:Z.length)&&M8(r),F=C&&c1(r);return D=new us({props:{obj:r[23],buildNumber:r[1].build_number}}),{c(){e=m("section"),n=m("h1"),i=w(t),o=R(),l=m("dl"),s=m("dt"),s.textContent=`${O.t("Skills Used",{_context:ur})}`,a=m("dd");for(let x=0;x<H.length;x+=1)H[x].c();M&&M.c(),f=R(),c=m("dt"),c.textContent=`${O.t("Time to Complete")}`,u=m("dd"),b=w(d),q(k.$$.fragment),X&&X.c(),y=ue(),te&&te.c(),E=ue(),F&&F.c(),I=R(),A=m("details"),B=m("summary"),B.textContent="Fault JSON",L=R(),q(D.$$.fragment),Y=R()},m(x,Q){h(x,e,Q),_(e,n),_(n,i),_(e,o),_(e,l),_(l,s),_(l,a);for(let V=0;V<H.length;V+=1)H[V]&&H[V].m(a,null);M&&M.m(a,null),_(a,f),_(l,c),_(l,u),_(u,b),U(k,l,null),X&&X.m(l,null),_(l,y),te&&te.m(l,null),_(l,E),F&&F.m(l,null),_(e,I),_(e,A),_(A,B),_(A,L),U(D,A,null),_(e,Y),z=!0},p(x,Q){var V,ie;if(Q[0]&8){W=x[24];let _e;for(_e=0;_e<W.length;_e+=1){const re=Zp(x,W,_e);H[_e]?(H[_e].p(re,Q),g(H[_e],1)):(H[_e]=o1(re),H[_e].c(),g(H[_e],1),H[_e].m(a,f))}for(fe(),_e=W.length;_e<H.length;_e+=1)ne(_e);ae(),!W.length&&M?M.p(x,Q):W.length?M&&(M.d(1),M=null):(M=r1(),M.c(),M.m(a,f))}x[9].length&&X.p(x,Q),(V=x[23].faults_added)!=null&&V.length&&te.p(x,Q),Q[0]&1&&(C=((ie=x[23].faults_removed)==null?void 0:ie.length)&&x[23].faults_removed.some(x[5])),C?F?(F.p(x,Q),Q[0]&1&&g(F,1)):(F=c1(x),F.c(),g(F,1),F.m(l,null)):F&&(fe(),$(F,1,1,()=>{F=null}),ae())},i(x){if(!z){for(let Q=0;Q<W.length;Q+=1)g(H[Q]);g(k.$$.fragment,x),g(X),g(te),g(F),g(D.$$.fragment,x),z=!0}},o(x){H=H.filter(Boolean);for(let Q=0;Q<H.length;Q+=1)$(H[Q]);$(k.$$.fragment,x),$(X),$(te),$(F),$(D.$$.fragment,x),z=!1},d(x){x&&p(e),ye(H,x),M&&M.d(),G(k),X&&X.d(),te&&te.d(),F&&F.d(),G(D)}}}function d1(r){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function D8(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function L8(r){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function m1(r){let e,n,t=r[21]+"",i,o,l,s;e=new ge({props:{type:"skill",id:r[17]}});function a(u,d){if(u[20]===u[11].skills.length-2)return L8;if(u[20]!==u[11].skills.length-1)return D8}let f=a(r),c=f&&f(r);return{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),c&&c.c(),l=ue()},m(u,d){U(e,u,d),h(u,n,d),h(u,i,d),h(u,o,d),c&&c.m(u,d),h(u,l,d),s=!0},p:oe,i(u){s||(g(e.$$.fragment,u),s=!0)},o(u){$(e.$$.fragment,u),s=!1},d(u){G(e,u),u&&p(n),u&&p(i),u&&p(o),c&&c.d(u),u&&p(l)}}}function F8(r){let e,n,t,i,o,l=r[9],s=[];for(let f=0;f<l.length;f+=1)s[f]=h1(xp(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Components",{_context:"Requirement"})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&6){l=f[9];let u;for(u=0;u<l.length;u+=1){const d=xp(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=h1(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function P8(r){let e=en.__(" OR ")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function p1(r){let e,n,t,i=r[20]!==0&&P8();return n=new ge({props:{id:r[17],count:r[18],type:"item"}}),{c(){i&&i.c(),e=R(),q(n.$$.fragment)},m(o,l){i&&i.m(o,l),h(o,e,l),U(n,o,l),t=!0},p(o,l){o[20]!==0&&i.p(o,l)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),G(n,o)}}}function h1(r){let e,n,t,i=r[14].map(r[6]),o=[];for(let s=0;s<i.length;s+=1)o[s]=p1(e1(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=R()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);_(e,n),t=!0},p(s,a){if(a[0]&6){i=s[14].map(s[6]);let f;for(f=0;f<i.length;f+=1){const c=e1(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=p1(c),o[f].c(),g(o[f],1),o[f].m(e,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s)}}}function j8(r){let e,n,t,i;return t=new ge({props:{type:"fault",id:r[11].turns_into}}),{c(){e=m("dt"),e.textContent=`${O.t("Turns Into",{_context:ur})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p:oe,i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function g1(r){let e,n,t=He(r[11])+"",i,o,l,s,a,f,c,u,d=r[11].time+"",b,k,y,E,C,I=r[11].skills,A=[];for(let z=0;z<I.length;z+=1)A[z]=m1(t1(r,I,z));const B=z=>$(A[z],1,1,()=>{A[z]=null});let L=null;I.length||(L=d1()),k=new co({props:{requirement:r[10]}});let D=r[9].length&&F8(r),Y=r[11].turns_into&&j8(r);return{c(){e=m("section"),n=m("h1"),i=w(t),o=R(),l=m("dl"),s=m("dt"),s.textContent=`${O.t("Skills Used",{_context:ur})}`,a=m("dd");for(let z=0;z<A.length;z+=1)A[z].c();L&&L.c(),f=R(),c=m("dt"),c.textContent=`${O.t("Time to Complete")}`,u=m("dd"),b=w(d),q(k.$$.fragment),D&&D.c(),y=ue(),Y&&Y.c(),E=R()},m(z,W){h(z,e,W),_(e,n),_(n,i),_(e,o),_(e,l),_(l,s),_(l,a);for(let H=0;H<A.length;H+=1)A[H]&&A[H].m(a,null);L&&L.m(a,null),_(a,f),_(l,c),_(l,u),_(u,b),U(k,l,null),D&&D.m(l,null),_(l,y),Y&&Y.m(l,null),_(e,E),C=!0},p(z,W){if(W[0]&4){I=z[11].skills;let H;for(H=0;H<I.length;H+=1){const ne=t1(z,I,H);A[H]?(A[H].p(ne,W),g(A[H],1)):(A[H]=m1(ne),A[H].c(),g(A[H],1),A[H].m(a,f))}for(fe(),H=I.length;H<A.length;H+=1)B(H);ae(),!I.length&&L?L.p(z,W):I.length?L&&(L.d(1),L=null):(L=d1(),L.c(),L.m(a,f))}z[9].length&&D.p(z,W),z[11].turns_into&&Y.p(z,W)},i(z){if(!C){for(let W=0;W<I.length;W+=1)g(A[W]);g(k.$$.fragment,z),g(D),g(Y),C=!0}},o(z){A=A.filter(Boolean);for(let W=0;W<A.length;W+=1)$(A[W]);$(k.$$.fragment,z),$(D),$(Y),C=!1},d(z){z&&p(e),ye(A,z),L&&L.d(),G(k),D&&D.d(),Y&&Y.d()}}}function U8(r){let e,n=O.t("Fault")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b,k,y=Yt(r[0].description)+"",E,C,I,A,B,L,D=r[0].flags??[],Y=[];for(let M=0;M<D.length;M+=1)Y[M]=l1(n1(r,D,M));let z=null;D.length||(z=i1());const W=[O8,I8],H=[];function ne(M,X){return M[2].length?0:M[3].length?1:-1}return~(I=ne(r))&&(A=H[I]=W[I](r)),{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("dl"),c=m("dt"),c.textContent=`${O.t("Flags")}`,u=m("dd"),d=m("ul");for(let M=0;M<Y.length;M+=1)Y[M].c();z&&z.c(),b=R(),k=m("p"),E=w(y),C=R(),A&&A.c(),B=ue(),le(d,"class","comma-separated"),bt(k,"color","var(--cata-color-gray)")},m(M,X){h(M,e,X),_(e,t),_(e,i),_(e,l),h(M,s,X),h(M,a,X),_(a,f),_(f,c),_(f,u),_(u,d);for(let te=0;te<Y.length;te+=1)Y[te]&&Y[te].m(d,null);z&&z.m(d,null),_(a,b),_(a,k),_(k,E),h(M,C,X),~I&&H[I].m(M,X),h(M,B,X),L=!0},p(M,X){if((!L||X[0]&1)&&o!==(o=He(M[0])+"")&&K(l,o),X[0]&17){D=M[0].flags??[];let te;for(te=0;te<D.length;te+=1){const F=n1(M,D,te);Y[te]?Y[te].p(F,X):(Y[te]=l1(F),Y[te].c(),Y[te].m(d,null))}for(;te<Y.length;te+=1)Y[te].d(1);Y.length=D.length,!D.length&&z?z.p(M,X):D.length?z&&(z.d(1),z=null):(z=i1(),z.c(),z.m(d,null))}(!L||X[0]&1)&&y!==(y=Yt(M[0].description)+"")&&K(E,y),A&&A.p(M,X)},i(M){L||(g(A),L=!0)},o(M){$(A),L=!1},d(M){M&&p(e),M&&p(s),M&&p(a),ye(Y,M),z&&z.d(),M&&p(C),~I&&H[I].d(M),M&&p(B)}}}const ur="Fault";function G8(r,e,n){const t=jt("data");let{item:i}=e;const o=(i.mending_methods??[]).map(d=>{const b=t.resolveRequirementList(d.requirements),k=t.normalizeRequirementUsing(b),y=t.flattenRequirement(k.components,E=>E.components);return{mending_method:d,components:y,requirement:k}}),l=t.byType("fault_fix").filter(d=>{var b;return(b=d.faults_removed)==null?void 0:b.includes(i.id)}).map(d=>{const b=t.resolveRequirementList(d.requirements),k=t.normalizeRequirementUsing(b),y=t.flattenRequirement(k.components,E=>E.components);return{fault_fix:d,components:y,requirement:k}}),s={NO_ALTERNATOR_CHARGE:"The alternator connected to this engine does not work.",BAD_COLD_START:"The engine starts as if the temperature was 20 F colder. Does not stack with multiples of itself.",IMMOBILIZER:"Prevents engine from starting and makes it beep.",BAD_FUEL_PUMP:"Prevents engine from starting and makes it stutter.",BAD_STARTER:"Prevents engine from starting and makes click noise.",DOUBLE_FUEL_CONSUMPTION:"Doubles fuel consumption of the engine. Does not stack with multiples of itself.",EXTRA_EXHAUST:"Makes the engine emit more exhaust smoke. Does not stack with multiples of itself.",REDUCE_ENG_POWER:"Multiplies engine power by 0.6. Does not stack with multiples of itself.",ENG_BACKFIRE:"Causes the engine to backfire as if it had zero hp.",BLACKPOWDER_FOULING_DAMAGE:"Causes the gun to take random acid damage over time.",NO_DIRTYING:"Prevents the gun from receiving `fault_gun_dirt` fault.",JAMMED_GUN:"Stops burst fire. Adds delay on next shot.",UNLUBRICATED:"Randomly causes screeching noise when firing and applies damage when that happens.",BAD_CYCLING:"One in 16 chance that the gun fails to cycle when fired resulting in `fault_gun_chamber_spent` fault."},a=d=>d!==i.id,f=d=>({...d,item:t.byId("item",d.id)}),c=d=>({...d,item:t.byId("item",d.id)}),u=d=>d!==i.id;return r.$$set=d=>{"item"in d&&n(0,i=d.item)},[i,t,o,l,s,a,f,c,u]}class q8 extends ht{constructor(e){super(),pt(this,e,G8,U8,mt,{item:0},null,[-1,-1])}}function b1(r,e,n){const t=r.slice();return t[10]=e[n],t}function $1(r,e,n){const t=r.slice();return t[13]=e[n],t[15]=n,t}function y1(r,e,n){const t=r.slice();return t[13]=e[n],t[15]=n,t}function Y8(r){let e,n,t,i;return t=new ge({props:{id:r[1].id,type:"mutation_category"}}),{c(){e=m("dt"),e.textContent=`${O.t("Mutation Category",{_context:Zi})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p:oe,i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function k1(r){let e,n,t,i,o=r[3],l=[];for(let s=0;s<o.length;s+=1)l[s]=v1(y1(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Excess",{_context:Zi})}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a&9){o=s[3];let f;for(f=0;f<o.length;f+=1){const c=y1(s,o,f);l[f]?l[f].p(c,a):(l[f]=v1(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function v1(r){let e,n=Yt(r[13])+"",t,i,o=r[0].disease_excess[r[15]][0]+"",l,s,a=r[0].disease_excess[r[15]][1]+"",f,c;return{c(){e=m("li"),t=w(n),i=w(" ("),l=w(o),s=w("→"),f=w(a),c=w(")")},m(u,d){h(u,e,d),_(e,t),_(e,i),_(e,l),_(e,s),_(e,f),_(e,c)},p(u,d){d&1&&o!==(o=u[0].disease_excess[u[15]][0]+"")&&K(l,o),d&1&&a!==(a=u[0].disease_excess[u[15]][1]+"")&&K(f,a)},d(u){u&&p(e)}}}function w1(r){let e,n,t,i,o=r[4],l=[];for(let s=0;s<o.length;s+=1)l[s]=E1($1(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Deficiency",{_context:Zi})}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a&17){o=s[4];let f;for(f=0;f<o.length;f+=1){const c=$1(s,o,f);l[f]?l[f].p(c,a):(l[f]=E1(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function E1(r){let e,n=Yt(r[13])+"",t,i,o=r[0].disease[r[15]][0]+"",l,s,a=r[0].disease[r[15]][1]+"",f,c;return{c(){e=m("li"),t=w(n),i=w(" ("),l=w(o),s=w("→"),f=w(a),c=w(")")},m(u,d){h(u,e,d),_(e,t),_(e,i),_(e,l),_(e,s),_(e,f),_(e,c)},p(u,d){d&1&&o!==(o=u[0].disease[u[15]][0]+"")&&K(l,o),d&1&&a!==(a=u[0].disease[u[15]][1]+"")&&K(f,a)},d(u){u&&p(e)}}}function H8(r){let e,n,t,i=(typeof r[0].rate=="string"?r[0].rate.replace(/-/,""):-(r[0].rate??0))+"",o,l;return{c(){e=m("dt"),e.textContent=`${O.t("Generation Rate",{_context:Zi})}`,n=m("dd"),t=w("1 / "),o=w(i),l=R()},m(s,a){h(s,e,a),h(s,n,a),_(n,t),_(n,o),_(n,l)},p(s,a){a&1&&i!==(i=(typeof s[0].rate=="string"?s[0].rate.replace(/-/,""):-(s[0].rate??0))+"")&&K(o,i)},d(s){s&&p(e),s&&p(n)}}}function z8(r){let e,n,t,i=(r[0].rate??"0 m")+"",o;return{c(){e=m("dt"),e.textContent=`${O.t("Decay Rate",{_context:Zi})}`,n=m("dd"),t=w("–1 / "),o=w(i)},m(l,s){h(l,e,s),h(l,n,s),_(n,t),_(n,o)},p(l,s){s&1&&i!==(i=(l[0].rate??"0 m")+"")&&K(o,i)},d(l){l&&p(e),l&&p(n)}}}function T1(r){let e,n,t,i,o=r[0].decays_into,l=[];for(let a=0;a<o.length;a+=1)l[a]=C1(b1(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Decays Into",{_context:Zi})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","comma-separated and")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f&1){o=a[0].decays_into;let c;for(c=0;c<o.length;c+=1){const u=b1(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=C1(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function S1(r){let e,n=r[10][1]+"",t;return{c(){e=w("×"),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&1&&n!==(n=i[10][1]+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function C1(r){let e,n,t;n=new ge({props:{id:r[10][0],type:"vitamin"}});let i=r[10][1]!==1&&S1(r);return{c(){e=m("li"),q(n.$$.fragment),i&&i.c()},m(o,l){h(o,e,l),U(n,e,null),i&&i.m(e,null),t=!0},p(o,l){const s={};l&1&&(s.id=o[10][0]),n.$set(s),o[10][1]!==1?i?i.p(o,l):(i=S1(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){o&&p(e),G(n),i&&i.d()}}}function W8(r){let e,n,t,i,o;return i=new Wt({props:{items:r[2],$$slots:{default:[V8,({item:l})=>({9:l}),({item:l})=>l?512:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Comestibles",{_context:Zi})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&131585&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function V8(r){let e,n,t=r[9].pct.toFixed(2)+"",i,o=r[0].vit_type==="counter"||r[0].vit_type==="drug"?" U":"% RDA",l,s,a;return e=new ge({props:{id:r[9].comestible.id,type:"item"}}),{c(){q(e.$$.fragment),n=w(" ("),i=w(t),l=w(o),s=w(")")},m(f,c){U(e,f,c),h(f,n,c),h(f,i,c),h(f,l,c),h(f,s,c),a=!0},p(f,c){const u={};c&512&&(u.id=f[9].comestible.id),e.$set(u),(!a||c&512)&&t!==(t=f[9].pct.toFixed(2)+"")&&K(i,t),(!a||c&1)&&o!==(o=f[0].vit_type==="counter"||f[0].vit_type==="drug"?" U":"% RDA")&&K(l,o)},i(f){a||(g(e.$$.fragment,f),a=!0)},o(f){$(e.$$.fragment,f),a=!1},d(f){G(e,f),f&&p(n),f&&p(i),f&&p(l),f&&p(s)}}}function J8(r){var _e,re,ee;let e,n=O.t("Vitamin")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d=r[0].vit_type+"",b,k,y,E,C,I=(r[0].min??0)+"",A,B,L,D=(r[0].max??0)+"",Y,z,W,H,ne,M,X,te=r[1]&&Y8(r),F=r[0].excess&&((_e=r[0].disease_excess)==null?void 0:_e.length)&&k1(r),j=r[0].deficiency&&((re=r[0].disease)==null?void 0:re.length)&&w1(r);function Z(ce,Ee){if(Ee&1&&(z=null),Ee&1&&(W=null),z==null&&(z=bl(ce[0].rate??"0 m")>0),z)return z8;if(W==null&&(W=bl(ce[0].rate??"0 m")<0),W)return H8}let x=Z(r,-1),Q=x&&x(r),V=((ee=r[0].decays_into)==null?void 0:ee.length)&&T1(r),ie=r[2].length&&W8(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("dl"),c=m("dt"),c.textContent=`${O.t("Type",{_context:Zi})}`,u=m("dd"),b=w(d),te&&te.c(),k=ue(),F&&F.c(),y=ue(),j&&j.c(),E=m("dt"),E.textContent=`${O.t("Min",{_context:Zi})}`,C=m("dd"),A=w(I),B=m("dt"),B.textContent=`${O.t("Max",{_context:Zi})}`,L=m("dd"),Y=w(D),Q&&Q.c(),H=ue(),V&&V.c(),ne=R(),ie&&ie.c(),M=ue()},m(ce,Ee){h(ce,e,Ee),_(e,t),_(e,i),_(e,l),h(ce,s,Ee),h(ce,a,Ee),_(a,f),_(f,c),_(f,u),_(u,b),te&&te.m(f,null),_(f,k),F&&F.m(f,null),_(f,y),j&&j.m(f,null),_(f,E),_(f,C),_(C,A),_(f,B),_(f,L),_(L,Y),Q&&Q.m(f,null),_(f,H),V&&V.m(f,null),h(ce,ne,Ee),ie&&ie.m(ce,Ee),h(ce,M,Ee),X=!0},p(ce,[Ee]){var we,De,ze;(!X||Ee&1)&&o!==(o=He(ce[0])+"")&&K(l,o),(!X||Ee&1)&&d!==(d=ce[0].vit_type+"")&&K(b,d),ce[1]&&te.p(ce,Ee),ce[0].excess&&((we=ce[0].disease_excess)!=null&&we.length)?F?F.p(ce,Ee):(F=k1(ce),F.c(),F.m(f,y)):F&&(F.d(1),F=null),ce[0].deficiency&&((De=ce[0].disease)!=null&&De.length)?j?j.p(ce,Ee):(j=w1(ce),j.c(),j.m(f,E)):j&&(j.d(1),j=null),(!X||Ee&1)&&I!==(I=(ce[0].min??0)+"")&&K(A,I),(!X||Ee&1)&&D!==(D=(ce[0].max??0)+"")&&K(Y,D),x===(x=Z(ce,Ee))&&Q?Q.p(ce,Ee):(Q&&Q.d(1),Q=x&&x(ce),Q&&(Q.c(),Q.m(f,H))),(ze=ce[0].decays_into)!=null&&ze.length?V?(V.p(ce,Ee),Ee&1&&g(V,1)):(V=T1(ce),V.c(),g(V,1),V.m(f,null)):V&&(fe(),$(V,1,1,()=>{V=null}),ae()),ce[2].length&&ie.p(ce,Ee)},i(ce){X||(g(te),g(V),g(ie),X=!0)},o(ce){$(te),$(V),$(ie),X=!1},d(ce){ce&&p(e),ce&&p(s),ce&&p(a),te&&te.d(),F&&F.d(),j&&j.d(),Q&&Q.d(),V&&V.d(),ce&&p(ne),ie&&ie.d(ce),ce&&p(M)}}}const Zi="Vitamin";function X8(r,e,n){let{item:t}=e;const i=jt("data"),o=i.byType("mutation_category").find(d=>d.vitamin===t.id),l=24*60*60/bl(t.rate),s=i.byType("item").filter(d=>Zt("COMESTIBLE",d)&&d.id&&(d.vitamins??[]).some(b=>b[0]===t.id)).map(d=>{const k=d.vitamins.find(E=>E[0]===t.id)[1],y=typeof k!="number"?t.weight_per_unit?Qi(k??"0 g")/Qi(t.weight_per_unit)/l*100:0:k;return{comestible:d,pct:y}}),a=i.byType("item").filter(d=>Nr(d.use_action).some(b=>b.type==="consume_drug"&&(b.vitamins??[]).some(k=>k[0]===t.id))).map(d=>({comestible:d,pct:Nr(d.use_action).filter(b=>b.type==="consume_drug").map(b=>b.vitamins??[]).flat().find(b=>b[0]===t.id)[1]})),f=s.concat(a);f.sort((d,b)=>b.pct-d.pct===0?He(d.comestible).localeCompare(He(b.comestible)):b.pct-d.pct);const c=t.excess?i.byId("effect_type",t.excess).name??[]:[],u=t.deficiency?i.byId("effect_type",t.deficiency).name??[]:[];return r.$$set=d=>{"item"in d&&n(0,t=d.item)},[t,o,f,c,u]}class K8 extends ht{constructor(e){super(),pt(this,e,X8,J8,mt,{item:0})}}function I1(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function O1(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function R1(r,e,n){const t=r.slice();return t[6]=e[n][0],t[7]=e[n][1],t[9]=n,t}function A1(r,e,n){const t=r.slice();return t[12]=e[n],t}function N1(r,e,n){const t=r.slice();return t[15]=e[n].id,t[16]=e[n].count,t[17]=e[n].prob,t}function B1(r,e,n){const t=r.slice();return t[15]=e[n].id,t}function M1(r,e,n){const t=r.slice();return t[22]=e[n][0],t[7]=e[n][1],t}function D1(r,e,n){const t=r.slice();return t[25]=e[n],t}function Z8(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[0].fuel_type}}),{c(){e=m("dt"),e.textContent=`${O.t("Charge",{_context:Sn})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].fuel_type),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function Q8(r){let e,n,t,i,o,l=r[0].fuel_options,s=[];for(let f=0;f<l.length;f+=1)s[f]=L1(D1(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Charge",{_context:Sn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated or")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&1){l=f[0].fuel_options;let u;for(u=0;u<l.length;u+=1){const d=D1(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=L1(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function L1(r){let e,n,t;return n=new ge({props:{type:"item",id:r[25]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[25]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function F1(r){let e,n,t=(r[0].contact_area??1)+"",i,o,l,s,a=(r[0].rolling_resistance??1)+"",f,c=r[0].wheel_type&&P1(r);return{c(){c&&c.c(),e=m("dt"),e.textContent="Contact Area",n=m("dd"),i=w(t),o=w(" cm²"),l=m("dt"),l.textContent="Rolling Resistance",s=m("dd"),f=w(a)},m(u,d){c&&c.m(u,d),h(u,e,d),h(u,n,d),_(n,i),_(n,o),h(u,l,d),h(u,s,d),_(s,f)},p(u,d){u[0].wheel_type?c?c.p(u,d):(c=P1(u),c.c(),c.m(e.parentNode,e)):c&&(c.d(1),c=null),d&1&&t!==(t=(u[0].contact_area??1)+"")&&K(i,t),d&1&&a!==(a=(u[0].rolling_resistance??1)+"")&&K(f,a)},d(u){c&&c.d(u),u&&p(e),u&&p(n),u&&p(l),u&&p(s)}}}function P1(r){let e,n,t=r[0].wheel_type+"",i;return{c(){e=m("dt"),e.textContent="Wheel Type",n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].wheel_type+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function j1(r){let e,n,t=$l(r[0].size)+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Capacity",{_context:Sn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=$l(o[0].size)+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function U1(r){let e,n,t=$l(r[0].folded_volume)+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Folded Volume",{_context:Sn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=$l(o[0].folded_volume)+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function G1(r){let e,n,t,i,o,l=r[0].qualities,s=[];for(let f=0;f<l.length;f+=1)s[f]=q1(M1(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Qualities",{_context:Sn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","no-bullets")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&1){l=f[0].qualities;let u;for(u=0;u<l.length;u+=1){const d=M1(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=q1(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function q1(r){let e,n,t,i=(r[7]??1)+"",o,l,s,a,f;return s=new ge({props:{type:"tool_quality",id:r[22]}}),{c(){e=m("li"),n=w("Has level "),t=m("strong"),o=w(i),l=R(),q(s.$$.fragment),a=w(` quality.
            `)},m(c,u){h(c,e,u),_(e,n),_(e,t),_(t,o),_(t,l),U(s,t,null),_(e,a),f=!0},p(c,u){(!f||u&1)&&i!==(i=(c[7]??1)+"")&&K(o,i);const d={};u&1&&(d.id=c[22]),s.$set(d)},i(c){f||(g(s.$$.fragment,c),f=!0)},o(c){$(s.$$.fragment,c),f=!1},d(c){c&&p(e),G(s)}}}function Y1(r){let e,n,t=r[0].comfort+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Comfort",{_context:Sn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].comfort+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function H1(r){let e,n,t=r[0].floor_bedding_warmth+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Bedding Warmth",{_context:Sn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].floor_bedding_warmth+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function z1(r){let e,n,t=r[0].epower+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Electric Power",{_context:Sn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&1&&t!==(t=o[0].epower+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function W1(r){let e,n,t=r[0].energy_consumption+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Energy Consumption",{_context:Sn})}`,n=m("dd"),i=w(t),o=w(" / sec")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p(l,s){s&1&&t!==(t=l[0].energy_consumption+"")&&K(i,t)},d(l){l&&p(e),l&&p(n)}}}function V1(r){let e,n,t=r[0].power+"",i,o,l,s=r[0].muscle_power_factor&&J1(r);return{c(){e=m("dt"),e.textContent=`${O.t("Power",{_context:Sn})}`,n=m("dd"),i=w(t),o=R(),s&&s.c(),l=R()},m(a,f){h(a,e,f),h(a,n,f),_(n,i),_(n,o),s&&s.m(n,null),_(n,l)},p(a,f){f&1&&t!==(t=a[0].power+"")&&K(i,t),a[0].muscle_power_factor?s?s.p(a,f):(s=J1(a),s.c(),s.m(n,l)):s&&(s.d(1),s=null)},d(a){a&&p(e),a&&p(n),s&&s.d()}}}function J1(r){let e,n=r[0].muscle_power_factor+"",t;return{c(){e=w("+ (str − 8) × "),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&1&&n!==(n=i[0].muscle_power_factor+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function X1(r){let e,n=r[1](r[0])+"",t,i,o=r[0].bonus+"",l;return{c(){e=m("dt"),t=w(n),i=m("dd"),l=w(o)},m(s,a){h(s,e,a),_(e,t),h(s,i,a),_(i,l)},p(s,a){a&1&&n!==(n=s[1](s[0])+"")&&K(t,n),a&1&&o!==(o=s[0].bonus+"")&&K(l,o)},d(s){s&&p(e),s&&p(i)}}}function K1(r){let e,n,t,i,o,l=r[0].pseudo_tools,s=[];for(let f=0;f<l.length;f+=1)s[f]=Z1(B1(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Provides",{_context:Sn,_comment:"List of tools that the vehicle part acts as"})} 
      `,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&1){l=f[0].pseudo_tools;let u;for(u=0;u<l.length;u+=1){const d=B1(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Z1(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Z1(r){let e,n,t;return n=new ge({props:{type:"item",id:r[15]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[15]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function x8(r){let e,n,t,i,o,l=r[3],s=[];for(let f=0;f<l.length;f+=1)s[f]=Q1(N1(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Breaks Into",{_context:Sn,_comment:"List of possible parts obtained by bashing the vehicle part"})} 
      `,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&8){l=f[3];let u;for(u=0;u<l.length;u+=1){const d=N1(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Q1(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function eD(r){let e,n=_y(r[17])+"",t,i;return{c(){e=w("("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function Q1(r){let e,n,t;n=new ge({props:{id:r[15],count:r[16],type:"item"}});let i=r[17]!==1&&eD(r);return{c(){e=m("li"),q(n.$$.fragment),i&&i.c()},m(o,l){h(o,e,l),U(n,e,null),i&&i.m(e,null),t=!0},p(o,l){o[17]!==1&&i.p(o,l)},i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){o&&p(e),G(n),i&&i.d()}}}function x1(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function eh(r){let e,n,t;return n=new ge({props:{type:"json_flag",id:r[12]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[12]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function th(r){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function tD(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function nD(r){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function nh(r){let e,n,t=r[7]+"",i,o,l,s;e=new ge({props:{type:"skill",id:r[6]}});function a(u,d){var b,k,y,E,C,I;if(u[9]+2===((y=(k=(b=u[0].requirements)==null?void 0:b.install)==null?void 0:k.skills)==null?void 0:y.length))return nD;if(u[9]+1!==((I=(C=(E=u[0].requirements)==null?void 0:E.install)==null?void 0:C.skills)==null?void 0:I.length))return tD}let f=a(r),c=f&&f(r);return{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),c&&c.c(),l=ue()},m(u,d){U(e,u,d),h(u,n,d),h(u,i,d),h(u,o,d),c&&c.m(u,d),h(u,l,d),s=!0},p(u,d){const b={};d&1&&(b.id=u[6]),e.$set(b),(!s||d&1)&&t!==(t=u[7]+"")&&K(i,t),f!==(f=a(u))&&(c&&c.d(1),c=f&&f(u),c&&(c.c(),c.m(l.parentNode,l)))},i(u){s||(g(e.$$.fragment,u),s=!0)},o(u){$(e.$$.fragment,u),s=!1},d(u){G(e,u),u&&p(n),u&&p(i),u&&p(o),c&&c.d(u),u&&p(l)}}}function ih(r){let e;return{c(){e=w("none")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function iD(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function lD(r){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function lh(r){let e,n,t=r[7]+"",i,o,l,s;e=new ge({props:{type:"skill",id:r[6]}});function a(u,d){var b,k,y,E,C,I;if(u[9]+2===((y=(k=(b=u[0].requirements)==null?void 0:b.removal)==null?void 0:k.skills)==null?void 0:y.length))return lD;if(u[9]+1!==((I=(C=(E=u[0].requirements)==null?void 0:E.removal)==null?void 0:C.skills)==null?void 0:I.length))return iD}let f=a(r),c=f&&f(r);return{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),c&&c.c(),l=ue()},m(u,d){U(e,u,d),h(u,n,d),h(u,i,d),h(u,o,d),c&&c.m(u,d),h(u,l,d),s=!0},p(u,d){const b={};d&1&&(b.id=u[6]),e.$set(b),(!s||d&1)&&t!==(t=u[7]+"")&&K(i,t),f!==(f=a(u))&&(c&&c.d(1),c=f&&f(u),c&&(c.c(),c.m(l.parentNode,l)))},i(u){s||(g(e.$$.fragment,u),s=!0)},o(u){$(e.$$.fragment,u),s=!1},d(u){G(e,u),u&&p(n),u&&p(i),u&&p(o),c&&c.d(u),u&&p(l)}}}function rh(r){let e,n;return e=new _s({props:{requirement:r[0].requirements.removal}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.requirement=t[0].requirements.removal),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function oh(r){var B,L,D;let e,n,t,i,o,l,s,a,f,c=(((L=(B=r[0].requirements)==null?void 0:B.repair)==null?void 0:L.time)??"1 hour")+"",u,d,b,k,y,E=((D=r[0].requirements.repair)==null?void 0:D.skills)??[],C=[];for(let Y=0;Y<E.length;Y+=1)C[Y]=fh(I1(r,E,Y));const I=Y=>$(C[Y],1,1,()=>{C[Y]=null});let A=null;return E.length||(A=sh()),d=new _s({props:{requirement:r[0].requirements.repair}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Repair",{_context:Sn})}`,t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Skills Required")}`,l=m("dd");for(let Y=0;Y<C.length;Y+=1)C[Y].c();A&&A.c(),s=R(),a=m("dt"),a.textContent=`${O.t("Time",{_context:Sn,_comment:"Time taken to perform the action"})} 
      `,f=m("dd"),u=w(c),q(d.$$.fragment),b=R(),k=m("p"),k.textContent=`${O.t("Repair time and requirements are lower for parts that are less damaged.")}`,le(a,"title","Time required goes down with better skills"),bt(k,"color","var(--cata-color-gray)"),bt(k,"font-style","italic")},m(Y,z){h(Y,e,z),_(e,n),_(e,t),_(e,i),_(i,o),_(i,l);for(let W=0;W<C.length;W+=1)C[W]&&C[W].m(l,null);A&&A.m(l,null),_(l,s),_(i,a),_(i,f),_(f,u),U(d,i,null),_(e,b),_(e,k),y=!0},p(Y,z){var H,ne,M;if(z&1){E=((H=Y[0].requirements.repair)==null?void 0:H.skills)??[];let X;for(X=0;X<E.length;X+=1){const te=I1(Y,E,X);C[X]?(C[X].p(te,z),g(C[X],1)):(C[X]=fh(te),C[X].c(),g(C[X],1),C[X].m(l,s))}for(fe(),X=E.length;X<C.length;X+=1)I(X);ae(),!E.length&&A?A.p(Y,z):E.length?A&&(A.d(1),A=null):(A=sh(),A.c(),A.m(l,s))}(!y||z&1)&&c!==(c=(((M=(ne=Y[0].requirements)==null?void 0:ne.repair)==null?void 0:M.time)??"1 hour")+"")&&K(u,c);const W={};z&1&&(W.requirement=Y[0].requirements.repair),d.$set(W)},i(Y){if(!y){for(let z=0;z<E.length;z+=1)g(C[z]);g(d.$$.fragment,Y),y=!0}},o(Y){C=C.filter(Boolean);for(let z=0;z<C.length;z+=1)$(C[z]);$(d.$$.fragment,Y),y=!1},d(Y){Y&&p(e),ye(C,Y),A&&A.d(),G(d)}}}function sh(r){let e=O.t("none")+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function rD(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function oD(r){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function fh(r){let e,n,t=r[7]+"",i,o,l,s;e=new ge({props:{type:"skill",id:r[6]}});function a(u,d){var b,k,y,E,C,I;if(u[9]+2===((y=(k=(b=u[0].requirements)==null?void 0:b.repair)==null?void 0:k.skills)==null?void 0:y.length))return oD;if(u[9]+1!==((I=(C=(E=u[0].requirements)==null?void 0:E.repair)==null?void 0:C.skills)==null?void 0:I.length))return rD}let f=a(r),c=f&&f(r);return{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),c&&c.c(),l=ue()},m(u,d){U(e,u,d),h(u,n,d),h(u,i,d),h(u,o,d),c&&c.m(u,d),h(u,l,d),s=!0},p(u,d){const b={};d&1&&(b.id=u[6]),e.$set(b),(!s||d&1)&&t!==(t=u[7]+"")&&K(i,t),f!==(f=a(u))&&(c&&c.d(1),c=f&&f(u),c&&(c.c(),c.m(l.parentNode,l)))},i(u){s||(g(e.$$.fragment,u),s=!0)},o(u){$(e.$$.fragment,u),s=!1},d(u){G(e,u),u&&p(n),u&&p(i),u&&p(o),c&&c.d(u),u&&p(l)}}}function sD(r){let e,n,t,i,o;return i=new Wt({props:{items:r[4],$$slots:{default:[fD,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Vehicles",{_context:Sn,_comment:"Heading for list of vehicles which contain this vehicle part"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&268435457&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function fD(r){let e,n;return e=new ge({props:{type:"vehicle",id:r[0].id}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[0].id),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function aD(r){var Ti,Dn,Ln,Si,Fn,Pn,Ci,jn,Un,Gn,qn,ei,Yn,Hn,zn,Wn,Ii,Oi,Ri,Cl;let e,n,t,i=(r[0].name?He(r[0]):r[0].item?He(r[2].byId("item",r[0].item)):r[0].id)+"",o,l,s,a,f,c,u,d,b,k,y,E=((Ti=r[0].flags)!=null&&Ti.includes("APPLIANCE")?"structure":r[0].location??"none")+"",C,I,A,B,L=Ar(r[2].byId("item",r[0].item).weight??0)+"",D,Y,z,W,H,ne=(r[0].durability??0)+"",M,X=(Dn=r[0].flags)==null?void 0:Dn.includes("WHEEL"),te,F,j,Z,x,Q,V,ie=(r[0].damage_modifier??100)+"",_e,re,ee,ce,Ee,we=r[0].bonus&&r[1](r[0]),De,ze,We,Ve,Qe,ve,Te,Ce=Yt(r[0].description??r[2].byId("item",r[0].item).description??"")+"",it,Be,et,xe,At,wt,st,Ut,$t,_t,Ue,ke,Ke=(((Si=(Ln=r[0].requirements)==null?void 0:Ln.install)==null?void 0:Si.time)??"1 hour")+"",Lt,Rt,Ct,pe,$e,Ae,de,Ge,Oe,dt,Ie,at,Ze=(((Pn=(Fn=r[0].requirements)==null?void 0:Fn.removal)==null?void 0:Pn.time)??ua(`${bl(((jn=(Ci=r[0].requirements)==null?void 0:Ci.install)==null?void 0:jn.time)??"1 hour")/2} s`))+"",Me,je,ot,rt,Bt,Ot;n=new Dt({props:{item:r[0]}}),b=new ge({props:{id:r[0].item,type:"item"}});const Pe=[Q8,Z8],Je=[];function ft(Ne,kt){var me;return(me=Ne[0].fuel_options)!=null&&me.length?0:Ne[0].fuel_type?1:-1}~(Y=ft(r))&&(z=Je[Y]=Pe[Y](r));let Se=X&&F1(r),ct=r[0].size&&j1(r),tn=r[0].folded_volume&&U1(r),Mt=((Un=r[0].qualities)==null?void 0:Un.length)&&G1(r),Qt=r[0].comfort&&Y1(r),sn=r[0].floor_bedding_warmth&&H1(r),Xe=r[0].epower&&z1(r),Et=r[0].energy_consumption&&W1(r),nn=r[0].power&&V1(r),Re=we&&X1(r),yt=((Gn=r[0].pseudo_tools)==null?void 0:Gn.length)&&K1(r),dn=((qn=r[3])==null?void 0:qn.length)&&x8(r),rn=r[0].flags??[],Gt=[];for(let Ne=0;Ne<rn.length;Ne+=1)Gt[Ne]=eh(A1(r,rn,Ne));const xn=Ne=>$(Gt[Ne],1,1,()=>{Gt[Ne]=null});let In=null;rn.length||(In=x1());let wn=((Yn=(ei=r[0].requirements)==null?void 0:ei.install)==null?void 0:Yn.skills)??[],cn=[];for(let Ne=0;Ne<wn.length;Ne+=1)cn[Ne]=nh(R1(r,wn,Ne));const Ni=Ne=>$(cn[Ne],1,1,()=>{cn[Ne]=null});let En=null;wn.length||(En=th()),Rt=new _s({props:{requirement:{...((Hn=r[0].requirements)==null?void 0:Hn.install)??{},components:(((Wn=(zn=r[0].requirements)==null?void 0:zn.install)==null?void 0:Wn.components)??[]).concat([[[r[0].item,1]]])}}});let bn=((Oi=(Ii=r[0].requirements)==null?void 0:Ii.removal)==null?void 0:Oi.skills)??[],un=[];for(let Ne=0;Ne<bn.length;Ne+=1)un[Ne]=lh(O1(r,bn,Ne));const Bi=Ne=>$(un[Ne],1,1,()=>{un[Ne]=null});let On=null;bn.length||(On=ih());let $n=((Ri=r[0].requirements)==null?void 0:Ri.removal)&&rh(r),yn=((Cl=r[0].requirements)==null?void 0:Cl.repair)&&oh(r),Qn=r[4].length&&sD(r);return{c(){e=m("h1"),q(n.$$.fragment),t=R(),o=w(i),l=R(),s=m("section"),a=m("h1"),a.textContent=`${O.t("Vehicle Part")}`,f=R(),c=m("dl"),u=m("dt"),u.textContent=`${O.t("Item")}`,d=m("dd"),q(b.$$.fragment),k=m("dt"),k.textContent=`${O.t("Location")}`,y=m("dd"),C=w(E),I=R(),A=m("dt"),A.textContent=`${O.t("Weight")}`,B=m("dd"),D=w(L),z&&z.c(),W=m("dt"),W.textContent=`${O.t("Durability",{_context:Sn})} 
    `,H=m("dd"),M=w(ne),Se&&Se.c(),te=ue(),ct&&ct.c(),F=ue(),tn&&tn.c(),j=ue(),Mt&&Mt.c(),Z=ue(),Qt&&Qt.c(),x=ue(),sn&&sn.c(),Q=m("dt"),Q.textContent=`${O.t("Damage",{_context:Sn})}`,V=m("dd"),_e=w(ie),re=w("%"),Xe&&Xe.c(),ee=ue(),Et&&Et.c(),ce=ue(),nn&&nn.c(),Ee=ue(),Re&&Re.c(),De=ue(),yt&&yt.c(),ze=ue(),dn&&dn.c(),We=m("dt"),We.textContent=`${O.t("Flags")}`,Ve=m("dd"),Qe=m("ul");for(let Ne=0;Ne<Gt.length;Ne+=1)Gt[Ne].c();In&&In.c(),ve=R(),Te=m("p"),it=w(Ce),Be=R(),et=m("div"),xe=m("section"),At=m("h1"),At.textContent=`${O.t("Install",{_context:Sn})}`,wt=R(),st=m("dl"),Ut=m("dt"),Ut.textContent=`${O.t("Skills Required")}`,$t=m("dd");for(let Ne=0;Ne<cn.length;Ne+=1)cn[Ne].c();En&&En.c(),_t=R(),Ue=m("dt"),Ue.textContent=`${O.t("Time",{_context:Sn,_comment:"Time taken to perform the action"})} 
      `,ke=m("dd"),Lt=w(Ke),q(Rt.$$.fragment),Ct=R(),pe=m("section"),$e=m("h1"),$e.textContent=`${O.t("Remove",{_context:Sn})}`,Ae=R(),de=m("dl"),Ge=m("dt"),Ge.textContent=`${O.t("Skills Required")}`,Oe=m("dd");for(let Ne=0;Ne<un.length;Ne+=1)un[Ne].c();On&&On.c(),dt=R(),Ie=m("dt"),Ie.textContent=`${O.t("Time",{_context:Sn,_comment:"Time taken to perform the action"})} 
      `,at=m("dd"),Me=w(Ze),je=R(),$n&&$n.c(),ot=R(),yn&&yn.c(),rt=R(),Qn&&Qn.c(),Bt=ue(),le(W,"title","Maximum damage part can sustain before being destroyed"),le(Qe,"class","comma-separated"),bt(Te,"color","var(--cata-color-gray)"),le(Ue,"title","Time required goes down with better skills"),le(Ie,"title","Time required goes down with better skills"),le(et,"class","side-by-side")},m(Ne,kt){h(Ne,e,kt),U(n,e,null),_(e,t),_(e,o),h(Ne,l,kt),h(Ne,s,kt),_(s,a),_(s,f),_(s,c),_(c,u),_(c,d),U(b,d,null),_(c,k),_(c,y),_(y,C),_(y,I),_(c,A),_(c,B),_(B,D),~Y&&Je[Y].m(c,null),_(c,W),_(c,H),_(H,M),Se&&Se.m(c,null),_(c,te),ct&&ct.m(c,null),_(c,F),tn&&tn.m(c,null),_(c,j),Mt&&Mt.m(c,null),_(c,Z),Qt&&Qt.m(c,null),_(c,x),sn&&sn.m(c,null),_(c,Q),_(c,V),_(V,_e),_(V,re),Xe&&Xe.m(c,null),_(c,ee),Et&&Et.m(c,null),_(c,ce),nn&&nn.m(c,null),_(c,Ee),Re&&Re.m(c,null),_(c,De),yt&&yt.m(c,null),_(c,ze),dn&&dn.m(c,null),_(c,We),_(c,Ve),_(Ve,Qe);for(let me=0;me<Gt.length;me+=1)Gt[me]&&Gt[me].m(Qe,null);In&&In.m(Qe,null),_(s,ve),_(s,Te),_(Te,it),h(Ne,Be,kt),h(Ne,et,kt),_(et,xe),_(xe,At),_(xe,wt),_(xe,st),_(st,Ut),_(st,$t);for(let me=0;me<cn.length;me+=1)cn[me]&&cn[me].m($t,null);En&&En.m($t,null),_($t,_t),_(st,Ue),_(st,ke),_(ke,Lt),U(Rt,st,null),_(et,Ct),_(et,pe),_(pe,$e),_(pe,Ae),_(pe,de),_(de,Ge),_(de,Oe);for(let me=0;me<un.length;me+=1)un[me]&&un[me].m(Oe,null);On&&On.m(Oe,null),_(Oe,dt),_(de,Ie),_(de,at),_(at,Me),_(at,je),$n&&$n.m(de,null),h(Ne,ot,kt),yn&&yn.m(Ne,kt),h(Ne,rt,kt),Qn&&Qn.m(Ne,kt),h(Ne,Bt,kt),Ot=!0},p(Ne,[kt]){var Ol,Rl,Al,Nl,Bl,Ml,Dl,Ll,Fl,Pl,jl,Ul,Gl,ql,Yl,Hl,zl,Wl,Vl,Jl;const me={};kt&1&&(me.item=Ne[0]),n.$set(me),(!Ot||kt&1)&&i!==(i=(Ne[0].name?He(Ne[0]):Ne[0].item?He(Ne[2].byId("item",Ne[0].item)):Ne[0].id)+"")&&K(o,i);const tt={};kt&1&&(tt.id=Ne[0].item),b.$set(tt),(!Ot||kt&1)&&E!==(E=((Ol=Ne[0].flags)!=null&&Ol.includes("APPLIANCE")?"structure":Ne[0].location??"none")+"")&&K(C,E),(!Ot||kt&1)&&L!==(L=Ar(Ne[2].byId("item",Ne[0].item).weight??0)+"")&&K(D,L);let al=Y;if(Y=ft(Ne),Y===al?~Y&&Je[Y].p(Ne,kt):(z&&(fe(),$(Je[al],1,1,()=>{Je[al]=null}),ae()),~Y?(z=Je[Y],z?z.p(Ne,kt):(z=Je[Y]=Pe[Y](Ne),z.c()),g(z,1),z.m(c,W)):z=null),(!Ot||kt&1)&&ne!==(ne=(Ne[0].durability??0)+"")&&K(M,ne),kt&1&&(X=(Rl=Ne[0].flags)==null?void 0:Rl.includes("WHEEL")),X?Se?Se.p(Ne,kt):(Se=F1(Ne),Se.c(),Se.m(c,te)):Se&&(Se.d(1),Se=null),Ne[0].size?ct?ct.p(Ne,kt):(ct=j1(Ne),ct.c(),ct.m(c,F)):ct&&(ct.d(1),ct=null),Ne[0].folded_volume?tn?tn.p(Ne,kt):(tn=U1(Ne),tn.c(),tn.m(c,j)):tn&&(tn.d(1),tn=null),(Al=Ne[0].qualities)!=null&&Al.length?Mt?(Mt.p(Ne,kt),kt&1&&g(Mt,1)):(Mt=G1(Ne),Mt.c(),g(Mt,1),Mt.m(c,Z)):Mt&&(fe(),$(Mt,1,1,()=>{Mt=null}),ae()),Ne[0].comfort?Qt?Qt.p(Ne,kt):(Qt=Y1(Ne),Qt.c(),Qt.m(c,x)):Qt&&(Qt.d(1),Qt=null),Ne[0].floor_bedding_warmth?sn?sn.p(Ne,kt):(sn=H1(Ne),sn.c(),sn.m(c,Q)):sn&&(sn.d(1),sn=null),(!Ot||kt&1)&&ie!==(ie=(Ne[0].damage_modifier??100)+"")&&K(_e,ie),Ne[0].epower?Xe?Xe.p(Ne,kt):(Xe=z1(Ne),Xe.c(),Xe.m(c,ee)):Xe&&(Xe.d(1),Xe=null),Ne[0].energy_consumption?Et?Et.p(Ne,kt):(Et=W1(Ne),Et.c(),Et.m(c,ce)):Et&&(Et.d(1),Et=null),Ne[0].power?nn?nn.p(Ne,kt):(nn=V1(Ne),nn.c(),nn.m(c,Ee)):nn&&(nn.d(1),nn=null),kt&1&&(we=Ne[0].bonus&&Ne[1](Ne[0])),we?Re?Re.p(Ne,kt):(Re=X1(Ne),Re.c(),Re.m(c,De)):Re&&(Re.d(1),Re=null),(Nl=Ne[0].pseudo_tools)!=null&&Nl.length?yt?(yt.p(Ne,kt),kt&1&&g(yt,1)):(yt=K1(Ne),yt.c(),g(yt,1),yt.m(c,ze)):yt&&(fe(),$(yt,1,1,()=>{yt=null}),ae()),(Bl=Ne[3])!=null&&Bl.length&&dn.p(Ne,kt),kt&1){rn=Ne[0].flags??[];let Xt;for(Xt=0;Xt<rn.length;Xt+=1){const Hi=A1(Ne,rn,Xt);Gt[Xt]?(Gt[Xt].p(Hi,kt),g(Gt[Xt],1)):(Gt[Xt]=eh(Hi),Gt[Xt].c(),g(Gt[Xt],1),Gt[Xt].m(Qe,null))}for(fe(),Xt=rn.length;Xt<Gt.length;Xt+=1)xn(Xt);ae(),!rn.length&&In?In.p(Ne,kt):rn.length?In&&(In.d(1),In=null):(In=x1(),In.c(),In.m(Qe,null))}if((!Ot||kt&1)&&Ce!==(Ce=Yt(Ne[0].description??Ne[2].byId("item",Ne[0].item).description??"")+"")&&K(it,Ce),kt&1){wn=((Dl=(Ml=Ne[0].requirements)==null?void 0:Ml.install)==null?void 0:Dl.skills)??[];let Xt;for(Xt=0;Xt<wn.length;Xt+=1){const Hi=R1(Ne,wn,Xt);cn[Xt]?(cn[Xt].p(Hi,kt),g(cn[Xt],1)):(cn[Xt]=nh(Hi),cn[Xt].c(),g(cn[Xt],1),cn[Xt].m($t,_t))}for(fe(),Xt=wn.length;Xt<cn.length;Xt+=1)Ni(Xt);ae(),!wn.length&&En?En.p(Ne,kt):wn.length?En&&(En.d(1),En=null):(En=th(),En.c(),En.m($t,_t))}(!Ot||kt&1)&&Ke!==(Ke=(((Fl=(Ll=Ne[0].requirements)==null?void 0:Ll.install)==null?void 0:Fl.time)??"1 hour")+"")&&K(Lt,Ke);const Il={};if(kt&1&&(Il.requirement={...((Pl=Ne[0].requirements)==null?void 0:Pl.install)??{},components:(((Ul=(jl=Ne[0].requirements)==null?void 0:jl.install)==null?void 0:Ul.components)??[]).concat([[[Ne[0].item,1]]])}),Rt.$set(Il),kt&1){bn=((ql=(Gl=Ne[0].requirements)==null?void 0:Gl.removal)==null?void 0:ql.skills)??[];let Xt;for(Xt=0;Xt<bn.length;Xt+=1){const Hi=O1(Ne,bn,Xt);un[Xt]?(un[Xt].p(Hi,kt),g(un[Xt],1)):(un[Xt]=lh(Hi),un[Xt].c(),g(un[Xt],1),un[Xt].m(Oe,dt))}for(fe(),Xt=bn.length;Xt<un.length;Xt+=1)Bi(Xt);ae(),bn.length?On&&(On.d(1),On=null):On||(On=ih(),On.c(),On.m(Oe,dt))}(!Ot||kt&1)&&Ze!==(Ze=(((Hl=(Yl=Ne[0].requirements)==null?void 0:Yl.removal)==null?void 0:Hl.time)??ua(`${bl(((Wl=(zl=Ne[0].requirements)==null?void 0:zl.install)==null?void 0:Wl.time)??"1 hour")/2} s`))+"")&&K(Me,Ze),(Vl=Ne[0].requirements)!=null&&Vl.removal?$n?($n.p(Ne,kt),kt&1&&g($n,1)):($n=rh(Ne),$n.c(),g($n,1),$n.m(de,null)):$n&&(fe(),$($n,1,1,()=>{$n=null}),ae()),(Jl=Ne[0].requirements)!=null&&Jl.repair?yn?(yn.p(Ne,kt),kt&1&&g(yn,1)):(yn=oh(Ne),yn.c(),g(yn,1),yn.m(rt.parentNode,rt)):yn&&(fe(),$(yn,1,1,()=>{yn=null}),ae()),Ne[4].length&&Qn.p(Ne,kt)},i(Ne){if(!Ot){g(n.$$.fragment,Ne),g(b.$$.fragment,Ne),g(z),g(Mt),g(yt),g(dn);for(let kt=0;kt<rn.length;kt+=1)g(Gt[kt]);for(let kt=0;kt<wn.length;kt+=1)g(cn[kt]);g(Rt.$$.fragment,Ne);for(let kt=0;kt<bn.length;kt+=1)g(un[kt]);g($n),g(yn),g(Qn),Ot=!0}},o(Ne){$(n.$$.fragment,Ne),$(b.$$.fragment,Ne),$(z),$(Mt),$(yt),$(dn),Gt=Gt.filter(Boolean);for(let kt=0;kt<Gt.length;kt+=1)$(Gt[kt]);cn=cn.filter(Boolean);for(let kt=0;kt<cn.length;kt+=1)$(cn[kt]);$(Rt.$$.fragment,Ne),un=un.filter(Boolean);for(let kt=0;kt<un.length;kt+=1)$(un[kt]);$($n),$(yn),$(Qn),Ot=!1},d(Ne){Ne&&p(e),G(n),Ne&&p(l),Ne&&p(s),G(b),~Y&&Je[Y].d(),Se&&Se.d(),ct&&ct.d(),tn&&tn.d(),Mt&&Mt.d(),Qt&&Qt.d(),sn&&sn.d(),Xe&&Xe.d(),Et&&Et.d(),nn&&nn.d(),Re&&Re.d(),yt&&yt.d(),dn&&dn.d(),ye(Gt,Ne),In&&In.d(),Ne&&p(Be),Ne&&p(et),ye(cn,Ne),En&&En.d(),G(Rt),ye(un,Ne),On&&On.d(),$n&&$n.d(),Ne&&p(ot),yn&&yn.d(Ne),Ne&&p(rt),Qn&&Qn.d(Ne),Ne&&p(Bt)}}}const Sn="Vehicle Part";function cD(r,e,n){let{item:t}=e;function i(f){const c=["LIGHT","CONE_LIGHT","WIDE_CONE_LIGHT","CIRCLE_LIGHT","DOME_LIGHT","AISLE_LIGHT","EVENTURN","ODDTURN","ATOMIC_LIGHT"],u=f.flags??[];if(u.includes("SEATBELT"))return O.t("Strength",{_context:Sn});if(u.includes("HORN"))return O.t("Noise",{_context:Sn});if(u.includes("MUFFLER"))return O.t("Noise Reduction",{_context:Sn});if(u.includes("VISION"))return O.t("Range",{_context:Sn});if(c.some(d=>u.includes(d)))return O.t("Light",{_context:Sn});if(u.includes("REAPER"))return O.t("Plant Harvested",{_context:Sn})}const o=jt("data"),l=typeof t.breaks_into=="string"?o.convertTopLevelItemGroup(o.byId("item_group",t.breaks_into)):Array.isArray(t.breaks_into)?{subtype:"collection",entries:t.breaks_into}:t.breaks_into?t.breaks_into:null,s=l&&o.flattenItemGroup(l),a=o.byType("vehicle").filter(f=>f.id&&f.parts.some(c=>{var d;return(c.part?[{part:c.part,fuel:c.fuel}]:((d=c.parts)==null?void 0:d.map(b=>typeof b=="string"?{part:b}:b))??[]).some(b=>my(o,b.part)[0]===t.id)}));return a.sort((f,c)=>He(f).localeCompare(He(c))),r.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,i,o,s,a]}class uD extends ht{constructor(e){super(),pt(this,e,cD,aD,mt,{item:0})}}function ah(r,e,n){const t=r.slice();return t[1]=e[n],t}function ch(r,e,n){const t=r.slice();return t[1]=e[n],t}function uh(r){let e,n,t,i,o,l=r[0].mult_bonuses??[],s=[];for(let c=0;c<l.length;c+=1)s[c]=mh(ch(r,l,c));let a=r[0].flat_bonuses??[],f=[];for(let c=0;c<a.length;c+=1)f[c]=hh(ah(r,a,c));return{c(){e=m("dt"),e.textContent=`${O.t("Bonus")}`,n=R(),t=m("dd"),i=m("ul");for(let c=0;c<s.length;c+=1)s[c].c();o=R();for(let c=0;c<f.length;c+=1)f[c].c()},m(c,u){h(c,e,u),h(c,n,u),h(c,t,u),_(t,i);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(i,null);_(i,o);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(i,null)},p(c,u){if(u&1){l=c[0].mult_bonuses??[];let d;for(d=0;d<l.length;d+=1){const b=ch(c,l,d);s[d]?s[d].p(b,u):(s[d]=mh(b),s[d].c(),s[d].m(i,o))}for(;d<s.length;d+=1)s[d].d(1);s.length=l.length}if(u&1){a=c[0].flat_bonuses??[];let d;for(d=0;d<a.length;d+=1){const b=ah(c,a,d);f[d]?f[d].p(b,u):(f[d]=hh(b),f[d].c(),f[d].m(i,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=a.length}},d(c){c&&p(e),c&&p(n),c&&p(t),ye(s,c),ye(f,c)}}}function _h(r){let e=r[1].type+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&1&&e!==(e=t[1].type+"")&&K(n,e)},d(t){t&&p(n)}}}function dh(r){let e,n=en.__(Xo(r[1]["scaling-stat"]))+"",t;return{c(){e=w("of "),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&1&&n!==(n=en.__(Xo(i[1]["scaling-stat"]))+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function mh(r){let e,n=Ko(r[1].stat),t,i=en.__(Jo(r[1].stat))+"",o,l,s=(r[1].scale*100).toFixed(0)+"",a,f,c=n&&_h(r),u=r[1]["scaling-stat"]&&dh(r);return{c(){e=m("li"),c&&c.c(),t=R(),o=w(i),l=w(": "),a=w(s),f=w("% "),u&&u.c()},m(d,b){h(d,e,b),c&&c.m(e,null),_(e,t),_(e,o),_(e,l),_(e,a),_(e,f),u&&u.m(e,null)},p(d,b){b&1&&(n=Ko(d[1].stat)),n?c?c.p(d,b):(c=_h(d),c.c(),c.m(e,t)):c&&(c.d(1),c=null),b&1&&i!==(i=en.__(Jo(d[1].stat))+"")&&K(o,i),b&1&&s!==(s=(d[1].scale*100).toFixed(0)+"")&&K(a,s),d[1]["scaling-stat"]?u?u.p(d,b):(u=dh(d),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},d(d){d&&p(e),c&&c.d(),u&&u.d()}}}function ph(r){let e=r[1].type+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&1&&e!==(e=t[1].type+"")&&K(n,e)},d(t){t&&p(n)}}}function _D(r){let e=r[1].scale<0?"":"+",n,t=r[1].scale+"",i;return{c(){n=w(e),i=w(t)},m(o,l){h(o,n,l),h(o,i,l)},p(o,l){l&1&&e!==(e=o[1].scale<0?"":"+")&&K(n,e),l&1&&t!==(t=o[1].scale+"")&&K(i,t)},d(o){o&&p(n),o&&p(i)}}}function dD(r){let e=r[1].scale<0?"":"+",n,t=(r[1].scale*100).toFixed(0)+"",i,o,l=en.__(Xo(r[1]["scaling-stat"]))+"",s;return{c(){n=w(e),i=w(t),o=w("% of "),s=w(l)},m(a,f){h(a,n,f),h(a,i,f),h(a,o,f),h(a,s,f)},p(a,f){f&1&&e!==(e=a[1].scale<0?"":"+")&&K(n,e),f&1&&t!==(t=(a[1].scale*100).toFixed(0)+"")&&K(i,t),f&1&&l!==(l=en.__(Xo(a[1]["scaling-stat"]))+"")&&K(s,l)},d(a){a&&p(n),a&&p(i),a&&p(o),a&&p(s)}}}function hh(r){let e,n=Ko(r[1].stat),t,i=en.__(Jo(r[1].stat))+"",o,l,s,a=n&&ph(r);function f(d,b){return d[1]["scaling-stat"]?dD:_D}let c=f(r),u=c(r);return{c(){e=m("li"),a&&a.c(),t=R(),o=w(i),l=w(`:
          `),u.c(),s=R()},m(d,b){h(d,e,b),a&&a.m(e,null),_(e,t),_(e,o),_(e,l),u.m(e,null),_(e,s)},p(d,b){b&1&&(n=Ko(d[1].stat)),n?a?a.p(d,b):(a=ph(d),a.c(),a.m(e,t)):a&&(a.d(1),a=null),b&1&&i!==(i=en.__(Jo(d[1].stat))+"")&&K(o,i),c===(c=f(d))&&u?u.p(d,b):(u.d(1),u=c(d),u&&(u.c(),u.m(e,s)))},d(d){d&&p(e),a&&a.d(),u.d()}}}function mD(r){let e,n=(r[0].mult_bonuses||r[0].flat_bonuses)&&uh(r);return{c(){n&&n.c(),e=ue()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,[i]){t[0].mult_bonuses||t[0].flat_bonuses?n?n.p(t,i):(n=uh(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:oe,o:oe,d(t){n&&n.d(t),t&&p(e)}}}function Jo(r){switch(r){case"hit":return"Accuracy";case"crit_chance":return"Critical Hit Chance";case"dodge":return"Dodge";case"block":return"Block";case"block_effectiveness":return"Block effectiveness";case"speed":return"Speed";case"movecost":return"Move cost";case"damage":return"damage";case"armor":return"Armor";case"arpen":return"Armor penetration";case"target_armor_multiplier":return"Target armor multiplier";default:return""}}function Xo(r){switch(r){case"str":return"strength";case"dex":return"dexterity";case"int":return"intelligence";case"per":return"perception";default:return""}}function Ko(r){return r==="damage"||r==="armor"||r==="arpen"}function pD(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class Ny extends ht{constructor(e){super(),pt(this,e,pD,mD,mt,{item:0})}}function gh(r,e,n){const t=r.slice();return t[3]=e[n],t}function bh(r,e,n){const t=r.slice();return t[6]=e[n].name,t[7]=e[n].level,t[9]=n,t}function $h(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function hD(r){let e=", ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function gD(r){let e=" and ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},d(t){t&&p(n)}}}function yh(r){let e,n,t=r[7]+"",i,o,l,s;e=new ge({props:{type:"skill",id:r[6]}});function a(u,d){var b,k;if(u[9]+2===((b=u[0].skill_requirements)==null?void 0:b.length))return gD;if(u[9]+1!==((k=u[0].skill_requirements)==null?void 0:k.length))return hD}let f=a(r),c=f&&f(r);return{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")"),c&&c.c(),l=ue()},m(u,d){U(e,u,d),h(u,n,d),h(u,i,d),h(u,o,d),c&&c.m(u,d),h(u,l,d),s=!0},p(u,d){const b={};d&1&&(b.id=u[6]),e.$set(b),(!s||d&1)&&t!==(t=u[7]+"")&&K(i,t),f!==(f=a(u))&&(c&&c.d(1),c=f&&f(u),c&&(c.c(),c.m(l.parentNode,l)))},i(u){s||(g(e.$$.fragment,u),s=!0)},o(u){$(e.$$.fragment,u),s=!1},d(u){G(e,u),u&&p(n),u&&p(i),u&&p(o),c&&c.d(u),u&&p(l)}}}function bD(r){let e,n,t,i,o=r[2],l=[];for(let s=0;s<o.length;s+=1)l[s]=kh(gh(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Required Buffs",{_context:Qr})}`,n=R(),t=m("dd"),i=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();le(i,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),h(s,t,a),_(t,i);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(i,null)},p(s,a){if(a&6){o=s[2];let f;for(f=0;f<o.length;f+=1){const c=gh(s,o,f);l[f]?l[f].p(c,a):(l[f]=kh(c),l[f].c(),l[f].m(i,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),s&&p(t),ye(l,s)}}}function $D(r){let e,n=r[3]+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function yD(r){let e,n=He(r[1].get(r[3]))+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&2&&n!==(n=He(i[1].get(i[3]))+"")&&K(t,n)},d(i){i&&p(e)}}}function kh(r){let e,n;function t(l,s){return s&2&&(e=null),e==null&&(e=!!l[1].has(l[3])),e?yD:$D}let i=t(r,-1),o=i(r);return{c(){o.c(),n=ue()},m(l,s){o.m(l,s),h(l,n,s)},p(l,s){i===(i=t(l,s))&&o?o.p(l,s):(o.d(1),o=i(l),o&&(o.c(),o.m(n.parentNode,n)))},d(l){o.d(l),l&&p(n)}}}function vh(r){let e,n,t;return{c(){e=m("dt"),e.textContent=`${O.t("Requires Adjacent Wall",{_context:Qr})}`,n=R(),t=m("dd"),t.textContent=`${O.t("Yes")}`},m(i,o){h(i,e,o),h(i,n,o),h(i,t,o)},p:oe,d(i){i&&p(e),i&&p(n),i&&p(t)}}}function kD(r){let e,n,t,i,o,l,s,a,f,c=(r[0].melee_allowed?O.t("Yes"):O.t("No"))+"",u,d,b,k,y,E=(r[0].unarmed_allowed?O.t("Yes"):O.t("No"))+"",C,I,A,B,L,D=(r[0].unarmed_weapons_allowed??!0?O.t("Yes"):O.t("No"))+"",Y,z,W=r[0].skill_requirements??[],H=[];for(let F=0;F<W.length;F+=1)H[F]=yh(bh(r,W,F));const ne=F=>$(H[F],1,1,()=>{H[F]=null});let M=null;W.length||(M=$h());let X=r[2].length&&bD(r),te=r[0].wall_adjacent&&vh();return{c(){e=m("dt"),e.textContent=`${O.t("Required Skills")}`,n=R(),t=m("dd");for(let F=0;F<H.length;F+=1)H[F].c();M&&M.c(),i=R(),X&&X.c(),o=R(),te&&te.c(),l=R(),s=m("dt"),s.textContent=`${O.t("Melee Weapon Allowed",{_context:Qr})}`,a=R(),f=m("dd"),u=w(c),d=R(),b=m("dt"),b.textContent=`${O.t("Unarmed Allowed",{_context:Qr})}`,k=R(),y=m("dd"),C=w(E),I=R(),A=m("dt"),A.textContent=`${O.t("Unarmed Weapon Allowed",{_context:Qr})}`,B=R(),L=m("dd"),Y=w(D)},m(F,j){h(F,e,j),h(F,n,j),h(F,t,j);for(let Z=0;Z<H.length;Z+=1)H[Z]&&H[Z].m(t,null);M&&M.m(t,null),h(F,i,j),X&&X.m(F,j),h(F,o,j),te&&te.m(F,j),h(F,l,j),h(F,s,j),h(F,a,j),h(F,f,j),_(f,u),h(F,d,j),h(F,b,j),h(F,k,j),h(F,y,j),_(y,C),h(F,I,j),h(F,A,j),h(F,B,j),h(F,L,j),_(L,Y),z=!0},p(F,[j]){if(j&1){W=F[0].skill_requirements??[];let Z;for(Z=0;Z<W.length;Z+=1){const x=bh(F,W,Z);H[Z]?(H[Z].p(x,j),g(H[Z],1)):(H[Z]=yh(x),H[Z].c(),g(H[Z],1),H[Z].m(t,null))}for(fe(),Z=W.length;Z<H.length;Z+=1)ne(Z);ae(),!W.length&&M?M.p(F,j):W.length?M&&(M.d(1),M=null):(M=$h(),M.c(),M.m(t,null))}F[2].length&&X.p(F,j),F[0].wall_adjacent?te?te.p(F,j):(te=vh(),te.c(),te.m(l.parentNode,l)):te&&(te.d(1),te=null),(!z||j&1)&&c!==(c=(F[0].melee_allowed?O.t("Yes"):O.t("No"))+"")&&K(u,c),(!z||j&1)&&E!==(E=(F[0].unarmed_allowed?O.t("Yes"):O.t("No"))+"")&&K(C,E),(!z||j&1)&&D!==(D=(F[0].unarmed_weapons_allowed??!0?O.t("Yes"):O.t("No"))+"")&&K(Y,D)},i(F){if(!z){for(let j=0;j<W.length;j+=1)g(H[j]);z=!0}},o(F){H=H.filter(Boolean);for(let j=0;j<H.length;j+=1)$(H[j]);z=!1},d(F){F&&p(e),F&&p(n),F&&p(t),ye(H,F),M&&M.d(),F&&p(i),X&&X.d(F),F&&p(o),te&&te.d(F),F&&p(l),F&&p(s),F&&p(a),F&&p(f),F&&p(d),F&&p(b),F&&p(k),F&&p(y),F&&p(I),F&&p(A),F&&p(B),F&&p(L)}}}const Qr="Martial Art";function vD(r,e,n){let{item:t}=e,{buffMap:i=new Map}=e;const o=typeof t.req_buffs=="string"?[t.req_buffs]:t.req_buffs??[];return r.$$set=l=>{"item"in l&&n(0,t=l.item),"buffMap"in l&&n(1,i=l.buffMap)},[t,i,o]}class By extends ht{constructor(e){super(),pt(this,e,vD,kD,mt,{item:0,buffMap:1})}}function wh(r){let e,n=O.t("Technique",{_context:ji})+"",t,i,o=He(r[2])+"",l;return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o)},m(s,a){h(s,e,a),_(e,t),_(e,i),_(e,l)},p(s,a){a&4&&o!==(o=He(s[2])+"")&&K(l,o)},d(s){s&&p(e)}}}function Eh(r){let e,n=O.t("Technique",{_context:ji})+"",t,i,o=He(r[2])+"",l;return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o)},m(s,a){h(s,e,a),_(e,t),_(e,i),_(e,l)},p(s,a){a&4&&o!==(o=He(s[2])+"")&&K(l,o)},d(s){s&&p(e)}}}function Th(r){let e,n,t;function i(s,a){if(s[2].weighting>1)return ED;if(s[2].weighting<-1)return wD}let o=i(r),l=o&&o(r);return{c(){e=m("dt"),e.textContent=`${O.t("Chance to Activate",{_context:ji})}`,n=m("dd"),l&&l.c(),t=R()},m(s,a){h(s,e,a),h(s,n,a),l&&l.m(n,null),_(n,t)},p(s,a){o===(o=i(s))&&l?l.p(s,a):(l&&l.d(1),l=o&&o(s),l&&(l.c(),l.m(n,t)))},d(s){s&&p(e),s&&p(n),l&&l.d()}}}function wD(r){let e,n=Math.abs(r[2].weighting)+"",t;return{c(){e=w("1/"),t=w(n)},m(i,o){h(i,e,o),h(i,t,o)},p(i,o){o&4&&n!==(n=Math.abs(i[2].weighting)+"")&&K(t,n)},d(i){i&&p(e),i&&p(t)}}}function ED(r){let e,n=((r[2].weighting-1)*100).toFixed(0)+"",t,i;return{c(){e=w("+"),t=w(n),i=w("%")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p(o,l){l&4&&n!==(n=((o[2].weighting-1)*100).toFixed(0)+"")&&K(t,n)},d(o){o&&p(e),o&&p(t),o&&p(i)}}}function TD(r){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Target Requirements",{_context:ji})}`,n=m("dd"),n.textContent=`${r[5].join(", ")} 
      `},m(t,i){h(t,e,i),h(t,n,i)},p:oe,d(t){t&&p(e),t&&p(n)}}}function Sh(r){let e,n,t=r[2].aoe+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("AoE Shape",{_context:ji})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&4&&t!==(t=o[2].aoe+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Ch(r){let e,n,t=r[2].stun_dur+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Stun Duration",{_context:ji})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&4&&t!==(t=o[2].stun_dur+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Ih(r){let e,n,t=r[2].down_dur+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Down Duration",{_context:ji})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&4&&t!==(t=o[2].down_dur+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Oh(r){let e,n,t=r[2].knockback_dist+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Knockback Distance",{_context:ji})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l&4&&t!==(t=o[2].knockback_dist+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Rh(r){let e,n=Yt(r[2].description)+"",t;return{c(){e=m("p"),t=w(n),bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&4&&n!==(n=Yt(i[2].description)+"")&&K(t,n)},d(i){i&&p(e)}}}function SD(r){let e,n,t,i,o;return i=new Wt({props:{items:r[3],limit:20,$$slots:{default:[CD,({item:l})=>({2:l}),({item:l})=>l?4:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Weapons",{_context:ji})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&260&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function CD(r){let e,n,t,i;return e=new Dt({props:{item:r[2]}}),t=new ge({props:{type:"item",id:r[2].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&4&&(s.item=o[2]),e.$set(s);const a={};l&4&&(a.id=o[2].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function ID(r){let e,n,t,i,o,l,s,a,f,c=(r[2].crit_ok?O.t("Yes"):r[2].crit_tec?O.t("Only",{_context:"Martial Art",_comment:"Activate on Crit?"}):O.t("No"))+"",u,d,b,k,y,E,C,I,A,B,L,D,Y,z,W=JSON.stringify(r[2],null,2)+"",H,ne,M,X,te=r[1]&&wh(r),F=!r[1]&&Eh(r);s=new By({props:{item:r[2],buffMap:r[0]}});let j=r[2].weighting&&r[2].weighting!==1&&Th(r),Z=r[5].length&&TD(r),x=r[2].aoe&&Sh(r);E=new Ny({props:{item:r[2]}});let Q=r[2].stun_dur&&Ch(r),V=r[2].down_dur&&Ih(r),ie=r[2].knockback_dist&&Oh(r),_e=r[2].description&&Rh(r),re=r[3].length&&SD(r);return{c(){te&&te.c(),e=R(),n=m("section"),F&&F.c(),t=R(),i=m("dl"),o=m("dt"),o.textContent=`${O.t("Type",{_context:ji})}`,l=m("dd"),l.textContent=`${r[4]}`,q(s.$$.fragment),a=m("dt"),a.textContent=`${O.t("Activate on Crit?",{_context:ji})}`,f=m("dd"),u=w(c),d=R(),j&&j.c(),b=ue(),Z&&Z.c(),k=ue(),x&&x.c(),y=ue(),q(E.$$.fragment),Q&&Q.c(),C=ue(),V&&V.c(),I=ue(),ie&&ie.c(),A=R(),_e&&_e.c(),B=R(),L=m("details"),D=m("summary"),D.textContent=`${O.t("Technique JSON",{_context:ji})}`,Y=R(),z=m("pre"),H=w(W),ne=R(),re&&re.c(),M=ue()},m(ee,ce){te&&te.m(ee,ce),h(ee,e,ce),h(ee,n,ce),F&&F.m(n,null),_(n,t),_(n,i),_(i,o),_(i,l),U(s,i,null),_(i,a),_(i,f),_(f,u),_(f,d),j&&j.m(i,null),_(i,b),Z&&Z.m(i,null),_(i,k),x&&x.m(i,null),_(i,y),U(E,i,null),Q&&Q.m(i,null),_(i,C),V&&V.m(i,null),_(i,I),ie&&ie.m(i,null),_(n,A),_e&&_e.m(n,null),_(n,B),_(n,L),_(L,D),_(L,Y),_(L,z),_(z,H),h(ee,ne,ce),re&&re.m(ee,ce),h(ee,M,ce),X=!0},p(ee,[ce]){ee[1]?te?te.p(ee,ce):(te=wh(ee),te.c(),te.m(e.parentNode,e)):te&&(te.d(1),te=null),ee[1]?F&&(F.d(1),F=null):F?F.p(ee,ce):(F=Eh(ee),F.c(),F.m(n,t));const Ee={};ce&4&&(Ee.item=ee[2]),ce&1&&(Ee.buffMap=ee[0]),s.$set(Ee),(!X||ce&4)&&c!==(c=(ee[2].crit_ok?O.t("Yes"):ee[2].crit_tec?O.t("Only",{_context:"Martial Art",_comment:"Activate on Crit?"}):O.t("No"))+"")&&K(u,c),ee[2].weighting&&ee[2].weighting!==1?j?j.p(ee,ce):(j=Th(ee),j.c(),j.m(i,b)):j&&(j.d(1),j=null),ee[5].length&&Z.p(ee,ce),ee[2].aoe?x?x.p(ee,ce):(x=Sh(ee),x.c(),x.m(i,y)):x&&(x.d(1),x=null);const we={};ce&4&&(we.item=ee[2]),E.$set(we),ee[2].stun_dur?Q?Q.p(ee,ce):(Q=Ch(ee),Q.c(),Q.m(i,C)):Q&&(Q.d(1),Q=null),ee[2].down_dur?V?V.p(ee,ce):(V=Ih(ee),V.c(),V.m(i,I)):V&&(V.d(1),V=null),ee[2].knockback_dist?ie?ie.p(ee,ce):(ie=Oh(ee),ie.c(),ie.m(i,null)):ie&&(ie.d(1),ie=null),ee[2].description?_e?_e.p(ee,ce):(_e=Rh(ee),_e.c(),_e.m(n,B)):_e&&(_e.d(1),_e=null),(!X||ce&4)&&W!==(W=JSON.stringify(ee[2],null,2)+"")&&K(H,W),ee[3].length&&re.p(ee,ce)},i(ee){X||(g(s.$$.fragment,ee),g(E.$$.fragment,ee),g(re),X=!0)},o(ee){$(s.$$.fragment,ee),$(E.$$.fragment,ee),$(re),X=!1},d(ee){te&&te.d(ee),ee&&p(e),ee&&p(n),F&&F.d(),G(s),j&&j.d(),Z&&Z.d(),x&&x.d(),G(E),Q&&Q.d(),V&&V.d(),ie&&ie.d(),_e&&_e.d(),ee&&p(ne),re&&re.d(ee),ee&&p(M)}}}const ji="Martial Art";function OD(r,e,n){let{item:t}=e,{buffMap:i=new Map}=e,{standalone:o=!0}=e;const s=jt("data").byType("item").filter(u=>u.id&&(u.techniques??[]).includes(t.id)).sort(an),a=en.__(t.block_counter?"Block Counter":t.dodge_counter?"Dodge Counter":t.miss_recovery?"Miss Recovery":t.grab_break?"Grab Break":t.defensive?"Defensive":"Offensive"),f=u=>{var d;return((d=/<info>(.+?)<\/info>/.exec(u))==null?void 0:d[1])??u},c=[];return t.human_target&&c.push(f(en.__("* Only works on a <info>humanoid</info> target"))),t.downed_target&&c.push(f(en.__("* Only works on a <info>downed</info> target"))),t.stunned_target&&c.push(f(en.__("* Only works on a <info>stunned</info> target"))),r.$$set=u=>{"item"in u&&n(2,t=u.item),"buffMap"in u&&n(0,i=u.buffMap),"standalone"in u&&n(1,o=u.standalone)},[i,o,t,s,a,c]}class My extends ht{constructor(e){super(),pt(this,e,OD,ID,mt,{item:2,buffMap:0,standalone:1})}}function Ah(r,e,n){const t=r.slice();return t[6]=e[n],t}function Nh(r,e,n){const t=r.slice();return t[9]=e[n][0],t[10]=e[n][1],t}function Bh(r,e,n){const t=r.slice();return t[13]=e[n],t}function Mh(r,e,n){const t=r.slice();return t[16]=e[n],t}function Dh(r,e,n){const t=r.slice();return t[19]=e[n],t}function Lh(r,e,n){const t=r.slice();return t[22]=e[n][0],t[23]=e[n][1],t}function Fh(r){var k;let e,n,t,i,o,l,s,a=r[0].learn_difficulty!=null&&Ph(r),f=((k=r[0].autolearn)==null?void 0:k.length)&&jh(r),c=r[2].length&&RD(r),u=r[0].weapon_category&&Yh(r),d=((r[0].arm_block??99)!=99||r[0].arm_block_with_bio_armor_arms)&&zh(r),b=((r[0].leg_block??99)!==99||r[0].leg_block_with_bio_armor_legs)&&Wh(r);return{c(){e=m("dl"),a&&a.c(),n=ue(),f&&f.c(),t=ue(),c&&c.c(),i=ue(),u&&u.c(),o=ue(),d&&d.c(),l=ue(),b&&b.c()},m(y,E){h(y,e,E),a&&a.m(e,null),_(e,n),f&&f.m(e,null),_(e,t),c&&c.m(e,null),_(e,i),u&&u.m(e,null),_(e,o),d&&d.m(e,null),_(e,l),b&&b.m(e,null),s=!0},p(y,E){var C;y[0].learn_difficulty!=null?a?a.p(y,E):(a=Ph(y),a.c(),a.m(e,n)):a&&(a.d(1),a=null),(C=y[0].autolearn)!=null&&C.length?f?(f.p(y,E),E&1&&g(f,1)):(f=jh(y),f.c(),g(f,1),f.m(e,t)):f&&(fe(),$(f,1,1,()=>{f=null}),ae()),y[2].length&&c.p(y,E),y[0].weapon_category?u?(u.p(y,E),E&1&&g(u,1)):(u=Yh(y),u.c(),g(u,1),u.m(e,o)):u&&(fe(),$(u,1,1,()=>{u=null}),ae()),(y[0].arm_block??99)!=99||y[0].arm_block_with_bio_armor_arms?d?(d.p(y,E),E&1&&g(d,1)):(d=zh(y),d.c(),g(d,1),d.m(e,l)):d&&(fe(),$(d,1,1,()=>{d=null}),ae()),(y[0].leg_block??99)!==99||y[0].leg_block_with_bio_armor_legs?b?(b.p(y,E),E&1&&g(b,1)):(b=Wh(y),b.c(),g(b,1),b.m(e,null)):b&&(fe(),$(b,1,1,()=>{b=null}),ae())},i(y){s||(g(f),g(c),g(u),g(d),g(b),s=!0)},o(y){$(f),$(c),$(u),$(d),$(b),s=!1},d(y){y&&p(e),a&&a.d(),f&&f.d(),c&&c.d(),u&&u.d(),d&&d.d(),b&&b.d()}}}function Ph(r){let e,n,t=r[0].learn_difficulty+"",i,o,l=en.__(Qh(r[0].learn_difficulty))+"",s,a;return{c(){e=m("dt"),e.textContent=`${O.t("Difficulty to Learn",{_context:hi})}`,n=m("dd"),i=w(t),o=w(" ("),s=w(l),a=w(`)
        `)},m(f,c){h(f,e,c),h(f,n,c),_(n,i),_(n,o),_(n,s),_(n,a)},p(f,c){c&1&&t!==(t=f[0].learn_difficulty+"")&&K(i,t),c&1&&l!==(l=en.__(Qh(f[0].learn_difficulty))+"")&&K(s,l)},d(f){f&&p(e),f&&p(n)}}}function jh(r){let e,n,t,i,o=r[0].autolearn&&Uh(r);return{c(){e=m("dt"),e.textContent=`${O.t("Autolearn",{_context:hi})} 
        `,n=m("dd"),o&&o.c(),t=R(),le(e,"title","Learned at these skill levels, otherwise only learnable from a book")},m(l,s){h(l,e,s),h(l,n,s),o&&o.m(n,null),_(n,t),i=!0},p(l,s){l[0].autolearn?o?(o.p(l,s),s&1&&g(o,1)):(o=Uh(l),o.c(),g(o,1),o.m(n,t)):o&&(fe(),$(o,1,1,()=>{o=null}),ae())},i(l){i||(g(o),i=!0)},o(l){$(o),i=!1},d(l){l&&p(e),l&&p(n),o&&o.d()}}}function Uh(r){let e,n,t=r[0].autolearn,i=[];for(let l=0;l<t.length;l+=1)i[l]=Gh(Lh(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c();le(e,"class","comma-separated")},m(l,s){h(l,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(l,s){if(s&1){t=l[0].autolearn;let a;for(a=0;a<t.length;a+=1){const f=Lh(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=Gh(f),i[a].c(),g(i[a],1),i[a].m(e,null))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){l&&p(e),ye(i,l)}}}function Gh(r){let e,n,t,i=r[23]+"",o,l,s;return n=new ge({props:{type:"skill",id:r[22]}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(")")},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p(a,f){const c={};f&1&&(c.id=a[22]),n.$set(c),(!s||f&1)&&i!==(i=a[23]+"")&&K(o,i)},i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function RD(r){let e,n,t,i,o,l=r[2],s=[];for(let f=0;f<l.length;f+=1)s[f]=qh(Dh(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Found In",{_context:hi})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&4){l=f[2];let u;for(u=0;u<l.length;u+=1){const d=Dh(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=qh(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function qh(r){let e,n,t;return n=new ge({props:{type:"item",id:r[19].id}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Yh(r){let e,n,t,i,o,l=r[0].weapon_category,s=[];for(let f=0;f<l.length;f+=1)s[f]=Hh(Mh(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Weapon Category",{_context:hi})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&1){l=f[0].weapon_category;let u;for(u=0;u<l.length;u+=1){const d=Mh(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Hh(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Hh(r){let e,n,t;return n=new ge({props:{type:"weapon_category",id:r[16]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.id=i[16]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function zh(r){let e,n,t,i,o,l;const s=[ND,AD],a=[];function f(c,u){return c[0].arm_block_with_bio_armor_arms?0:1}return t=f(r),i=a[t]=s[t](r),{c(){e=m("dt"),e.textContent=`${O.t("Arm Block",{_context:hi})}`,n=m("dd"),i.c(),o=R()},m(c,u){h(c,e,u),h(c,n,u),a[t].m(n,null),_(n,o),l=!0},p(c,u){let d=t;t=f(c),t===d?a[t].p(c,u):(fe(),$(a[d],1,1,()=>{a[d]=null}),ae(),i=a[t],i?i.p(c,u):(i=a[t]=s[t](c),i.c()),g(i,1),i.m(n,o))},i(c){l||(g(i),l=!0)},o(c){$(i),l=!1},d(c){c&&p(e),c&&p(n),a[t].d()}}}function AD(r){let e,n,t=r[0].arm_block+"",i,o,l;return e=new ge({props:{type:"skill",id:"unarmed"}}),{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){U(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),l=!0},p(s,a){(!l||a&1)&&t!==(t=s[0].arm_block+"")&&K(i,t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){G(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function ND(r){let e,n,t;return n=new ge({props:{type:"item",id:"bio_armor_arms"}}),{c(){e=w("with "),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,i,o),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n,i)}}}function Wh(r){let e,n,t,i,o;const l=[MD,BD],s=[];function a(f,c){return f[0].leg_block_with_bio_armor_legs?0:1}return t=a(r),i=s[t]=l[t](r),{c(){e=m("dt"),e.textContent=`${O.t("Leg Block",{_context:hi})}`,n=m("dd"),i.c()},m(f,c){h(f,e,c),h(f,n,c),s[t].m(n,null),o=!0},p(f,c){let u=t;t=a(f),t===u?s[t].p(f,c):(fe(),$(s[u],1,1,()=>{s[u]=null}),ae(),i=s[t],i?i.p(f,c):(i=s[t]=l[t](f),i.c()),g(i,1),i.m(n,null))},i(f){o||(g(i),o=!0)},o(f){$(i),o=!1},d(f){f&&p(e),f&&p(n),s[t].d()}}}function BD(r){let e,n,t=r[0].leg_block+"",i,o,l;return e=new ge({props:{type:"skill",id:"unarmed"}}),{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){U(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),l=!0},p(s,a){(!l||a&1)&&t!==(t=s[0].leg_block+"")&&K(i,t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){G(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function MD(r){let e,n,t;return n=new ge({props:{type:"item",id:"bio_armor_legs"}}),{c(){e=w("with "),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,i,o),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n,i)}}}function Vh(r){let e,n,t,i,o;return i=new Wt({props:{items:[...r[0].weapons].sort(r[5]),$$slots:{default:[DD,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Weapons",{_context:hi})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&1&&(a.items=[...l[0].weapons].sort(l[5])),s&67108865&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function DD(r){let e,n;return e=new ge({props:{id:r[0],type:"item"}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.id=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function LD(r){let e,n,t=r[13].buff_duration+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Duration",{_context:hi})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function FD(r){let e,n,t=r[13].max_stacks+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Max Stacks",{_context:hi})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function PD(r){let e,n,t=r[13].bonus_dodges+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Bonus Dodges",{_context:hi})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function jD(r){let e,n,t=r[13].bonus_blocks+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Bonus Blocks",{_context:hi})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p:oe,d(o){o&&p(e),o&&p(n)}}}function UD(r){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Silent",{_context:hi})} 
          `,n=m("dd"),n.textContent=`${O.t("Yes")}`,le(e,"title","Attacks will be completely silent")},m(t,i){h(t,e,i),h(t,n,i)},p:oe,d(t){t&&p(e),t&&p(n)}}}function GD(r){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Stealthy",{_context:hi})} 
          `,n=m("dd"),n.textContent=`${O.t("Yes")}`,le(e,"title","Movement will make less noise")},m(t,i){h(t,e,i),h(t,n,i)},p:oe,d(t){t&&p(e),t&&p(n)}}}function qD(r){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Throw Immune",{_context:hi})} 
          `,n=m("dd"),n.textContent=`${O.t("Yes")}`,le(e,"title","Immune to throws/grabs")},m(t,i){h(t,e,i),h(t,n,i)},p:oe,d(t){t&&p(e),t&&p(n)}}}function YD(r){let e,n=Yt(r[13].description)+"",t;return{c(){e=m("p"),t=w(n),bt(e,"color","var(--cata-color-gray)"),bt(e,"white-space","pre-wrap")},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function Jh(r){let e,n,t=en.__(r[9])+"",i,o,l=He(r[13])+"",s,a,f,c,u,d,b,k,y,E,C,I,A;c=new By({props:{item:r[13],buffMap:r[4]}}),u=new Ny({props:{item:r[13]}});let B=r[13].buff_duration&&LD(r),L=r[13].max_stacks&&FD(r),D=r[13].bonus_dodges&&PD(r),Y=r[13].bonus_blocks&&jD(r),z=r[13].quiet&&UD(),W=r[13].stealthy&&GD(),H=r[13].throw_immune&&qD(),ne=r[13].description&&YD(r);return{c(){e=m("section"),n=m("h1"),i=w(t),o=w(": "),s=w(l),a=R(),f=m("dl"),q(c.$$.fragment),q(u.$$.fragment),B&&B.c(),d=ue(),L&&L.c(),b=ue(),D&&D.c(),k=ue(),Y&&Y.c(),y=ue(),z&&z.c(),E=ue(),W&&W.c(),C=ue(),H&&H.c(),I=R(),ne&&ne.c()},m(M,X){h(M,e,X),_(e,n),_(n,i),_(n,o),_(n,s),_(e,a),_(e,f),U(c,f,null),U(u,f,null),B&&B.m(f,null),_(f,d),L&&L.m(f,null),_(f,b),D&&D.m(f,null),_(f,k),Y&&Y.m(f,null),_(f,y),z&&z.m(f,null),_(f,E),W&&W.m(f,null),_(f,C),H&&H.m(f,null),_(e,I),ne&&ne.m(e,null),A=!0},p(M,X){M[13].buff_duration&&B.p(M,X),M[13].max_stacks&&L.p(M,X),M[13].bonus_dodges&&D.p(M,X),M[13].bonus_blocks&&Y.p(M,X),M[13].quiet&&z.p(M,X),M[13].stealthy&&W.p(M,X),M[13].throw_immune&&H.p(M,X),M[13].description&&ne.p(M,X)},i(M){A||(g(c.$$.fragment,M),g(u.$$.fragment,M),A=!0)},o(M){$(c.$$.fragment,M),$(u.$$.fragment,M),A=!1},d(M){M&&p(e),G(c),G(u),B&&B.d(),L&&L.d(),D&&D.d(),Y&&Y.d(),z&&z.d(),W&&W.d(),H&&H.d(),ne&&ne.d()}}}function Xh(r){let e,n,t=r[10],i=[];for(let l=0;l<t.length;l+=1)i[l]=Jh(Bh(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,s){if(s&24){t=l[10];let a;for(a=0;a<t.length;a+=1){const f=Bh(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=Jh(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}function Kh(r){let e,n,t,i,o=r[0].techniques,l=[];for(let a=0;a<o.length;a+=1)l[a]=Zh(Ah(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("h1"),e.textContent=`${O.t("Techniques",{_context:hi})}`,n=R();for(let a=0;a<l.length;a+=1)l[a].c();t=ue()},m(a,f){h(a,e,f),h(a,n,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,t,f),i=!0},p(a,f){if(f&19){o=a[0].techniques;let c;for(c=0;c<o.length;c+=1){const u=Ah(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=Zh(u),l[c].c(),g(l[c],1),l[c].m(t.parentNode,t))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a),a&&p(t)}}}function Zh(r){let e,n;return e=new My({props:{item:r[1].byId("technique",r[6]),buffMap:r[4],standalone:!1}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&1&&(o.item=t[1].byId("technique",t[6])),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function HD(r){var M,X,te;let e,n=O.t("Martial Art")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b=Yt(r[0].description)+"",k,y,E,C,I,A,B,L,D=(r[0].learn_difficulty!=null||((M=r[0].autolearn)==null?void 0:M.length)||(r[0].arm_block??99)!==99||(r[0].leg_block??99)!==99||r[0].arm_block_with_bio_armor_arms||r[0].leg_block_with_bio_armor_legs||r[2].length)&&Fh(r),Y=((X=r[0].weapons)==null?void 0:X.length)&&Vh(r),z=r[3],W=[];for(let F=0;F<z.length;F+=1)W[F]=Xh(Nh(r,z,F));const H=F=>$(W[F],1,1,()=>{W[F]=null});let ne=((te=r[0].techniques)==null?void 0:te.length)&&Kh(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("h1"),f.textContent=`${O.t("General",{_context:hi})}`,c=R(),D&&D.c(),u=R(),d=m("p"),k=w(b),y=R(),Y&&Y.c(),E=R(),C=m("h1"),C.textContent=`${O.t("Buffs",{_context:hi})}`,I=R();for(let F=0;F<W.length;F+=1)W[F].c();A=R(),ne&&ne.c(),B=ue(),bt(d,"color","var(--cata-color-gray)")},m(F,j){h(F,e,j),_(e,t),_(e,i),_(e,l),h(F,s,j),h(F,a,j),_(a,f),_(a,c),D&&D.m(a,null),_(a,u),_(a,d),_(d,k),h(F,y,j),Y&&Y.m(F,j),h(F,E,j),h(F,C,j),h(F,I,j);for(let Z=0;Z<W.length;Z+=1)W[Z]&&W[Z].m(F,j);h(F,A,j),ne&&ne.m(F,j),h(F,B,j),L=!0},p(F,[j]){var Z,x,Q;if((!L||j&1)&&o!==(o=He(F[0])+"")&&K(l,o),F[0].learn_difficulty!=null||(Z=F[0].autolearn)!=null&&Z.length||(F[0].arm_block??99)!==99||(F[0].leg_block??99)!==99||F[0].arm_block_with_bio_armor_arms||F[0].leg_block_with_bio_armor_legs||F[2].length?D?(D.p(F,j),j&1&&g(D,1)):(D=Fh(F),D.c(),g(D,1),D.m(a,u)):D&&(fe(),$(D,1,1,()=>{D=null}),ae()),(!L||j&1)&&b!==(b=Yt(F[0].description)+"")&&K(k,b),(x=F[0].weapons)!=null&&x.length?Y?(Y.p(F,j),j&1&&g(Y,1)):(Y=Vh(F),Y.c(),g(Y,1),Y.m(E.parentNode,E)):Y&&(fe(),$(Y,1,1,()=>{Y=null}),ae()),j&24){z=F[3];let V;for(V=0;V<z.length;V+=1){const ie=Nh(F,z,V);W[V]?(W[V].p(ie,j),g(W[V],1)):(W[V]=Xh(ie),W[V].c(),g(W[V],1),W[V].m(A.parentNode,A))}for(fe(),V=z.length;V<W.length;V+=1)H(V);ae()}(Q=F[0].techniques)!=null&&Q.length?ne?(ne.p(F,j),j&1&&g(ne,1)):(ne=Kh(F),ne.c(),g(ne,1),ne.m(B.parentNode,B)):ne&&(fe(),$(ne,1,1,()=>{ne=null}),ae())},i(F){if(!L){g(D),g(Y);for(let j=0;j<z.length;j+=1)g(W[j]);g(ne),L=!0}},o(F){$(D),$(Y),W=W.filter(Boolean);for(let j=0;j<W.length;j+=1)$(W[j]);$(ne),L=!1},d(F){F&&p(e),F&&p(s),F&&p(a),D&&D.d(),F&&p(y),Y&&Y.d(F),F&&p(E),F&&p(C),F&&p(I),ye(W,F),F&&p(A),ne&&ne.d(F),F&&p(B)}}}const hi="Martial Art";function Qh(r){return r<=2?"easy":r<=4?"moderately hard":r<=6?"hard":r<=8?"very hard":"extremely hard"}function zD(r,e,n){const t=jt("data");let{item:i}=e;const o=t.byType("item").filter(f=>Zt("BOOK",f)&&f.martial_art===i.id),l=[["Passive",i.static_buffs??[]],["Move",i.onmove_buffs??[]],["Pause",i.onpause_buffs??[]],["Hit",i.onhit_buffs??[]],["Miss",i.onmiss_buffs??[]],["Attack",i.onattack_buffs??[]],["Crit",i.oncrit_buffs??[]],["Kill",i.onkill_buffs??[]],["Dodge",i.ondodge_buffs??[]],["Block",i.onblock_buffs??[]],["Get hit",i.ongethit_buffs??[]]],s=new Map(l.flatMap(f=>f[1]).map(f=>[f.id,f])),a=(f,c)=>He(t.byId("item",f)).localeCompare(He(t.byId("item",c)));return r.$$set=f=>{"item"in f&&n(0,i=f.item)},[i,t,o,l,s,a]}class WD extends ht{constructor(e){super(),pt(this,e,zD,HD,mt,{item:0})}}function VD(r){let e;const n=r[5].default,t=ki(n,r,r[4],null);return{c(){t&&t.c()},m(i,o){t&&t.m(i,o),e=!0},p(i,o){t&&t.p&&(!e||o&16)&&wi(t,n,i,i[4],e?vi(n,i[4],o,null):Ei(i[4]),null)},i(i){e||(g(t,i),e=!0)},o(i){$(t,i),e=!1},d(i){t&&t.d(i)}}}function JD(r){let e,n,t=r[1].message+"",i,o,l,s,a=(r[2]?r[1].stack:"")+"",f,c;return{c(){e=m("div"),n=m("b"),i=w(t),o=R(),l=m("pre"),s=w("      "),f=w(a),c=w(`
    `),le(l,"class","trace svelte-1nrekyi"),le(e,"class","error svelte-1nrekyi")},m(u,d){h(u,e,d),_(e,n),_(n,i),_(e,o),_(e,l),_(l,s),_(l,f),_(l,c)},p(u,d){d&2&&t!==(t=u[1].message+"")&&K(i,t),d&2&&a!==(a=(u[2]?u[1].stack:"")+"")&&K(f,a)},i:oe,o:oe,d(u){u&&p(e)}}}function XD(r){let e,n,t,i;const o=[JD,VD],l=[];function s(a,f){return a[1]?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,[f]){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function KD(r,e,n){let t,i=oe,o=()=>(i(),i=sy(a,d=>n(1,t=d)),a);r.$$.on_destroy.push(()=>i());let{$$slots:l={},$$scope:s}=e,{error:a}=e;o();let{onError:f=null}=e,u=(typeof process<"u"&&process.env&&"production")!=="production";return r.$$set=d=>{"error"in d&&o(n(0,a=d.error)),"onError"in d&&n(3,f=d.onError),"$$scope"in d&&n(4,s=d.$$scope)},r.$$.update=()=>{r.$$.dirty&10&&t&&f&&f(t)},[a,t,u,f,s,l]}let ZD=class extends ht{constructor(e){super(),pt(this,e,KD,XD,mt,{error:0,onError:3})}};const QD=["c","l","h","m","p","a","i","o","d"];function xD(r){if(r.$$render){let n=r.$$render;return r.$$render=(t,i,o,l)=>{const s=lo(void 0);try{return n(t,{error:s,...i},o,l)}catch(a){return s.set(a),n(t,{error:s,...i},o,{})}},r}function e(n,t){return function(...o){try{return n(...o)}catch(l){t(l)}}}return class extends r{constructor(t){const i=lo(void 0);t.props.$$slots.default=t.props.$$slots.default.map(o=>(...l)=>{let a=e(o,i.set)(...l);if(a)for(let f of QD)a[f]&&(a[f]=e(a[f],i.set));return a}),super(t),this.$$set({error:i})}}}const eL=xD(ZD);function tL(r,e){const n=[];let t=!0;const i=new Set(r),o=new Set;for(;i.size;){const s=i.values().next().value;if(l(s),!t)throw new Error("Not a DAG")}return n;function l(s){if(i.has(s)){if(o.has(s)){t=!1;return}o.add(s);for(const a of e(s))l(a);o.delete(s),i.delete(s),n.push(s)}}}function Dy(r,e){return rL(r,e).map(n=>nL(n,e))}function nL(r,e){const n=new Map,t=l=>{if(n.has(l))return n.get(l);const s=Math.max(0,...e(l).map(t))+1;return n.set(l,s),s};r.forEach(l=>t(l));const i=[],o=tL(r,e);for(const l of o){const s=n.get(l);i[s]||(i[s]=[]),i[s].push(l)}return i.filter(l=>l)}function iL(r,e){return n=>e(n).filter(t=>r.includes(t))}function lL(r,e){const n=iL(r,e),t=new Map,i=(o,l)=>{t.has(o)||t.set(o,new Set),t.get(o).add(l),t.has(l)||t.set(l,new Set),t.get(l).add(o)};for(const o of r)for(const l of n(o))i(o,l);return o=>[...t.get(o)??[]]}function rL(r,e){const n=lL(r,e),t=[],i=new Set(r);for(;i.size;){const o=i.values().next().value;i.delete(o);const l=[],s=[o];for(;s.length;){const a=s.shift();l.includes(a)||(l.push(a),i.delete(a),s.push(...n(a)))}t.push(l)}return t}function xh(r,e,n){const t=r.slice();return t[5]=e[n],t}function eg(r,e,n){const t=r.slice();return t[8]=e[n],t[10]=n,t}function tg(r,e,n){const t=r.slice();return t[11]=e[n],t[10]=n,t}function oL(r){let e;return{c(){e=w(" →")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function sL(r){let e;return{c(){e=w(",")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function ng(r){let e,n,t,i=r[10]>0&&sL();return n=new ge({props:{id:r[11].id,type:"mutation"}}),{c(){i&&i.c(),e=R(),q(n.$$.fragment)},m(o,l){i&&i.m(o,l),h(o,e,l),U(n,o,l),t=!0},p:oe,i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),G(n,o)}}}function ig(r){let e,n,t,i=r[10]>0&&oL(),o=r[8],l=[];for(let a=0;a<o.length;a+=1)l[a]=ng(tg(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){i&&i.c(),e=R();for(let a=0;a<l.length;a+=1)l[a].c();n=ue()},m(a,f){i&&i.m(a,f),h(a,e,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,n,f),t=!0},p(a,f){if(f&1){o=a[8];let c;for(c=0;c<o.length;c+=1){const u=tg(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=ng(u),l[c].c(),g(l[c],1),l[c].m(n.parentNode,n))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!t){for(let f=0;f<o.length;f+=1)g(l[f]);t=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);t=!1},d(a){i&&i.d(a),a&&p(e),ye(l,a),a&&p(n)}}}function lg(r){let e,n,t,i=r[5],o=[];for(let s=0;s<i.length;s+=1)o[s]=ig(eg(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=R()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);_(e,n),t=!0},p(s,a){if(a&1){i=s[5];let f;for(f=0;f<i.length;f+=1){const c=eg(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=ig(c),o[f].c(),g(o[f],1),o[f].m(e,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s)}}}function fL(r){let e,n,t=r[0],i=[];for(let l=0;l<t.length;l+=1)i[l]=lg(xh(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c()},m(l,s){h(l,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(l,[s]){if(s&1){t=l[0];let a;for(a=0;a<t.length;a+=1){const f=xh(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=lg(f),i[a].c(),g(i[a],1),i[a].m(e,null))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){l&&p(e),ye(i,l)}}}function aL(r,e,n){let t=jt("data");const i=a=>a?Array.isArray(a)?a:[a]:[];let{mutations:o}=e;const l=a=>i(a.prereqs).concat(i(a.prereqs2)).concat(i(a.threshreq));let s=Dy(o,a=>l(a).map(f=>t.byId("mutation",f))).sort((a,f)=>He(a[0][0]).localeCompare(He(f[0][0])));return r.$$set=a=>{"mutations"in a&&n(1,o=a.mutations)},[s,o]}class fl extends ht{constructor(e){super(),pt(this,e,aL,fL,mt,{mutations:1})}}function rg(r,e,n){const t=r.slice();return t[12]=e[n],t}function og(r,e,n){const t=r.slice();return t[15]=e[n],t}function sg(r,e,n){const t=r.slice();return t[15]=e[n].id,t}function fg(r,e,n){const t=r.slice();return t[15]=e[n].id,t}function ag(r,e,n){const t=r.slice();return t[15]=e[n],t}function cg(r,e,n){const t=r.slice();return t[24]=e[n],t}function ug(r,e,n){const t=r.slice();return t[24]=e[n],t}function _g(r,e,n){const t=r.slice();return t[24]=e[n],t}function dg(r,e,n){const t=r.slice();return t[31]=e[n],t}function mg(r,e,n){const t=r.slice();return t[34]=e[n][0],t[35]=e[n][1],t}function pg(r,e,n){const t=r.slice();return t[38]=e[n],t}function hg(r,e,n){const t=r.slice();return t[38]=e[n][0],t[41]=e[n][1],t}function gg(r,e,n){const t=r.slice();return t[38]=e[n][0],t[41]=e[n][1],t}function bg(r,e,n){const t=r.slice();return t[49]=e[n],t}function $g(r,e,n){const t=r.slice();return t[46]=e[n],t}function cL(r){let e=r[0].points+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i[0]&1&&e!==(e=t[0].points+"")&&K(n,e)},d(t){t&&p(n)}}}function uL(r){let e,n,t,i,o,l=r[1].byType("mutation_category").filter(r[8]),s=[];for(let f=0;f<l.length;f+=1)s[f]=yg(bg(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Category",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&3){l=f[1].byType("mutation_category").filter(f[8]);let u;for(u=0;u<l.length;u+=1){const d=bg(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=yg(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function _L(r){let e,n,t,i,o,l=r[2](r[0].category),s=[];for(let f=0;f<l.length;f+=1)s[f]=kg($g(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Category",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&5){l=f[2](f[0].category);let u;for(u=0;u<l.length;u+=1){const d=$g(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=kg(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function yg(r){let e,n,t;return n=new ge({props:{type:"mutation_category",id:r[49].id}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[49].id),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function kg(r){let e,n,t;return n=new ge({props:{type:"mutation_category",id:r[46]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[46]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function vg(r){let e,n,t,i,o,l=r[0].encumbrance_always,s=[];for(let f=0;f<l.length;f+=1)s[f]=wg(gg(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Encumbrance",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].encumbrance_always;let u;for(u=0;u<l.length;u+=1){const d=gg(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=wg(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function wg(r){let e,n,t,i=r[41]+"",o,l,s;return n=new ge({props:{type:"body_part",id:r[38]}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(")")},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p(a,f){const c={};f[0]&1&&(c.id=a[38]),n.$set(c),(!s||f[0]&1)&&i!==(i=a[41]+"")&&K(o,i)},i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function Eg(r){let e,n,t,i,o,l=r[0].encumbrance_covered,s=[];for(let f=0;f<l.length;f+=1)s[f]=Tg(hg(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Encumbrance (covered)",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].encumbrance_covered;let u;for(u=0;u<l.length;u+=1){const d=hg(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Tg(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Tg(r){let e,n,t,i=r[41]+"",o,l,s;return n=new ge({props:{type:"body_part",id:r[38]}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(")")},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p(a,f){const c={};f[0]&1&&(c.id=a[38]),n.$set(c),(!s||f[0]&1)&&i!==(i=a[41]+"")&&K(o,i)},i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function Sg(r){let e,n=O.t("Restricts Gear",{_context:Xn})+"",t,i,o,l,s,a,f=r[0].restricts_gear,c=[];for(let d=0;d<f.length;d+=1)c[d]=Cg(pg(r,f,d));const u=d=>$(c[d],1,1,()=>{c[d]=null});return{c(){e=m("dt"),t=w(n),i=R(),o=m("dd"),l=m("ul");for(let d=0;d<c.length;d+=1)c[d].c();s=R(),le(e,"title",O.t("Gear worn on this body part must be large enough to accommodate abnormally large mutated anatomy.")),le(l,"class","comma-separated")},m(d,b){h(d,e,b),_(e,t),_(e,i),h(d,o,b),_(o,l);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(l,null);_(o,s),a=!0},p(d,b){if(b[0]&1){f=d[0].restricts_gear;let k;for(k=0;k<f.length;k+=1){const y=pg(d,f,k);c[k]?(c[k].p(y,b),g(c[k],1)):(c[k]=Cg(y),c[k].c(),g(c[k],1),c[k].m(l,null))}for(fe(),k=f.length;k<c.length;k+=1)u(k);ae()}},i(d){if(!a){for(let b=0;b<f.length;b+=1)g(c[b]);a=!0}},o(d){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)$(c[b]);a=!1},d(d){d&&p(e),d&&p(o),ye(c,d)}}}function Cg(r){let e,n,t;return n=new ge({props:{type:"body_part",id:r[38]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[38]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Ig(r){let e,n,t,i,o,l=r[0].craft_skill_bonus,s=[];for(let f=0;f<l.length;f+=1)s[f]=Og(mg(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Crafting Skill Modifier",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].craft_skill_bonus;let u;for(u=0;u<l.length;u+=1){const d=mg(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Og(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Og(r){let e,n,t,i=(r[35]>0?"+"+r[35]:r[35])+"",o,l,s;return n=new ge({props:{type:"skill",id:r[34]}}),{c(){e=m("li"),q(n.$$.fragment),t=w(" ("),o=w(i),l=w(`)
            `)},m(a,f){h(a,e,f),U(n,e,null),_(e,t),_(e,o),_(e,l),s=!0},p(a,f){const c={};f[0]&1&&(c.id=a[34]),n.$set(c),(!s||f[0]&1)&&i!==(i=(a[35]>0?"+"+a[35]:a[35])+"")&&K(o,i)},i(a){s||(g(n.$$.fragment,a),s=!0)},o(a){$(n.$$.fragment,a),s=!1},d(a){a&&p(e),G(n)}}}function dL(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function mL(r){let e,n,t=r[2](r[0].types),i=[];for(let l=0;l<t.length;l+=1)i[l]=Rg(dg(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c();le(e,"class","comma-separated")},m(l,s){h(l,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(l,s){if(s[0]&5){t=l[2](l[0].types);let a;for(a=0;a<t.length;a+=1){const f=dg(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=Rg(f),i[a].c(),g(i[a],1),i[a].m(e,null))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){l&&p(e),ye(i,l)}}}function Rg(r){let e,n,t;return n=new ge({props:{type:"mutation_type",id:r[31]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[31]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function pL(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function hL(r){let e,n,t,i,o,l=r[2](r[0].prereqs),s=[];for(let c=0;c<l.length;c+=1)s[c]=Ag(_g(r,l,c));const a=c=>$(s[c],1,1,()=>{s[c]=null});let f=r[0].prereqs2&&Ng(r);return{c(){e=m("ul"),n=m("li"),t=m("ul");for(let c=0;c<s.length;c+=1)s[c].c();i=R(),f&&f.c(),le(t,"class","comma-separated or")},m(c,u){h(c,e,u),_(e,n),_(n,t);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null);_(e,i),f&&f.m(e,null),o=!0},p(c,u){if(u[0]&5){l=c[2](c[0].prereqs);let d;for(d=0;d<l.length;d+=1){const b=_g(c,l,d);s[d]?(s[d].p(b,u),g(s[d],1)):(s[d]=Ag(b),s[d].c(),g(s[d],1),s[d].m(t,null))}for(fe(),d=l.length;d<s.length;d+=1)a(d);ae()}c[0].prereqs2?f?(f.p(c,u),u[0]&1&&g(f,1)):(f=Ng(c),f.c(),g(f,1),f.m(e,null)):f&&(fe(),$(f,1,1,()=>{f=null}),ae())},i(c){if(!o){for(let u=0;u<l.length;u+=1)g(s[u]);g(f),o=!0}},o(c){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)$(s[u]);$(f),o=!1},d(c){c&&p(e),ye(s,c),f&&f.d()}}}function Ag(r){let e,n,t;return n=new ge({props:{type:"mutation",id:r[24]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[24]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Ng(r){let e,n,t,i=r[2](r[0].prereqs2),o=[];for(let s=0;s<i.length;s+=1)o[s]=Bg(ug(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li"),n=m("ul");for(let s=0;s<o.length;s+=1)o[s].c();le(n,"class","comma-separated or")},m(s,a){h(s,e,a),_(e,n);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(n,null);t=!0},p(s,a){if(a[0]&5){i=s[2](s[0].prereqs2);let f;for(f=0;f<i.length;f+=1){const c=ug(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=Bg(c),o[f].c(),g(o[f],1),o[f].m(n,null))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s)}}}function Bg(r){let e,n,t;return n=new ge({props:{type:"mutation",id:r[24]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[24]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Mg(r){let e,n,t,i,o,l=r[2](r[0].threshreq),s=[];for(let f=0;f<l.length;f+=1)s[f]=Dg(cg(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Threshold Requirement",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated or")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&5){l=f[2](f[0].threshreq);let u;for(u=0;u<l.length;u+=1){const d=cg(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Dg(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Dg(r){let e,n,t;return n=new ge({props:{type:"mutation",id:r[24]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[24]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Lg(r){let e,n,t,i,o,l=r[2](r[0].leads_to),s=[];for(let f=0;f<l.length;f+=1)s[f]=Fg(ag(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Leads To",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&5){l=f[2](f[0].leads_to);let u;for(u=0;u<l.length;u+=1){const d=ag(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Fg(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Fg(r){let e,n,t;return n=new ge({props:{id:r[15],type:"mutation"}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[15]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Pg(r){let e,n,t,i,o;return t=new fl({props:{mutations:r[2](r[0].changes_to).map(r[9])}}),{c(){e=m("dt"),e.textContent=`${O.t("Changes To",{_context:Xn})}`,n=m("dd"),q(t.$$.fragment),i=R()},m(l,s){h(l,e,s),h(l,n,s),U(t,n,null),_(n,i),o=!0},p(l,s){const a={};s[0]&1&&(a.mutations=l[2](l[0].changes_to).map(l[9])),t.$set(a)},i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){$(t.$$.fragment,l),o=!1},d(l){l&&p(e),l&&p(n),G(t)}}}function jg(r){let e,n,t,i,o;return t=new fl({props:{mutations:r[2](r[0].cancels).map(r[10])}}),{c(){e=m("dt"),e.textContent=`${O.t("Cancels",{_context:Xn})}`,n=m("dd"),q(t.$$.fragment),i=R()},m(l,s){h(l,e,s),h(l,n,s),U(t,n,null),_(n,i),o=!0},p(l,s){const a={};s[0]&1&&(a.mutations=l[2](l[0].cancels).map(l[10])),t.$set(a)},i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){$(t.$$.fragment,l),o=!1},d(l){l&&p(e),l&&p(n),G(t)}}}function gL(r){let e,n,t,i,o;return t=new fl({props:{mutations:r[5]}}),{c(){e=m("dt"),e.textContent=`${O.t("Canceled By",{_context:Xn})}`,n=m("dd"),q(t.$$.fragment),i=R()},m(l,s){h(l,e,s),h(l,n,s),U(t,n,null),_(n,i),o=!0},p:oe,i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){$(t.$$.fragment,l),o=!1},d(l){l&&p(e),l&&p(n),G(t)}}}function bL(r){let e,n,t,i,o,l=r[7],s=[];for(let f=0;f<l.length;f+=1)s[f]=Ug(fg(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Incompatible With",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&128){l=f[7];let u;for(u=0;u<l.length;u+=1){const d=fg(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Ug(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Ug(r){let e,n,t;return n=new ge({props:{id:r[15],type:"bionic"}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function $L(r){let e,n,t,i,o,l=r[6],s=[];for(let f=0;f<l.length;f+=1)s[f]=Gg(sg(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Canceled By Bionics",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&64){l=f[6];let u;for(u=0;u<l.length;u+=1){const d=sg(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Gg(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Gg(r){let e,n,t;return n=new ge({props:{id:r[15],type:"bionic"}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function qg(r){let e,n,t,i,o=r[0].integrated_armor,l=[];for(let a=0;a<o.length;a+=1)l[a]=Yg(og(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Integrated Armor",{_context:Xn})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f[0]&1){o=a[0].integrated_armor;let c;for(c=0;c<o.length;c+=1){const u=og(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=Yg(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function Yg(r){let e,n,t;return n=new ge({props:{id:r[15],type:"item"}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[15]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Hg(r){let e,n,t,i,o;return i=new fl({props:{mutations:r[3]}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Post-Threshold Mutations",{_context:Xn})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p:oe,i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function yL(r){let e,n,t,i,o,l=r[4],s=[];for(let f=0;f<l.length;f+=1)s[f]=zg(rg(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Required By",{_context:Xn})}`,t=R(),i=m("ul");for(let f=0;f<s.length;f+=1)s[f].c()},m(f,c){h(f,e,c),_(e,n),_(e,t),_(e,i);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(i,null);o=!0},p(f,c){if(c[0]&16){l=f[4];let u;for(u=0;u<l.length;u+=1){const d=rg(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=zg(d),s[u].c(),g(s[u],1),s[u].m(i,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),ye(s,f)}}}function zg(r){let e,n,t;return n=new ge({props:{id:r[12].id,type:"mutation"}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function kL(r){var rt,Bt,Ot,Pe,Je,ft;let e,n=(r[0].threshold?O.t("Threshold Mutation"):O.t("Mutation"))+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b,k,y,E,C=(r[0].purifiable??!0?O.t("Yes"):O.t("No"))+"",I,A,B,L=(r[0].visibility??0)+"",D,Y,z,W=(r[0].ugliness??0)+"",H,ne,M,X,te,F=O.t("{n, plural, =1 {Type} other {Types}}",{n:r[2](r[0].types).length??0,_context:Xn})+"",j,Z,x,Q,V,ie,_e,re,ee,ce,Ee,we,De,ze,We,Ve,Qe,ve,Te,Ce,it=Yt(r[0].description)+"",Be,et,xe,At,wt;d=new by({props:{mutation:r[0],$$slots:{default:[cL]},$$scope:{ctx:r}}});const st=[_L,uL],Ut=[];function $t(Se,ct){return Se[0].category?0:Se[0].threshold?1:-1}~(b=$t(r))&&(k=Ut[b]=st[b](r));let _t=((rt=r[0].encumbrance_always)==null?void 0:rt.length)&&vg(r),Ue=((Bt=r[0].encumbrance_covered)==null?void 0:Bt.length)&&Eg(r),ke=((Ot=r[0].restricts_gear)==null?void 0:Ot.length)&&Sg(r),Ke=((Pe=r[0].craft_skill_bonus)==null?void 0:Pe.length)&&Ig(r);const Lt=[mL,dL],Rt=[];function Ct(Se,ct){return Se[0].types?0:1}Q=Ct(r),V=Rt[Q]=Lt[Q](r);const pe=[hL,pL],$e=[];function Ae(Se,ct){return Se[0].prereqs?0:1}ee=Ae(r),ce=$e[ee]=pe[ee](r);let de=r[0].threshreq&&Mg(r),Ge=r[0].leads_to&&Lg(r),Oe=((Je=r[0].changes_to)==null?void 0:Je.length)&&Pg(r),dt=((ft=r[0].cancels)==null?void 0:ft.length)&&jg(r),Ie=r[5].length&&gL(r),at=r[7].length&&bL(r),Ze=r[6].length&&$L(r),Me=r[0].integrated_armor&&qg(r),je=r[0].threshold&&r[3].length&&Hg(r),ot=r[4].length&&yL(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("dl"),c=m("dt"),c.textContent=`${O.t("Points",{_context:Xn})}`,u=m("dd"),q(d.$$.fragment),k&&k.c(),y=m("dt"),y.textContent=`${O.t("Purifiable",{_context:Xn})}`,E=m("dd"),I=w(C),A=m("dt"),A.textContent=`${O.t("Visibility",{_context:Xn})}`,B=m("dd"),D=w(L),Y=m("dt"),Y.textContent=`${O.t("Ugliness",{_context:Xn})}`,z=m("dd"),H=w(W),_t&&_t.c(),ne=ue(),Ue&&Ue.c(),M=ue(),ke&&ke.c(),X=ue(),Ke&&Ke.c(),te=m("dt"),j=w(F),Z=R(),x=m("dd"),V.c(),ie=R(),_e=m("dt"),_e.textContent=`${O.t("Prerequisites",{_context:Xn})}`,re=m("dd"),ce.c(),Ee=R(),de&&de.c(),we=ue(),Ge&&Ge.c(),De=ue(),Oe&&Oe.c(),ze=ue(),dt&&dt.c(),We=ue(),Ie&&Ie.c(),Ve=ue(),at&&at.c(),Qe=ue(),Ze&&Ze.c(),ve=ue(),Me&&Me.c(),Te=R(),Ce=m("p"),Be=w(it),et=R(),je&&je.c(),xe=R(),ot&&ot.c(),At=ue(),le(te,"title",O.t("You can't have two mutations that share a type.")),bt(Ce,"color","var(--cata-color-gray)")},m(Se,ct){h(Se,e,ct),_(e,t),_(e,i),_(e,l),h(Se,s,ct),h(Se,a,ct),_(a,f),_(f,c),_(f,u),U(d,u,null),~b&&Ut[b].m(f,null),_(f,y),_(f,E),_(E,I),_(f,A),_(f,B),_(B,D),_(f,Y),_(f,z),_(z,H),_t&&_t.m(f,null),_(f,ne),Ue&&Ue.m(f,null),_(f,M),ke&&ke.m(f,null),_(f,X),Ke&&Ke.m(f,null),_(f,te),_(te,j),_(te,Z),_(f,x),Rt[Q].m(x,null),_(x,ie),_(f,_e),_(f,re),$e[ee].m(re,null),_(re,Ee),de&&de.m(f,null),_(f,we),Ge&&Ge.m(f,null),_(f,De),Oe&&Oe.m(f,null),_(f,ze),dt&&dt.m(f,null),_(f,We),Ie&&Ie.m(f,null),_(f,Ve),at&&at.m(f,null),_(f,Qe),Ze&&Ze.m(f,null),_(f,ve),Me&&Me.m(f,null),_(a,Te),_(a,Ce),_(Ce,Be),h(Se,et,ct),je&&je.m(Se,ct),h(Se,xe,ct),ot&&ot.m(Se,ct),h(Se,At,ct),wt=!0},p(Se,ct){var Xe,Et,nn,Re,yt,dn;(!wt||ct[0]&1)&&n!==(n=(Se[0].threshold?O.t("Threshold Mutation"):O.t("Mutation"))+"")&&K(t,n),(!wt||ct[0]&1)&&o!==(o=He(Se[0])+"")&&K(l,o);const tn={};ct[0]&1&&(tn.mutation=Se[0]),ct[0]&1|ct[1]&2097152&&(tn.$$scope={dirty:ct,ctx:Se}),d.$set(tn);let Mt=b;b=$t(Se),b===Mt?~b&&Ut[b].p(Se,ct):(k&&(fe(),$(Ut[Mt],1,1,()=>{Ut[Mt]=null}),ae()),~b?(k=Ut[b],k?k.p(Se,ct):(k=Ut[b]=st[b](Se),k.c()),g(k,1),k.m(f,y)):k=null),(!wt||ct[0]&1)&&C!==(C=(Se[0].purifiable??!0?O.t("Yes"):O.t("No"))+"")&&K(I,C),(!wt||ct[0]&1)&&L!==(L=(Se[0].visibility??0)+"")&&K(D,L),(!wt||ct[0]&1)&&W!==(W=(Se[0].ugliness??0)+"")&&K(H,W),(Xe=Se[0].encumbrance_always)!=null&&Xe.length?_t?(_t.p(Se,ct),ct[0]&1&&g(_t,1)):(_t=vg(Se),_t.c(),g(_t,1),_t.m(f,ne)):_t&&(fe(),$(_t,1,1,()=>{_t=null}),ae()),(Et=Se[0].encumbrance_covered)!=null&&Et.length?Ue?(Ue.p(Se,ct),ct[0]&1&&g(Ue,1)):(Ue=Eg(Se),Ue.c(),g(Ue,1),Ue.m(f,M)):Ue&&(fe(),$(Ue,1,1,()=>{Ue=null}),ae()),(nn=Se[0].restricts_gear)!=null&&nn.length?ke?(ke.p(Se,ct),ct[0]&1&&g(ke,1)):(ke=Sg(Se),ke.c(),g(ke,1),ke.m(f,X)):ke&&(fe(),$(ke,1,1,()=>{ke=null}),ae()),(Re=Se[0].craft_skill_bonus)!=null&&Re.length?Ke?(Ke.p(Se,ct),ct[0]&1&&g(Ke,1)):(Ke=Ig(Se),Ke.c(),g(Ke,1),Ke.m(f,te)):Ke&&(fe(),$(Ke,1,1,()=>{Ke=null}),ae()),(!wt||ct[0]&1)&&F!==(F=O.t("{n, plural, =1 {Type} other {Types}}",{n:Se[2](Se[0].types).length??0,_context:Xn})+"")&&K(j,F);let Qt=Q;Q=Ct(Se),Q===Qt?Rt[Q].p(Se,ct):(fe(),$(Rt[Qt],1,1,()=>{Rt[Qt]=null}),ae(),V=Rt[Q],V?V.p(Se,ct):(V=Rt[Q]=Lt[Q](Se),V.c()),g(V,1),V.m(x,ie));let sn=ee;ee=Ae(Se),ee===sn?$e[ee].p(Se,ct):(fe(),$($e[sn],1,1,()=>{$e[sn]=null}),ae(),ce=$e[ee],ce?ce.p(Se,ct):(ce=$e[ee]=pe[ee](Se),ce.c()),g(ce,1),ce.m(re,Ee)),Se[0].threshreq?de?(de.p(Se,ct),ct[0]&1&&g(de,1)):(de=Mg(Se),de.c(),g(de,1),de.m(f,we)):de&&(fe(),$(de,1,1,()=>{de=null}),ae()),Se[0].leads_to?Ge?(Ge.p(Se,ct),ct[0]&1&&g(Ge,1)):(Ge=Lg(Se),Ge.c(),g(Ge,1),Ge.m(f,De)):Ge&&(fe(),$(Ge,1,1,()=>{Ge=null}),ae()),(yt=Se[0].changes_to)!=null&&yt.length?Oe?(Oe.p(Se,ct),ct[0]&1&&g(Oe,1)):(Oe=Pg(Se),Oe.c(),g(Oe,1),Oe.m(f,ze)):Oe&&(fe(),$(Oe,1,1,()=>{Oe=null}),ae()),(dn=Se[0].cancels)!=null&&dn.length?dt?(dt.p(Se,ct),ct[0]&1&&g(dt,1)):(dt=jg(Se),dt.c(),g(dt,1),dt.m(f,We)):dt&&(fe(),$(dt,1,1,()=>{dt=null}),ae()),Se[5].length&&Ie.p(Se,ct),Se[7].length&&at.p(Se,ct),Se[6].length&&Ze.p(Se,ct),Se[0].integrated_armor?Me?(Me.p(Se,ct),ct[0]&1&&g(Me,1)):(Me=qg(Se),Me.c(),g(Me,1),Me.m(f,null)):Me&&(fe(),$(Me,1,1,()=>{Me=null}),ae()),(!wt||ct[0]&1)&&it!==(it=Yt(Se[0].description)+"")&&K(Be,it),Se[0].threshold&&Se[3].length?je?(je.p(Se,ct),ct[0]&1&&g(je,1)):(je=Hg(Se),je.c(),g(je,1),je.m(xe.parentNode,xe)):je&&(fe(),$(je,1,1,()=>{je=null}),ae()),Se[4].length&&ot.p(Se,ct)},i(Se){wt||(g(d.$$.fragment,Se),g(k),g(_t),g(Ue),g(ke),g(Ke),g(V),g(ce),g(de),g(Ge),g(Oe),g(dt),g(Ie),g(at),g(Ze),g(Me),g(je),g(ot),wt=!0)},o(Se){$(d.$$.fragment,Se),$(k),$(_t),$(Ue),$(ke),$(Ke),$(V),$(ce),$(de),$(Ge),$(Oe),$(dt),$(Ie),$(at),$(Ze),$(Me),$(je),$(ot),wt=!1},d(Se){Se&&p(e),Se&&p(s),Se&&p(a),G(d),~b&&Ut[b].d(),_t&&_t.d(),Ue&&Ue.d(),ke&&ke.d(),Ke&&Ke.d(),Rt[Q].d(),$e[ee].d(),de&&de.d(),Ge&&Ge.d(),Oe&&Oe.d(),dt&&dt.d(),Ie&&Ie.d(),at&&at.d(),Ze&&Ze.d(),Me&&Me.d(),Se&&p(et),je&&je.d(Se),Se&&p(xe),ot&&ot.d(Se),Se&&p(At)}}}const Xn="Mutation";function vL(r,e,n){let{item:t}=e,i=jt("data");const o=y=>y?Array.isArray(y)?y:[y]:[],l=(y,E)=>y?Array.isArray(y)?y.includes(E):y===E:!1,s=i.byType("mutation").filter(y=>l(y.threshreq,t.id)).sort(an),a=i.byType("mutation").filter(y=>l(y.prereqs,t.id)||l(y.prereqs2,t.id)).sort(an),f=i.byType("mutation").filter(y=>l(y.cancels,t.id)).sort(an),c=i.byType("bionic").filter(y=>l(y.canceled_mutations,t.id)).sort(an),u=i.byType("bionic").filter(y=>l(y.mutation_conflicts,t.id)).sort(an),d=y=>y.threshold_mut===t.id,b=y=>i.byId("mutation",y),k=y=>i.byId("mutation",y);return r.$$set=y=>{"item"in y&&n(0,t=y.item)},[t,i,o,s,a,f,c,u,d,b,k]}class wL extends ht{constructor(e){super(),pt(this,e,vL,kL,mt,{item:0},null,[-1,-1])}}function Wg(r){let e,n=O.t("Mutation Category")+"",t,i,o=He(r[0])+"",l;return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o)},m(s,a){h(s,e,a),_(e,t),_(e,i),_(e,l)},p(s,a){a&1&&o!==(o=He(s[0])+"")&&K(l,o)},d(s){s&&p(e)}}}function Vg(r){let e,n=He(r[0])+"",t;return{c(){e=m("h1"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=He(i[0])+"")&&K(t,n)},d(i){i&&p(e)}}}function Jg(r){let e,n,t,i;return t=new ge({props:{id:r[0].vitamin,type:"vitamin"}}),{c(){e=m("dt"),e.textContent=`${O.t("Vitamin",{_context:ps})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].vitamin),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function EL(r){let e,n,t,i,o;return t=new fl({props:{mutations:r[2]}}),{c(){e=m("dt"),e.textContent=`${O.t("Pre-Threshold Mutations",{_context:ps})}`,n=m("dd"),q(t.$$.fragment),i=R()},m(l,s){h(l,e,s),h(l,n,s),U(t,n,null),_(n,i),o=!0},p:oe,i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){$(t.$$.fragment,l),o=!1},d(l){l&&p(e),l&&p(n),G(t)}}}function Xg(r){let e,n,t,i;return t=new ge({props:{id:r[0].threshold_mut,type:"mutation"}}),{c(){e=m("dt"),e.textContent=`${O.t("Threshold Mutation",{_context:ps})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l&1&&(s.id=o[0].threshold_mut),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function TL(r){let e,n,t,i;return t=new fl({props:{mutations:r[3]}}),{c(){e=m("dt"),e.textContent=`${O.t("Post-Threshold Mutations",{_context:ps})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p:oe,i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function SL(r){let e,n,t,i,o,l,s,a,f=!r[1]&&Wg(r),c=r[1]&&Vg(r),u=r[0].vitamin&&Jg(r),d=r[2].length&&EL(r),b=r[0].threshold_mut&&Xg(r),k=r[3].length&&TL(r);return{c(){f&&f.c(),e=R(),n=m("section"),c&&c.c(),t=R(),i=m("dl"),u&&u.c(),o=ue(),d&&d.c(),l=ue(),b&&b.c(),s=ue(),k&&k.c()},m(y,E){f&&f.m(y,E),h(y,e,E),h(y,n,E),c&&c.m(n,null),_(n,t),_(n,i),u&&u.m(i,null),_(i,o),d&&d.m(i,null),_(i,l),b&&b.m(i,null),_(i,s),k&&k.m(i,null),a=!0},p(y,[E]){y[1]?f&&(f.d(1),f=null):f?f.p(y,E):(f=Wg(y),f.c(),f.m(e.parentNode,e)),y[1]?c?c.p(y,E):(c=Vg(y),c.c(),c.m(n,t)):c&&(c.d(1),c=null),y[0].vitamin?u?(u.p(y,E),E&1&&g(u,1)):(u=Jg(y),u.c(),g(u,1),u.m(i,o)):u&&(fe(),$(u,1,1,()=>{u=null}),ae()),y[2].length&&d.p(y,E),y[0].threshold_mut?b?(b.p(y,E),E&1&&g(b,1)):(b=Xg(y),b.c(),g(b,1),b.m(i,s)):b&&(fe(),$(b,1,1,()=>{b=null}),ae()),y[3].length&&k.p(y,E)},i(y){a||(g(u),g(d),g(b),g(k),a=!0)},o(y){$(u),$(d),$(b),$(k),a=!1},d(y){f&&f.d(y),y&&p(e),y&&p(n),c&&c.d(),u&&u.d(),d&&d.d(),b&&b.d(),k&&k.d()}}}const ps="Mutation";function CL(r,e,n){let t=jt("data"),{item:i}=e,{inCatalog:o=!1}=e;const l=t.byType("mutation").filter(f=>(f.category??[]).includes(i.id)).sort(an),s=l.filter(f=>!f.threshreq||f.threshreq.length===0),a=l.filter(f=>!(!f.threshreq||f.threshreq.length===0));return r.$$set=f=>{"item"in f&&n(0,i=f.item),"inCatalog"in f&&n(1,o=f.inCatalog)},[i,o,s,a]}class Ly extends ht{constructor(e){super(),pt(this,e,CL,SL,mt,{item:0,inCatalog:1})}}function IL(r){let e,n=O.t("Mutation Type")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b;return d=new fl({props:{mutations:r[1]}}),{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("dl"),c=m("dt"),c.textContent=`${O.t("Mutations")}`,u=m("dd"),q(d.$$.fragment)},m(k,y){h(k,e,y),_(e,t),_(e,i),_(e,l),h(k,s,y),h(k,a,y),_(a,f),_(f,c),_(f,u),U(d,u,null),b=!0},p(k,[y]){(!b||y&1)&&o!==(o=He(k[0])+"")&&K(l,o)},i(k){b||(g(d.$$.fragment,k),b=!0)},o(k){$(d.$$.fragment,k),b=!1},d(k){k&&p(e),k&&p(s),k&&p(a),G(d)}}}function OL(r,e,n){let{item:t}=e;const o=jt("data").byType("mutation").filter(l=>(l.types??[]).includes(t.id));return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,o]}class RL extends ht{constructor(e){super(),pt(this,e,OL,IL,mt,{item:0})}}const Fy=Object.prototype.toString;function Py(r){switch(Fy.call(r)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return wl(r,Error)}}function zr(r,e){return Fy.call(r)===`[object ${e}]`}function jy(r){return zr(r,"ErrorEvent")}function Kg(r){return zr(r,"DOMError")}function AL(r){return zr(r,"DOMException")}function vl(r){return zr(r,"String")}function Uy(r){return r===null||typeof r!="object"&&typeof r!="function"}function Pr(r){return zr(r,"Object")}function Lf(r){return typeof Event<"u"&&wl(r,Event)}function NL(r){return typeof Element<"u"&&wl(r,Element)}function BL(r){return zr(r,"RegExp")}function Ff(r){return!!(r&&r.then&&typeof r.then=="function")}function ML(r){return Pr(r)&&"nativeEvent"in r&&"preventDefault"in r&&"stopPropagation"in r}function Gy(r){return typeof r=="number"&&r!==r}function wl(r,e){try{return r instanceof e}catch{return!1}}function wo(r){return r&&r.Math==Math?r:void 0}const Fi=typeof globalThis=="object"&&wo(globalThis)||typeof window=="object"&&wo(window)||typeof self=="object"&&wo(self)||typeof global=="object"&&wo(global)||function(){return this}()||{};function _o(){return Fi}function Pf(r,e,n){const t=n||Fi,i=t.__SENTRY__=t.__SENTRY__||{};return i[r]||(i[r]=e())}const Mo=_o(),DL=80;function jr(r,e={}){try{let n=r;const t=5,i=[];let o=0,l=0;const s=" > ",a=s.length;let f;const c=Array.isArray(e)?e:e.keyAttrs,u=!Array.isArray(e)&&e.maxStringLength||DL;for(;n&&o++<t&&(f=LL(n,c),!(f==="html"||o>1&&l+i.length*a+f.length>=u));)i.push(f),l+=f.length,n=n.parentNode;return i.reverse().join(s)}catch{return"<unknown>"}}function LL(r,e){const n=r,t=[];let i,o,l,s,a;if(!n||!n.tagName)return"";t.push(n.tagName.toLowerCase());const f=e&&e.length?e.filter(u=>n.getAttribute(u)).map(u=>[u,n.getAttribute(u)]):null;if(f&&f.length)f.forEach(u=>{t.push(`[${u[0]}="${u[1]}"]`)});else if(n.id&&t.push(`#${n.id}`),i=n.className,i&&vl(i))for(o=i.split(/\s+/),a=0;a<o.length;a++)t.push(`.${o[a]}`);const c=["aria-label","type","name","title","alt"];for(a=0;a<c.length;a++)l=c[a],s=n.getAttribute(l),s&&t.push(`[${l}="${s}"]`);return t.join("")}function FL(){try{return Mo.document.location.href}catch{return""}}function PL(r){return Mo.document&&Mo.document.querySelector?Mo.document.querySelector(r):null}class gi extends Error{constructor(e,n="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}const jL=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function UL(r){return r==="http"||r==="https"}function hs(r,e=!1){const{host:n,path:t,pass:i,port:o,projectId:l,protocol:s,publicKey:a}=r;return`${s}://${a}${e&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${t&&`${t}/`}${l}`}function GL(r){const e=jL.exec(r);if(!e)throw new gi(`Invalid Sentry Dsn: ${r}`);const[n,t,i="",o,l="",s]=e.slice(1);let a="",f=s;const c=f.split("/");if(c.length>1&&(a=c.slice(0,-1).join("/"),f=c.pop()),f){const u=f.match(/^\d+/);u&&(f=u[0])}return qy({host:o,pass:i,path:a,projectId:f,port:l,protocol:n,publicKey:t})}function qy(r){return{protocol:r.protocol,publicKey:r.publicKey||"",pass:r.pass||"",host:r.host,port:r.port||"",path:r.path||"",projectId:r.projectId}}function qL(r){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:e,projectId:n,protocol:t}=r;if(["protocol","publicKey","host","projectId"].forEach(o=>{if(!r[o])throw new gi(`Invalid Sentry Dsn: ${o} missing`)}),!n.match(/^\d+$/))throw new gi(`Invalid Sentry Dsn: Invalid projectId ${n}`);if(!UL(t))throw new gi(`Invalid Sentry Dsn: Invalid protocol ${t}`);if(e&&isNaN(parseInt(e,10)))throw new gi(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function YL(r){const e=typeof r=="string"?GL(r):qy(r);return qL(e),e}const HL="Sentry Logger ",Zo=["debug","info","warn","error","log","assert","trace"];function Yy(r){if(!("console"in Fi))return r();const e=Fi.console,n={};Zo.forEach(t=>{const i=e[t]&&e[t].__sentry_original__;t in e&&i&&(n[t]=e[t],e[t]=i)});try{return r()}finally{Object.keys(n).forEach(t=>{e[t]=n[t]})}}function Zg(){let r=!1;const e={enable:()=>{r=!0},disable:()=>{r=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?Zo.forEach(n=>{e[n]=(...t)=>{r&&Yy(()=>{Fi.console[n](`${HL}[${n}]:`,...t)})}}):Zo.forEach(n=>{e[n]=()=>{}}),e}let gt;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?gt=Pf("logger",Zg):gt=Zg();function xr(r,e=0){return typeof r!="string"||e===0||r.length<=e?r:`${r.slice(0,e)}...`}function Qg(r,e){if(!Array.isArray(r))return"";const n=[];for(let t=0;t<r.length;t++){const i=r[t];try{n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function zL(r,e,n=!1){return vl(r)?BL(e)?e.test(r):vl(e)?n?r===e:r.includes(e):!1:!1}function mo(r,e=[],n=!1){return e.some(t=>zL(r,t,n))}function ci(r,e,n){if(!(e in r))return;const t=r[e],i=n(t);if(typeof i=="function")try{Hy(i,t)}catch{}r[e]=i}function jf(r,e,n){Object.defineProperty(r,e,{value:n,writable:!0,configurable:!0})}function Hy(r,e){const n=e.prototype||{};r.prototype=e.prototype=n,jf(r,"__sentry_original__",e)}function Uf(r){return r.__sentry_original__}function WL(r){return Object.keys(r).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(r[e])}`).join("&")}function zy(r){if(Py(r))return{message:r.message,name:r.name,stack:r.stack,...e0(r)};if(Lf(r)){const e={type:r.type,target:xg(r.target),currentTarget:xg(r.currentTarget),...e0(r)};return typeof CustomEvent<"u"&&wl(r,CustomEvent)&&(e.detail=r.detail),e}else return r}function xg(r){try{return NL(r)?jr(r):Object.prototype.toString.call(r)}catch{return"<unknown>"}}function e0(r){if(typeof r=="object"&&r!==null){const e={};for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n]);return e}else return{}}function VL(r,e=40){const n=Object.keys(zy(r));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return xr(n[0],e);for(let t=n.length;t>0;t--){const i=n.slice(0,t).join(", ");if(!(i.length>e))return t===n.length?i:xr(i,e)}return""}function pl(r){return af(r,new Map)}function af(r,e){if(Pr(r)){const n=e.get(r);if(n!==void 0)return n;const t={};e.set(r,t);for(const i of Object.keys(r))typeof r[i]<"u"&&(t[i]=af(r[i],e));return t}if(Array.isArray(r)){const n=e.get(r);if(n!==void 0)return n;const t=[];return e.set(r,t),r.forEach(i=>{t.push(af(i,e))}),t}return r}const Wy=50,t0=/\(error: (.*)\)/;function Vy(...r){const e=r.sort((n,t)=>n[0]-t[0]).map(n=>n[1]);return(n,t=0)=>{const i=[],o=n.split(`
`);for(let l=t;l<o.length;l++){const s=o[l];if(s.length>1024)continue;const a=t0.test(s)?s.replace(t0,"$1"):s;if(!a.match(/\S*Error: /)){for(const f of e){const c=f(a);if(c){i.push(c);break}}if(i.length>=Wy)break}}return XL(i)}}function JL(r){return Array.isArray(r)?Vy(...r):r}function XL(r){if(!r.length)return[];const e=r.slice(0,Wy),n=e[e.length-1].function;n&&/sentryWrapped/.test(n)&&e.pop(),e.reverse();const t=e[e.length-1].function;return t&&/captureMessage|captureException/.test(t)&&e.pop(),e.map(i=>({...i,filename:i.filename||e[e.length-1].filename,function:i.function||"?"}))}const qs="<anonymous>";function El(r){try{return!r||typeof r!="function"?qs:r.name||qs}catch{return qs}}const cf=_o();function Jy(){if(!("fetch"in cf))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function uf(r){return r&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(r.toString())}function KL(){if(!Jy())return!1;if(uf(cf.fetch))return!0;let r=!1;const e=cf.document;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(r=uf(n.contentWindow.fetch)),e.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return r}const Eo=_o();function ZL(){const r=Eo.chrome,e=r&&r.app&&r.app.runtime,n="history"in Eo&&!!Eo.history.pushState&&!!Eo.history.replaceState;return!e&&n}const Bn=_o(),kr="__sentry_xhr_v2__",eo={},n0={};function QL(r){if(!n0[r])switch(n0[r]=!0,r){case"console":xL();break;case"dom":s7();break;case"xhr":n7();break;case"fetch":e7();break;case"history":i7();break;case"error":f7();break;case"unhandledrejection":a7();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("unknown instrumentation type:",r);return}}function Li(r,e){eo[r]=eo[r]||[],eo[r].push(e),QL(r)}function Yi(r,e){if(!(!r||!eo[r]))for(const n of eo[r]||[])try{n(e)}catch(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.error(`Error while triggering instrumentation handler.
Type: ${r}
Name: ${El(n)}
Error:`,t)}}function xL(){"console"in Bn&&Zo.forEach(function(r){r in Bn.console&&ci(Bn.console,r,function(e){return function(...n){Yi("console",{args:n,level:r}),e&&e.apply(Bn.console,n)}})})}function e7(){KL()&&ci(Bn,"fetch",function(r){return function(...e){const{method:n,url:t}=t7(e),i={args:e,fetchData:{method:n,url:t},startTimestamp:Date.now()};return Yi("fetch",{...i}),r.apply(Bn,e).then(o=>(Yi("fetch",{...i,endTimestamp:Date.now(),response:o}),o),o=>{throw Yi("fetch",{...i,endTimestamp:Date.now(),error:o}),o})}})}function _f(r,e){return!!r&&typeof r=="object"&&!!r[e]}function i0(r){return typeof r=="string"?r:r?_f(r,"url")?r.url:r.toString?r.toString():"":""}function t7(r){if(r.length===0)return{method:"GET",url:""};if(r.length===2){const[n,t]=r;return{url:i0(n),method:_f(t,"method")?String(t.method).toUpperCase():"GET"}}const e=r[0];return{url:i0(e),method:_f(e,"method")?String(e.method).toUpperCase():"GET"}}function n7(){if(!("XMLHttpRequest"in Bn))return;const r=XMLHttpRequest.prototype;ci(r,"open",function(e){return function(...n){const t=n[1],i=this[kr]={method:vl(n[0])?n[0].toUpperCase():n[0],url:n[1],request_headers:{}};vl(t)&&i.method==="POST"&&t.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const l=this[kr];if(l&&this.readyState===4){try{l.status_code=this.status}catch{}Yi("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ci(this,"onreadystatechange",function(l){return function(...s){return o(),l.apply(this,s)}}):this.addEventListener("readystatechange",o),ci(this,"setRequestHeader",function(l){return function(...s){const[a,f]=s,c=this[kr];return c&&(c.request_headers[a.toLowerCase()]=f),l.apply(this,s)}}),e.apply(this,n)}}),ci(r,"send",function(e){return function(...n){const t=this[kr];return t&&n[0]!==void 0&&(t.body=n[0]),Yi("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),e.apply(this,n)}})}let To;function i7(){if(!ZL())return;const r=Bn.onpopstate;Bn.onpopstate=function(...n){const t=Bn.location.href,i=To;if(To=t,Yi("history",{from:i,to:t}),r)try{return r.apply(this,n)}catch{}};function e(n){return function(...t){const i=t.length>2?t[2]:void 0;if(i){const o=To,l=String(i);To=l,Yi("history",{from:o,to:l})}return n.apply(this,t)}}ci(Bn.history,"pushState",e),ci(Bn.history,"replaceState",e)}const l7=1e3;let So,Co;function r7(r,e){if(!r||r.type!==e.type)return!0;try{if(r.target!==e.target)return!0}catch{}return!1}function o7(r){if(r.type!=="keypress")return!1;try{const e=r.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function l0(r,e=!1){return n=>{if(!n||Co===n||o7(n))return;const t=n.type==="keypress"?"input":n.type;So===void 0?(r({event:n,name:t,global:e}),Co=n):r7(Co,n)&&(r({event:n,name:t,global:e}),Co=n),clearTimeout(So),So=Bn.setTimeout(()=>{So=void 0},l7)}}function s7(){if(!("document"in Bn))return;const r=Yi.bind(null,"dom"),e=l0(r,!0);Bn.document.addEventListener("click",e,!1),Bn.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(n=>{const t=Bn[n]&&Bn[n].prototype;!t||!t.hasOwnProperty||!t.hasOwnProperty("addEventListener")||(ci(t,"addEventListener",function(i){return function(o,l,s){if(o==="click"||o=="keypress")try{const a=this,f=a.__sentry_instrumentation_handlers__=a.__sentry_instrumentation_handlers__||{},c=f[o]=f[o]||{refCount:0};if(!c.handler){const u=l0(r);c.handler=u,i.call(this,o,u,s)}c.refCount++}catch{}return i.call(this,o,l,s)}}),ci(t,"removeEventListener",function(i){return function(o,l,s){if(o==="click"||o=="keypress")try{const a=this,f=a.__sentry_instrumentation_handlers__||{},c=f[o];c&&(c.refCount--,c.refCount<=0&&(i.call(this,o,c.handler,s),c.handler=void 0,delete f[o]),Object.keys(f).length===0&&delete a.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,l,s)}}))})}let Io=null;function f7(){Io=Bn.onerror,Bn.onerror=function(r,e,n,t,i){return Yi("error",{column:t,error:i,line:n,msg:r,url:e}),Io&&!Io.__SENTRY_LOADER__?Io.apply(this,arguments):!1},Bn.onerror.__SENTRY_INSTRUMENTED__=!0}let Oo=null;function a7(){Oo=Bn.onunhandledrejection,Bn.onunhandledrejection=function(r){return Yi("unhandledrejection",r),Oo&&!Oo.__SENTRY_LOADER__?Oo.apply(this,arguments):!0},Bn.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function c7(){const r=typeof WeakSet=="function",e=r?new WeakSet:[];function n(i){if(r)return e.has(i)?!0:(e.add(i),!1);for(let o=0;o<e.length;o++)if(e[o]===i)return!0;return e.push(i),!1}function t(i){if(r)e.delete(i);else for(let o=0;o<e.length;o++)if(e[o]===i){e.splice(o,1);break}}return[n,t]}function hl(){const r=Fi,e=r.crypto||r.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const n=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,t=>(t^(n()&15)>>t/4).toString(16))}function Xy(r){return r.exception&&r.exception.values?r.exception.values[0]:void 0}function dl(r){const{message:e,event_id:n}=r;if(e)return e;const t=Xy(r);return t?t.type&&t.value?`${t.type}: ${t.value}`:t.type||t.value||n||"<unknown>":n||"<unknown>"}function df(r,e,n){const t=r.exception=r.exception||{},i=t.values=t.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function oo(r,e){const n=Xy(r);if(!n)return;const t={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...t,...i,...e},e&&"data"in e){const o={...i&&i.data,...e.data};n.mechanism.data=o}}function r0(r){if(r&&r.__sentry_captured__)return!0;try{jf(r,"__sentry_captured__",!0)}catch{}return!1}function Ky(r){return Array.isArray(r)?r:[r]}function u7(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function _7(){return"npm"}function d7(){return!u7()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function m7(r,e){return r.require(e)}function ul(r,e=100,n=1/0){try{return mf("",r,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Zy(r,e=3,n=100*1024){const t=ul(r,e);return b7(t)>n?Zy(r,e-1,n):t}function mf(r,e,n=1/0,t=1/0,i=c7()){const[o,l]=i;if(e===null||["number","boolean","string"].includes(typeof e)&&!Gy(e))return e;const s=p7(r,e);if(!s.startsWith("[object "))return s;if(e.__sentry_skip_normalization__)return e;const a=typeof e.__sentry_override_normalization_depth__=="number"?e.__sentry_override_normalization_depth__:n;if(a===0)return s.replace("object ","");if(o(e))return"[Circular ~]";const f=e;if(f&&typeof f.toJSON=="function")try{const b=f.toJSON();return mf("",b,a-1,t,i)}catch{}const c=Array.isArray(e)?[]:{};let u=0;const d=zy(e);for(const b in d){if(!Object.prototype.hasOwnProperty.call(d,b))continue;if(u>=t){c[b]="[MaxProperties ~]";break}const k=d[b];c[b]=mf(b,k,a-1,t,i),u++}return l(e),c}function p7(r,e){try{if(r==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(r==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(ML(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(e===void 0)return"[undefined]";if(typeof e=="function")return`[Function: ${El(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const n=h7(e);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function h7(r){const e=Object.getPrototypeOf(r);return e?e.constructor.name:"null prototype"}function g7(r){return~-encodeURI(r).split(/%..|./).length}function b7(r){return g7(JSON.stringify(r))}var ll;(function(r){r[r.PENDING=0]="PENDING";const n=1;r[r.RESOLVED=n]="RESOLVED";const t=2;r[r.REJECTED=t]="REJECTED"})(ll||(ll={}));function sr(r){return new yi(e=>{e(r)})}function Qo(r){return new yi((e,n)=>{n(r)})}class yi{__init(){this._state=ll.PENDING}__init2(){this._handlers=[]}constructor(e){yi.prototype.__init.call(this),yi.prototype.__init2.call(this),yi.prototype.__init3.call(this),yi.prototype.__init4.call(this),yi.prototype.__init5.call(this),yi.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(n){this._reject(n)}}then(e,n){return new yi((t,i)=>{this._handlers.push([!1,o=>{if(!e)t(o);else try{t(e(o))}catch(l){i(l)}},o=>{if(!n)i(o);else try{t(n(o))}catch(l){i(l)}}]),this._executeHandlers()})}catch(e){return this.then(n=>n,e)}finally(e){return new yi((n,t)=>{let i,o;return this.then(l=>{o=!1,i=l,e&&e()},l=>{o=!0,i=l,e&&e()}).then(()=>{if(o){t(i);return}n(i)})})}__init3(){this._resolve=e=>{this._setResult(ll.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(ll.REJECTED,e)}}__init5(){this._setResult=(e,n)=>{if(this._state===ll.PENDING){if(Ff(n)){n.then(this._resolve,this._reject);return}this._state=e,this._value=n,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===ll.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(n=>{n[0]||(this._state===ll.RESOLVED&&n[1](this._value),this._state===ll.REJECTED&&n[2](this._value),n[0]=!0)})}}}function $7(r){const e=[];function n(){return r===void 0||e.length<r}function t(l){return e.splice(e.indexOf(l),1)[0]}function i(l){if(!n())return Qo(new gi("Not adding Promise because buffer limit was reached."));const s=l();return e.indexOf(s)===-1&&e.push(s),s.then(()=>t(s)).then(null,()=>t(s).then(null,()=>{})),s}function o(l){return new yi((s,a)=>{let f=e.length;if(!f)return s(!0);const c=setTimeout(()=>{l&&l>0&&s(!1)},l);e.forEach(u=>{sr(u).then(()=>{--f||(clearTimeout(c),s(!0))},a)})})}return{$:e,add:i,drain:o}}function Ys(r){if(!r)return{};const e=r.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",t=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:t,relative:e[5]+n+t}}const y7=["fatal","error","warning","log","info","debug"];function k7(r){return r==="warn"?"warning":y7.includes(r)?r:"log"}const Qy=_o(),pf={nowSeconds:()=>Date.now()/1e3};function v7(){const{performance:r}=Qy;if(!r||!r.now)return;const e=Date.now()-r.now();return{now:()=>r.now(),timeOrigin:e}}function w7(){try{return m7(Ok,"perf_hooks").performance}catch{return}}const Hs=d7()?w7():v7(),o0=Hs===void 0?pf:{nowSeconds:()=>(Hs.timeOrigin+Hs.now())/1e3},gs=pf.nowSeconds.bind(pf),fr=o0.nowSeconds.bind(o0),Tl=(()=>{const{performance:r}=Qy;if(!r||!r.now)return;const e=3600*1e3,n=r.now(),t=Date.now(),i=r.timeOrigin?Math.abs(r.timeOrigin+n-t):e,o=i<e,l=r.timing&&r.timing.navigationStart,a=typeof l=="number"?Math.abs(l+n-t):e,f=a<e;return o||f?i<=a?r.timeOrigin:l:t})(),E7=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function T7(r){const e=r.match(E7);if(!r||!e)return;let n;return e[3]==="1"?n=!0:e[3]==="0"&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}function po(r,e=[]){return[r,e]}function S7(r,e){const[n,t]=r;return[n,[...t,e]]}function s0(r,e){const n=r[1];for(const t of n){const i=t[0].type;if(e(t,i))return!0}return!1}function hf(r,e){return(e||new TextEncoder).encode(r)}function C7(r,e){const[n,t]=r;let i=JSON.stringify(n);function o(l){typeof i=="string"?i=typeof l=="string"?i+l:[hf(i,e),l]:i.push(typeof l=="string"?hf(l,e):l)}for(const l of t){const[s,a]=l;if(o(`
${JSON.stringify(s)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let f;try{f=JSON.stringify(a)}catch{f=JSON.stringify(ul(a))}o(f)}}return typeof i=="string"?i:I7(i)}function I7(r){const e=r.reduce((i,o)=>i+o.length,0),n=new Uint8Array(e);let t=0;for(const i of r)n.set(i,t),t+=i.length;return n}function O7(r,e){const n=typeof r.data=="string"?hf(r.data,e):r.data;return[pl({type:"attachment",length:n.length,filename:r.filename,content_type:r.contentType,attachment_type:r.attachmentType}),n]}const R7={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function f0(r){return R7[r]}function xy(r){if(!r||!r.sdk)return;const{name:e,version:n}=r.sdk;return{name:e,version:n}}function A7(r,e,n,t){const i=r.sdkProcessingMetadata&&r.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:r.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!n&&{dsn:hs(t)},...i&&{trace:pl({...i})}}}function N7(r,e,n){const t=[{type:"client_report"},{timestamp:n||gs(),discarded_events:r}];return po(e?{dsn:e}:{},[t])}const B7=60*1e3;function M7(r,e=Date.now()){const n=parseInt(`${r}`,10);if(!isNaN(n))return n*1e3;const t=Date.parse(`${r}`);return isNaN(t)?B7:t-e}function D7(r,e){return r[e]||r.all||0}function L7(r,e,n=Date.now()){return D7(r,e)>n}function F7(r,{statusCode:e,headers:n},t=Date.now()){const i={...r},o=n&&n["x-sentry-rate-limits"],l=n&&n["retry-after"];if(o)for(const s of o.trim().split(",")){const[a,f]=s.split(":",2),c=parseInt(a,10),u=(isNaN(c)?60:c)*1e3;if(!f)i.all=t+u;else for(const d of f.split(";"))i[d]=t+u}else l?i.all=t+M7(l,t):e===429&&(i.all=t+60*1e3);return i}const gf="baggage",ek="sentry-",P7=/^sentry-/,j7=8192;function U7(r){if(!vl(r)&&!Array.isArray(r))return;let e={};if(Array.isArray(r))e=r.reduce((t,i)=>{const o=a0(i);return{...t,...o}},{});else{if(!r)return;e=a0(r)}const n=Object.entries(e).reduce((t,[i,o])=>{if(i.match(P7)){const l=i.slice(ek.length);t[l]=o}return t},{});if(Object.keys(n).length>0)return n}function tk(r){const e=Object.entries(r).reduce((n,[t,i])=>(i&&(n[`${ek}${t}`]=i),n),{});return G7(e)}function a0(r){return r.split(",").map(e=>e.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((e,[n,t])=>(e[n]=t,e),{})}function G7(r){if(Object.keys(r).length!==0)return Object.entries(r).reduce((e,[n,t],i)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(t)}`,l=i===0?o:`${e},${o}`;return l.length>j7?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Not adding key: ${n} with val: ${t} to baggage header due to exceeding baggage size limits.`),e):l},"")}const Gf="production";function q7(r){const e=fr(),n={sid:hl(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>H7(n)};return r&&Ur(n,r),n}function Ur(r,e={}){if(e.user&&(!r.ipAddress&&e.user.ip_address&&(r.ipAddress=e.user.ip_address),!r.did&&!e.did&&(r.did=e.user.id||e.user.email||e.user.username)),r.timestamp=e.timestamp||fr(),e.ignoreDuration&&(r.ignoreDuration=e.ignoreDuration),e.sid&&(r.sid=e.sid.length===32?e.sid:hl()),e.init!==void 0&&(r.init=e.init),!r.did&&e.did&&(r.did=`${e.did}`),typeof e.started=="number"&&(r.started=e.started),r.ignoreDuration)r.duration=void 0;else if(typeof e.duration=="number")r.duration=e.duration;else{const n=r.timestamp-r.started;r.duration=n>=0?n:0}e.release&&(r.release=e.release),e.environment&&(r.environment=e.environment),!r.ipAddress&&e.ipAddress&&(r.ipAddress=e.ipAddress),!r.userAgent&&e.userAgent&&(r.userAgent=e.userAgent),typeof e.errors=="number"&&(r.errors=e.errors),e.status&&(r.status=e.status)}function Y7(r,e){let n={};e?n={status:e}:r.status==="ok"&&(n={status:"exited"}),Ur(r,n)}function H7(r){return pl({sid:`${r.sid}`,init:r.init,started:new Date(r.started*1e3).toISOString(),timestamp:new Date(r.timestamp*1e3).toISOString(),status:r.status,errors:r.errors,did:typeof r.did=="number"||typeof r.did=="string"?`${r.did}`:void 0,duration:r.duration,attrs:{release:r.release,environment:r.environment,ip_address:r.ipAddress,user_agent:r.userAgent}})}const z7=100;class lr{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const n=new lr;return e&&(n._breadcrumbs=[...e._breadcrumbs],n._tags={...e._tags},n._extra={...e._extra},n._contexts={...e._contexts},n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=[...e._eventProcessors],n._requestSession=e._requestSession,n._attachments=[...e._attachments],n._sdkProcessingMetadata={...e._sdkProcessingMetadata}),n}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Ur(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const n=e(this);return n instanceof lr?n:this}return e instanceof lr?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Pr(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,n){const t=typeof n=="number"?n:z7;if(t<=0)return this;const i={timestamp:gs(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-t),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,n={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const t=this._span.transaction;if(t){e.sdkProcessingMetadata={dynamicSamplingContext:t.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const i=t.name;i&&(e.tags={transaction:i,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...nk(),...this._eventProcessors],e,n)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,n,t,i=0){return new yi((o,l)=>{const s=e[i];if(n===null||typeof s!="function")o(n);else{const a=s({...n},t);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&s.id&&a===null&&gt.log(`Event processor "${s.id}" dropped event`),Ff(a)?a.then(f=>this._notifyEventProcessors(e,f,t,i+1).then(o)).then(null,l):this._notifyEventProcessors(e,a,t,i+1).then(o).then(null,l)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Ky(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function nk(){return Pf("globalEventProcessors",()=>[])}function qf(r){nk().push(r)}const ik=4,W7=100;class lk{constructor(e,n=new lr,t=ik){this._version=t,this._stack=[{scope:n}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const n=this.getStackTop();n.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=lr.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const n=this.pushScope();try{e(n)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){const t=this._lastEventId=n&&n.event_id?n.event_id:hl(),i=new Error("Sentry syntheticException");return this._withClient((o,l)=>{o.captureException(e,{originalException:e,syntheticException:i,...n,event_id:t},l)}),t}captureMessage(e,n,t){const i=this._lastEventId=t&&t.event_id?t.event_id:hl(),o=new Error(e);return this._withClient((l,s)=>{l.captureMessage(e,n,{originalException:e,syntheticException:o,...t,event_id:i},s)}),i}captureEvent(e,n){const t=n&&n.event_id?n.event_id:hl();return e.type||(this._lastEventId=t),this._withClient((i,o)=>{i.captureEvent(e,{...n,event_id:t},o)}),t}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:t,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:l=W7}=i.getOptions&&i.getOptions()||{};if(l<=0)return;const a={timestamp:gs(),...e},f=o?Yy(()=>o(a,n)):a;f!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",f,n),t.addBreadcrumb(f,l))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,n){this.getScope().setTag(e,n)}setExtra(e,n){this.getScope().setExtra(e,n)}setContext(e,n){this.getScope().setContext(e,n)}configureScope(e){const{scope:n,client:t}=this.getStackTop();t&&e(n)}run(e){const n=c0(this);try{e(this)}finally{c0(n)}}getIntegration(e){const n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,n){const t=this._callExtensionMethod("startTransaction",e,n);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!t&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),t}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,t=n.getSession();t&&Y7(t),this._sendSessionUpdate(),n.setSession()}startSession(e){const{scope:n,client:t}=this.getStackTop(),{release:i,environment:o=Gf}=t&&t.getOptions()||{},{userAgent:l}=Fi.navigator||{},s=q7({release:i,environment:o,user:n.getUser(),...l&&{userAgent:l},...e}),a=n.getSession&&n.getSession();return a&&a.status==="ok"&&Ur(a,{status:"exited"}),this.endSession(),n.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),n=e&&e.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:n}=this.getStackTop(),t=e.getSession();t&&n&&n.captureSession&&n.captureSession(t)}_withClient(e){const{scope:n,client:t}=this.getStackTop();t&&e(t,n)}_callExtensionMethod(e,...n){const i=ho().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function ho(){return Fi.__SENTRY__=Fi.__SENTRY__||{extensions:{},hub:void 0},Fi}function c0(r){const e=ho(),n=bf(e);return rk(e,r),n}function Mn(){const r=ho();if(r.__SENTRY__&&r.__SENTRY__.acs){const e=r.__SENTRY__.acs.getCurrentHub();if(e)return e}return V7(r)}function V7(r=ho()){return(!J7(r)||bf(r).isOlderThan(ik))&&rk(r,new lk),bf(r)}function J7(r){return!!(r&&r.__SENTRY__&&r.__SENTRY__.hub)}function bf(r){return Pf("hub",()=>new lk,r)}function rk(r,e){if(!r)return!1;const n=r.__SENTRY__=r.__SENTRY__||{};return n.hub=e,!0}function Yf(r){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=Mn().getClient(),n=r||e&&e.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function go(r){return(r||Mn()).getScope().getTransaction()}let u0=!1;function X7(){u0||(u0=!0,Li("error",$f),Li("unhandledrejection",$f))}function $f(){const r=go();if(r){const e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] Transaction: ${e} -> Global error occured`),r.setStatus(e)}}$f.tag="sentry_tracingErrorCallback";class bs{__init(){this.spans=[]}constructor(e=1e3){bs.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class rl{__init2(){this.traceId=hl()}__init3(){this.spanId=hl().substring(16)}__init4(){this.startTimestamp=fr()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(rl.prototype.__init2.call(this),rl.prototype.__init3.call(this),rl.prototype.__init4.call(this),rl.prototype.__init5.call(this),rl.prototype.__init6.call(this),rl.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const n=new rl({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&n.transaction){const t=e&&e.op||"< unknown op >",i=n.transaction.name||"< unknown name >",o=n.transaction.spanId,l=`[Tracing] Starting '${t}' span on transaction '${i}' (${o}).`;n.transaction.metadata.spanMetadata[n.spanId]={logMessage:l},gt.log(l)}return n}setTag(e,n){return this.tags={...this.tags,[e]:n},this}setData(e,n){return this.data={...this.data,[e]:n},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));const n=K7(e);return n!=="unknown_error"&&this.setStatus(n),this}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:n}=this.transaction.metadata.spanMetadata[this.spanId];n&&gt.log(n.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:fr()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return pl({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return pl({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return pl({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function K7(r){if(r<400&&r>=100)return"ok";if(r>=400&&r<500)switch(r){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(r>=500&&r<600)switch(r){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class Tr extends rl{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,n){super(e),Tr.prototype.__init.call(this),Tr.prototype.__init2.call(this),Tr.prototype.__init3.call(this),this._hub=n||Mn(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const t=this.metadata.dynamicSamplingContext;t&&(this._frozenDynamicSamplingContext={...t})}get name(){return this._name}set name(e){this.setName(e)}setName(e,n="custom"){this._name=e,this.metadata.source=n}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new bs(e)),this.spanRecorder.add(this)}setContext(e,n){n===null?delete this._contexts[e]:this._contexts[e]=n}setMeasurement(e,n,t=""){this._measurements[e]={value:n,unit:t}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const t=this.spanRecorder?this.spanRecorder.spans.filter(s=>s!==this&&s.endTimestamp):[];this._trimEnd&&t.length>0&&(this.endTimestamp=t.reduce((s,a)=>s.endTimestamp&&a.endTimestamp?s.endTimestamp>a.endTimestamp?s:a:s).endTimestamp);const i=this.metadata,o={contexts:{...this._contexts,trace:this.getTraceContext()},spans:t,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(o)}toContext(){const e=super.toContext();return pl({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||Mn(),n=e&&e.getClient();if(!n)return{};const{environment:t,release:i}=n.getOptions()||{},{publicKey:o}=n.getDsn()||{},l=this.metadata.sampleRate,s=l!==void 0?l.toString():void 0,{segment:a}=e.getScope().getUser()||{},f=this.metadata.source,c=f&&f!=="url"?this.name:void 0,u=pl({environment:t||Gf,release:i,transaction:c,user_segment:a,public_key:o,trace_id:this.traceId,sample_rate:s});return n.emit&&n.emit("createDsc",u),u}setHub(e){this._hub=e}}const Do={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Z7="finishReason",$r=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Q7 extends bs{constructor(e,n,t,i){super(i),this._pushActivity=e,this._popActivity=n,this.transactionSpanId=t}add(e){e.spanId!==this.transactionSpanId&&(e.finish=n=>{e.endTimestamp=typeof n=="number"?n:fr(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class _l extends Tr{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=$r[4]}constructor(e,n,t=Do.idleTimeout,i=Do.finalTimeout,o=Do.heartbeatInterval,l=!1){super(e,n),this._idleHub=n,this._idleTimeout=t,this._finalTimeout=i,this._heartbeatInterval=o,this._onScope=l,_l.prototype.__init.call(this),_l.prototype.__init2.call(this),_l.prototype.__init3.call(this),_l.prototype.__init4.call(this),_l.prototype.__init5.call(this),_l.prototype.__init6.call(this),l&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),n.configureScope(s=>s.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=$r[3],this.finish())},this._finalTimeout)}finish(e=fr()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(Z7,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(const n of this._beforeFinishCallbacks)n(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(n=>{if(n.spanId===this.spanId)return!0;n.endTimestamp||(n.endTimestamp=e,n.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(n,void 0,2)));const t=n.startTimestamp<e;return t||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(n,void 0,2)),t}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] No active IdleTransaction");if(this._onScope){const n=this._idleHub.getScope();n.getTransaction()===this&&n.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},t=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new Q7(n,t,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=$r[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=$r[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=fr();this._idleTimeoutCanceledPermanently?(this._finishReason=$r[5],this.finish(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=$r[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function x7(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function ok(r,e,n){if(!Yf(e))return r.sampled=!1,r;if(r.sampled!==void 0)return r.setMetadata({sampleRate:Number(r.sampled)}),r;let t;return typeof e.tracesSampler=="function"?(t=e.tracesSampler(n),r.setMetadata({sampleRate:Number(t)})):n.parentSampled!==void 0?t=n.parentSampled:typeof e.tracesSampleRate<"u"?(t=e.tracesSampleRate,r.setMetadata({sampleRate:Number(t)})):(t=1,r.setMetadata({sampleRate:t})),e9(t)?t?(r.sampled=Math.random()<t,r.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] starting ${r.op} transaction - ${r.name}`),r):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(t)})`),r)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),r.sampled=!1,r):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("[Tracing] Discarding transaction because of invalid sample rate."),r.sampled=!1,r)}function e9(r){return Gy(r)||!(typeof r=="number"||typeof r=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(r)} of type ${JSON.stringify(typeof r)}.`),!1):r<0||r>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${r}.`),!1):!0}function t9(r,e){const n=this.getClient(),t=n&&n.getOptions()||{},i=t.instrumenter||"sentry",o=r.instrumenter||"sentry";i!==o&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.error(`A transaction was started with instrumenter=\`${o}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),r.sampled=!1);let l=new Tr(r,this);return l=ok(l,t,{parentSampled:r.parentSampled,transactionContext:r,...e}),l.sampled&&l.initSpanRecorder(t._experiments&&t._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",l),l}function _0(r,e,n,t,i,o,l){const s=r.getClient(),a=s&&s.getOptions()||{};let f=new _l(e,r,n,t,l,i);return f=ok(f,a,{parentSampled:e.parentSampled,transactionContext:e,...o}),f.sampled&&f.initSpanRecorder(a._experiments&&a._experiments.maxSpans),s&&s.emit&&s.emit("startTransaction",f),f}function n9(){const r=ho();r.__SENTRY__&&(r.__SENTRY__.extensions=r.__SENTRY__.extensions||{},r.__SENTRY__.extensions.startTransaction||(r.__SENTRY__.extensions.startTransaction=t9),r.__SENTRY__.extensions.traceHeaders||(r.__SENTRY__.extensions.traceHeaders=x7),X7())}function Hf(r,e){return Mn().captureException(r,{captureContext:e})}function i9(r){Mn().withScope(r)}const l9="7";function r9(r){const e=r.protocol?`${r.protocol}:`:"",n=r.port?`:${r.port}`:"";return`${e}//${r.host}${n}${r.path?`/${r.path}`:""}/api/`}function o9(r){return`${r9(r)}${r.projectId}/envelope/`}function s9(r,e){return WL({sentry_key:r.publicKey,sentry_version:l9,...e&&{sentry_client:`${e.name}/${e.version}`}})}function f9(r,e={}){const n=typeof e=="string"?e:e.tunnel,t=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return n||`${o9(r)}?${s9(r,t)}`}function a9(r,e){return e&&(r.sdk=r.sdk||{},r.sdk.name=r.sdk.name||e.name,r.sdk.version=r.sdk.version||e.version,r.sdk.integrations=[...r.sdk.integrations||[],...e.integrations||[]],r.sdk.packages=[...r.sdk.packages||[],...e.packages||[]]),r}function c9(r,e,n,t){const i=xy(n),o={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!t&&{dsn:hs(e)}},l="aggregates"in r?[{type:"sessions"},r]:[{type:"session"},r];return po(o,[l])}function u9(r,e,n,t){const i=xy(n),o=r.type&&r.type!=="replay_event"?r.type:"event";a9(r,n&&n.sdk);const l=A7(r,i,t,e);return delete r.sdkProcessingMetadata,po(l,[[{type:o},r]])}const d0=[];function _9(r){const e={};return r.forEach(n=>{const{name:t}=n,i=e[t];i&&!i.isDefaultInstance&&n.isDefaultInstance||(e[t]=n)}),Object.keys(e).map(n=>e[n])}function d9(r){const e=r.defaultIntegrations||[],n=r.integrations;e.forEach(l=>{l.isDefaultInstance=!0});let t;Array.isArray(n)?t=[...e,...n]:typeof n=="function"?t=Ky(n(e)):t=e;const i=_9(t),o=p9(i,l=>l.name==="Debug");if(o!==-1){const[l]=i.splice(o,1);i.push(l)}return i}function m9(r){const e={};return r.forEach(n=>{n&&sk(n,e)}),e}function sk(r,e){e[r.name]=r,d0.indexOf(r.name)===-1&&(r.setupOnce(qf,Mn),d0.push(r.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`Integration installed: ${r.name}`))}function p9(r,e){for(let n=0;n<r.length;n++)if(e(r[n])===!0)return n;return-1}function h9(r,e,n,t){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=r,l={...e,event_id:e.event_id||n.event_id||hl(),timestamp:e.timestamp||gs()},s=n.integrations||r.integrations.map(c=>c.name);g9(l,r),$9(l,s),e.type===void 0&&b9(l,r.stackParser);let a=t;n.captureContext&&(a=lr.clone(a).update(n.captureContext));let f=sr(l);if(a){if(a.getAttachments){const c=[...n.attachments||[],...a.getAttachments()];c.length&&(n.attachments=c)}f=a.applyToEvent(l,n)}return f.then(c=>typeof i=="number"&&i>0?y9(c,i,o):c)}function g9(r,e){const{environment:n,release:t,dist:i,maxValueLength:o=250}=e;"environment"in r||(r.environment="environment"in e?n:Gf),r.release===void 0&&t!==void 0&&(r.release=t),r.dist===void 0&&i!==void 0&&(r.dist=i),r.message&&(r.message=xr(r.message,o));const l=r.exception&&r.exception.values&&r.exception.values[0];l&&l.value&&(l.value=xr(l.value,o));const s=r.request;s&&s.url&&(s.url=xr(s.url,o))}const m0=new WeakMap;function b9(r,e){const n=Fi._sentryDebugIds;if(!n)return;let t;const i=m0.get(e);i?t=i:(t=new Map,m0.set(e,t));const o=Object.keys(n).reduce((a,f)=>{let c;const u=t.get(f);u?c=u:(c=e(f),t.set(f,c));for(let d=c.length-1;d>=0;d--){const b=c[d];if(b.filename){a[b.filename]=n[f];break}}return a},{}),l=new Set;try{r.exception.values.forEach(a=>{a.stacktrace.frames.forEach(f=>{f.filename&&l.add(f.filename)})})}catch{}r.debug_meta=r.debug_meta||{},r.debug_meta.images=r.debug_meta.images||[];const s=r.debug_meta.images;l.forEach(a=>{o[a]&&s.push({type:"sourcemap",code_file:a,debug_id:o[a]})})}function $9(r,e){e.length>0&&(r.sdk=r.sdk||{},r.sdk.integrations=[...r.sdk.integrations||[],...e])}function y9(r,e,n){if(!r)return null;const t={...r,...r.breadcrumbs&&{breadcrumbs:r.breadcrumbs.map(i=>({...i,...i.data&&{data:ul(i.data,e,n)}}))},...r.user&&{user:ul(r.user,e,n)},...r.contexts&&{contexts:ul(r.contexts,e,n)},...r.extra&&{extra:ul(r.extra,e,n)}};return r.contexts&&r.contexts.trace&&t.contexts&&(t.contexts.trace=r.contexts.trace,r.contexts.trace.data&&(t.contexts.trace.data=ul(r.contexts.trace.data,e,n))),r.spans&&(t.spans=r.spans.map(i=>(i.data&&(i.data=ul(i.data,e,n)),i))),t}const p0="Not capturing exception because it's already been captured.";class er{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(er.prototype.__init.call(this),er.prototype.__init2.call(this),er.prototype.__init3.call(this),er.prototype.__init4.call(this),er.prototype.__init5.call(this),this._options=e,e.dsn){this._dsn=YL(e.dsn);const n=f9(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:n})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("No DSN provided, client will not do anything.")}captureException(e,n,t){if(r0(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(p0);return}let i=n&&n.event_id;return this._process(this.eventFromException(e,n).then(o=>this._captureEvent(o,n,t)).then(o=>{i=o})),i}captureMessage(e,n,t,i){let o=t&&t.event_id;const l=Uy(e)?this.eventFromMessage(String(e),n,t):this.eventFromException(e,t);return this._process(l.then(s=>this._captureEvent(s,t,i)).then(s=>{o=s})),o}captureEvent(e,n,t){if(n&&n.originalException&&r0(n.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(p0);return}let i=n&&n.event_id;return this._process(this._captureEvent(e,n,t).then(o=>{i=o})),i}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ur(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const n=this._transport;return n?this._isClientDoneProcessing(e).then(t=>n.flush(e).then(i=>t&&i)):sr(!0)}close(e){return this.flush(e).then(n=>(this.getOptions().enabled=!1,n))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=m9(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){sk(e,this._integrations)}sendEvent(e,n={}){if(this._dsn){let t=u9(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])t=S7(t,O7(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(t);i&&i.then(o=>this.emit("afterSendEvent",e,o),null)}}sendSession(e){if(this._dsn){const n=c9(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}}recordDroppedEvent(e,n,t){if(this._options.sendClientReports){const i=`${e}:${n}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(e,n){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(n)}emit(e,...n){this._hooks[e]&&this._hooks[e].forEach(t=>t(...n))}_updateSessionFromEvent(e,n){let t=!1,i=!1;const o=n.exception&&n.exception.values;if(o){i=!0;for(const a of o){const f=a.mechanism;if(f&&f.handled===!1){t=!0;break}}}const l=e.status==="ok";(l&&e.errors===0||l&&t)&&(Ur(e,{...t&&{status:"crashed"},errors:e.errors||Number(i||t)}),this.captureSession(e))}_isClientDoneProcessing(e){return new yi(n=>{let t=0;const i=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(t+=i,e&&t>=e&&(clearInterval(o),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,n,t){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),h9(i,e,n,t)}_captureEvent(e,n={},t){return this._processEvent(e,n,t).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const o=i;o.logLevel==="log"?gt.log(o.message):gt.warn(o)}})}_processEvent(e,n,t){const i=this.getOptions(),{sampleRate:o}=i;if(!this._isEnabled())return Qo(new gi("SDK not enabled, will not capture event.","log"));const l=ak(e),s=fk(e),a=e.type||"error",f=`before send for type \`${a}\``;if(s&&typeof o=="number"&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),Qo(new gi(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const c=a==="replay_event"?"replay":a;return this._prepareEvent(e,n,t).then(u=>{if(u===null)throw this.recordDroppedEvent("event_processor",c,e),new gi("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return u;const b=v9(i,u,n);return k9(b,f)}).then(u=>{if(u===null)throw this.recordDroppedEvent("before_send",c,e),new gi(`${f} returned \`null\`, will not send event.`,"log");const d=t&&t.getSession();!l&&d&&this._updateSessionFromEvent(d,u);const b=u.transaction_info;if(l&&b&&u.transaction!==e.transaction){const k="custom";u.transaction_info={...b,source:k}}return this.sendEvent(u,n),u}).then(null,u=>{throw u instanceof gi?u:(this.captureException(u,{data:{__sentry__:!0},originalException:u}),new gi(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${u}`))})}_process(e){this._numProcessing++,e.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,n=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.error("Error while sending event:",n)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(n=>{const[t,i]=n.split(":");return{reason:t,category:i,quantity:e[n]}})}}function k9(r,e){const n=`${e} must return \`null\` or a valid event.`;if(Ff(r))return r.then(t=>{if(!Pr(t)&&t!==null)throw new gi(n);return t},t=>{throw new gi(`${e} rejected with ${t}`)});if(!Pr(r)&&r!==null)throw new gi(n);return r}function v9(r,e,n){const{beforeSend:t,beforeSendTransaction:i}=r;return fk(e)&&t?t(e,n):ak(e)&&i?i(e,n):e}function fk(r){return r.type===void 0}function ak(r){return r.type==="transaction"}function w9(r,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?gt.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const n=Mn();n.getScope().update(e.initialScope);const i=new r(e);n.bindClient(i)}const E9=30;function ck(r,e,n=$7(r.bufferSize||E9)){let t={};const i=l=>n.drain(l);function o(l){const s=[];if(s0(l,(u,d)=>{const b=f0(d);if(L7(t,b)){const k=h0(u,d);r.recordDroppedEvent("ratelimit_backoff",b,k)}else s.push(u)}),s.length===0)return sr();const a=po(l[0],s),f=u=>{s0(a,(d,b)=>{const k=h0(d,b);r.recordDroppedEvent(u,f0(b),k)})},c=()=>e({body:C7(a,r.textEncoder)}).then(u=>(u.statusCode!==void 0&&(u.statusCode<200||u.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Sentry responded with status code ${u.statusCode} to sent event.`),t=F7(t,u),u),u=>{throw f("network_error"),u});return n.add(c).then(u=>u,u=>{if(u instanceof gi)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.error("Skipped sending event because buffer is full."),f("queue_overflow"),sr();throw u})}return o.__sentry__baseTransport__=!0,{send:o,flush:i}}function h0(r,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(r)?r[1]:void 0}const g0="7.50.0";let b0;class so{constructor(){so.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=so.id}setupOnce(){b0=Function.prototype.toString;try{Function.prototype.toString=function(...e){const n=Uf(this)||this;return b0.apply(n,e)}}catch{}}}so.__initStatic();const T9=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Sr{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Sr.id}constructor(e={}){this._options=e,Sr.prototype.__init.call(this)}setupOnce(e,n){const t=i=>{const o=n();if(o){const l=o.getIntegration(Sr);if(l){const s=o.getClient(),a=s?s.getOptions():{},f=S9(l._options,a);return C9(i,f)?null:i}}return i};t.id=this.name,e(t)}}Sr.__initStatic();function S9(r={},e={}){return{allowUrls:[...r.allowUrls||[],...e.allowUrls||[]],denyUrls:[...r.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...r.ignoreErrors||[],...e.ignoreErrors||[],...T9],ignoreTransactions:[...r.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:r.ignoreInternal!==void 0?r.ignoreInternal:!0}}function C9(r,e){return e.ignoreInternal&&B9(r)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Event dropped due to being internal Sentry Error.
Event: ${dl(r)}`),!0):I9(r,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${dl(r)}`),!0):O9(r,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${dl(r)}`),!0):R9(r,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${dl(r)}.
Url: ${xo(r)}`),!0):A9(r,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${dl(r)}.
Url: ${xo(r)}`),!0)}function I9(r,e){return r.type||!e||!e.length?!1:N9(r).some(n=>mo(n,e))}function O9(r,e){if(r.type!=="transaction"||!e||!e.length)return!1;const n=r.transaction;return n?mo(n,e):!1}function R9(r,e){if(!e||!e.length)return!1;const n=xo(r);return n?mo(n,e):!1}function A9(r,e){if(!e||!e.length)return!0;const n=xo(r);return n?mo(n,e):!0}function N9(r){if(r.message)return[r.message];if(r.exception)try{const{type:e="",value:n=""}=r.exception.values&&r.exception.values[0]||{};return[`${n}`,`${e}: ${n}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.error(`Cannot extract message for event ${dl(r)}`),[]}return[]}function B9(r){try{return r.exception.values[0].type==="SentryError"}catch{}return!1}function M9(r=[]){for(let e=r.length-1;e>=0;e--){const n=r[e];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function xo(r){try{let e;try{e=r.exception.values[0].stacktrace.frames}catch{}return e?M9(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.error(`Cannot extract url for event ${dl(r)}`),null}}const Tn=Fi;let yf=0;function uk(){return yf>0}function D9(){yf++,setTimeout(()=>{yf--})}function Gr(r,e={},n){if(typeof r!="function")return r;try{const i=r.__sentry_wrapped__;if(i)return i;if(Uf(r))return r}catch{return r}const t=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const o=i.map(l=>Gr(l,e));return r.apply(this,o)}catch(o){throw D9(),i9(l=>{l.addEventProcessor(s=>(e.mechanism&&(df(s,void 0,void 0),oo(s,e.mechanism)),s.extra={...s.extra,arguments:i},s)),Hf(o)}),o}};try{for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}catch{}Hy(t,r),jf(r,"__sentry_wrapped__",t);try{Object.getOwnPropertyDescriptor(t,"name").configurable&&Object.defineProperty(t,"name",{get(){return r.name}})}catch{}return t}function _k(r,e){const n=zf(r,e),t={type:e&&e.name,value:j9(e)};return n.length&&(t.stacktrace={frames:n}),t.type===void 0&&t.value===""&&(t.value="Unrecoverable error caught"),t}function L9(r,e,n,t){const o=Mn().getClient(),l=o&&o.getOptions().normalizeDepth,s={exception:{values:[{type:Lf(e)?e.constructor.name:t?"UnhandledRejection":"Error",value:`Non-Error ${t?"promise rejection":"exception"} captured with keys: ${VL(e)}`}]},extra:{__serialized__:Zy(e,l)}};if(n){const a=zf(r,n);a.length&&(s.exception.values[0].stacktrace={frames:a})}return s}function zs(r,e){return{exception:{values:[_k(r,e)]}}}function zf(r,e){const n=e.stacktrace||e.stack||"",t=P9(e);try{return r(n,t)}catch{}return[]}const F9=/Minified React error #\d+;/i;function P9(r){if(r){if(typeof r.framesToPop=="number")return r.framesToPop;if(F9.test(r.message))return 1}return 0}function j9(r){const e=r&&r.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function U9(r,e,n,t){const i=n&&n.syntheticException||void 0,o=Wf(r,e,i,t);return oo(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),sr(o)}function G9(r,e,n="info",t,i){const o=t&&t.syntheticException||void 0,l=kf(r,e,o,i);return l.level=n,t&&t.event_id&&(l.event_id=t.event_id),sr(l)}function Wf(r,e,n,t,i){let o;if(jy(e)&&e.error)return zs(r,e.error);if(Kg(e)||AL(e)){const l=e;if("stack"in e)o=zs(r,e);else{const s=l.name||(Kg(l)?"DOMError":"DOMException"),a=l.message?`${s}: ${l.message}`:s;o=kf(r,a,n,t),df(o,a)}return"code"in l&&(o.tags={...o.tags,"DOMException.code":`${l.code}`}),o}return Py(e)?zs(r,e):Pr(e)||Lf(e)?(o=L9(r,e,n,i),oo(o,{synthetic:!0}),o):(o=kf(r,e,n,t),df(o,`${e}`,void 0),oo(o,{synthetic:!0}),o)}function kf(r,e,n,t){const i={message:e};if(t&&n){const o=zf(r,n);o.length&&(i.exception={values:[{value:e,stacktrace:{frames:o}}]})}return i}const Ro=1024,dk="Breadcrumbs";class fo{static __initStatic(){this.id=dk}__init(){this.name=fo.id}constructor(e){fo.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&Li("console",Y9),this.options.dom&&Li("dom",q9(this.options.dom)),this.options.xhr&&Li("xhr",H9),this.options.fetch&&Li("fetch",z9),this.options.history&&Li("history",W9)}addSentryBreadcrumb(e){this.options.sentry&&Mn().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:dl(e)},{event:e})}}fo.__initStatic();function q9(r){function e(n){let t,i=typeof r=="object"?r.serializeAttribute:void 0,o=typeof r=="object"&&typeof r.maxStringLength=="number"?r.maxStringLength:void 0;o&&o>Ro&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`\`dom.maxStringLength\` cannot exceed ${Ro}, but a value of ${o} was configured. Sentry will use ${Ro} instead.`),o=Ro),typeof i=="string"&&(i=[i]);try{const l=n.event;t=V9(l)?jr(l.target,{keyAttrs:i,maxStringLength:o}):jr(l,{keyAttrs:i,maxStringLength:o})}catch{t="<unknown>"}t.length!==0&&Mn().addBreadcrumb({category:`ui.${n.name}`,message:t},{event:n.event,name:n.name,global:n.global})}return e}function Y9(r){for(let n=0;n<r.args.length;n++)if(r.args[n]==="ref=Ref<"){r.args[n+1]="viewRef";break}const e={category:"console",data:{arguments:r.args,logger:"console"},level:k7(r.level),message:Qg(r.args," ")};if(r.level==="assert")if(r.args[0]===!1)e.message=`Assertion failed: ${Qg(r.args.slice(1)," ")||"console.assert"}`,e.data.arguments=r.args.slice(1);else return;Mn().addBreadcrumb(e,{input:r.args,level:r.level})}function H9(r){const{startTimestamp:e,endTimestamp:n}=r,t=r.xhr[kr];if(!e||!n||!t)return;const{method:i,url:o,status_code:l,body:s}=t,a={method:i,url:o,status_code:l},f={xhr:r.xhr,input:s,startTimestamp:e,endTimestamp:n};Mn().addBreadcrumb({category:"xhr",data:a,type:"http"},f)}function z9(r){const{startTimestamp:e,endTimestamp:n}=r;if(n&&!(r.fetchData.url.match(/sentry_key/)&&r.fetchData.method==="POST"))if(r.error){const t=r.fetchData,i={data:r.error,input:r.args,startTimestamp:e,endTimestamp:n};Mn().addBreadcrumb({category:"fetch",data:t,level:"error",type:"http"},i)}else{const t={...r.fetchData,status_code:r.response&&r.response.status},i={input:r.args,response:r.response,startTimestamp:e,endTimestamp:n};Mn().addBreadcrumb({category:"fetch",data:t,type:"http"},i)}}function W9(r){let e=r.from,n=r.to;const t=Ys(Tn.location.href);let i=Ys(e);const o=Ys(n);i.path||(i=t),t.protocol===o.protocol&&t.host===o.host&&(n=o.relative),t.protocol===i.protocol&&t.host===i.host&&(e=i.relative),Mn().addBreadcrumb({category:"navigation",data:{from:e,to:n}})}function V9(r){return r&&!!r.target}function J9(r,{metadata:e,tunnel:n,dsn:t}){const i={event_id:r.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!n&&!!t&&{dsn:hs(t)}},o=X9(r);return po(i,[o])}function X9(r){return[{type:"user_report"},r]}class K9 extends er{constructor(e){const n=Tn.SENTRY_SDK_SOURCE||_7();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:g0}],version:g0},super(e),e.sendClientReports&&Tn.document&&Tn.document.addEventListener("visibilitychange",()=>{Tn.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,n){return U9(this._options.stackParser,e,n,this._options.attachStacktrace)}eventFromMessage(e,n="info",t){return G9(this._options.stackParser,e,n,t,this._options.attachStacktrace)}sendEvent(e,n){const t=this.getIntegrationById(dk);t&&t.addSentryBreadcrumb&&t.addSentryBreadcrumb(e),super.sendEvent(e,n)}captureUserFeedback(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("SDK not enabled, will not capture user feedback.");return}const n=J9(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(e,n,t){return e.platform=e.platform||"javascript",super._prepareEvent(e,n,t)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("Sending outcomes:",e);const n=N7(e,this._options.tunnel&&hs(this._dsn));this._sendEnvelope(n)}}let Zr;function Z9(){if(Zr)return Zr;if(uf(Tn.fetch))return Zr=Tn.fetch.bind(Tn);const r=Tn.document;let e=Tn.fetch;if(r&&typeof r.createElement=="function")try{const n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n);const t=n.contentWindow;t&&t.fetch&&(e=t.fetch),r.head.removeChild(n)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return Zr=e.bind(Tn)}function Q9(){Zr=void 0}function x9(r,e=Z9()){let n=0,t=0;function i(o){const l=o.body.length;n+=l,t++;const s={body:o.body,method:"POST",referrerPolicy:"origin",headers:r.headers,keepalive:n<=6e4&&t<15,...r.fetchOptions};try{return e(r.url,s).then(a=>(n-=l,t--,{statusCode:a.status,headers:{"x-sentry-rate-limits":a.headers.get("X-Sentry-Rate-Limits"),"retry-after":a.headers.get("Retry-After")}}))}catch(a){return Q9(),n-=l,t--,Qo(a)}}return ck(r,i)}const eF=4;function tF(r){function e(n){return new yi((t,i)=>{const o=new XMLHttpRequest;o.onerror=i,o.onreadystatechange=()=>{o.readyState===eF&&t({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",r.url);for(const l in r.headers)Object.prototype.hasOwnProperty.call(r.headers,l)&&o.setRequestHeader(l,r.headers[l]);o.send(n.body)})}return ck(r,e)}const $s="?",nF=30,iF=40,lF=50;function Vf(r,e,n,t){const i={filename:r,function:e,in_app:!0};return n!==void 0&&(i.lineno=n),t!==void 0&&(i.colno=t),i}const rF=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,oF=/\((\S*)(?::(\d+))(?::(\d+))\)/,sF=r=>{const e=rF.exec(r);if(e){if(e[2]&&e[2].indexOf("eval")===0){const o=oF.exec(e[2]);o&&(e[2]=o[1],e[3]=o[2],e[4]=o[3])}const[t,i]=mk(e[1]||$s,e[2]);return Vf(i,t,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},fF=[nF,sF],aF=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,cF=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,uF=r=>{const e=aF.exec(r);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const o=cF.exec(e[3]);o&&(e[1]=e[1]||"eval",e[3]=o[1],e[4]=o[2],e[5]="")}let t=e[3],i=e[1]||$s;return[i,t]=mk(i,t),Vf(t,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},_F=[lF,uF],dF=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,mF=r=>{const e=dF.exec(r);return e?Vf(e[2],e[1]||$s,+e[3],e[4]?+e[4]:void 0):void 0},pF=[iF,mF],hF=[fF,_F,pF],gF=Vy(...hF),mk=(r,e)=>{const n=r.indexOf("safari-extension")!==-1,t=r.indexOf("safari-web-extension")!==-1;return n||t?[r.indexOf("@")!==-1?r.split("@")[0]:$s,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[r,e]};class gl{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=gl.id}__init2(){this._installFunc={onerror:bF,onunhandledrejection:$F}}constructor(e){gl.prototype.__init.call(this),gl.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const n in e){const t=this._installFunc[n];t&&e[n]&&(vF(n),t(),this._installFunc[n]=void 0)}}}gl.__initStatic();function bF(){Li("error",r=>{const[e,n,t]=gk();if(!e.getIntegration(gl))return;const{msg:i,url:o,line:l,column:s,error:a}=r;if(uk()||a&&a.__sentry_own_request__)return;const f=a===void 0&&vl(i)?kF(i,o,l,s):pk(Wf(n,a||i,void 0,t,!1),o,l,s);f.level="error",hk(e,a,f,"onerror")})}function $F(){Li("unhandledrejection",r=>{const[e,n,t]=gk();if(!e.getIntegration(gl))return;let i=r;try{"reason"in r?i=r.reason:"detail"in r&&"reason"in r.detail&&(i=r.detail.reason)}catch{}if(uk()||i&&i.__sentry_own_request__)return!0;const o=Uy(i)?yF(i):Wf(n,i,void 0,t,!0);o.level="error",hk(e,i,o,"onunhandledrejection")})}function yF(r){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(r)}`}]}}}function kF(r,e,n,t){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let o=jy(r)?r.message:r,l="Error";const s=o.match(i);return s&&(l=s[1],o=s[2]),pk({exception:{values:[{type:l,value:o}]}},e,n,t)}function pk(r,e,n,t){const i=r.exception=r.exception||{},o=i.values=i.values||[],l=o[0]=o[0]||{},s=l.stacktrace=l.stacktrace||{},a=s.frames=s.frames||[],f=isNaN(parseInt(t,10))?void 0:t,c=isNaN(parseInt(n,10))?void 0:n,u=vl(e)&&e.length>0?e:FL();return a.length===0&&a.push({colno:f,filename:u,function:"?",in_app:!0,lineno:c}),r}function vF(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`Global Handler attached: ${r}`)}function hk(r,e,n,t){oo(n,{handled:!1,type:t}),r.captureEvent(n,{originalException:e})}function gk(){const r=Mn(),e=r.getClient(),n=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[r,n.stackParser,n.attachStacktrace]}const wF=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class ao{static __initStatic(){this.id="TryCatch"}__init(){this.name=ao.id}constructor(e){ao.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&ci(Tn,"setTimeout",$0),this._options.setInterval&&ci(Tn,"setInterval",$0),this._options.requestAnimationFrame&&ci(Tn,"requestAnimationFrame",EF),this._options.XMLHttpRequest&&"XMLHttpRequest"in Tn&&ci(XMLHttpRequest.prototype,"send",TF);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:wF).forEach(SF)}}ao.__initStatic();function $0(r){return function(...e){const n=e[0];return e[0]=Gr(n,{mechanism:{data:{function:El(r)},handled:!0,type:"instrument"}}),r.apply(this,e)}}function EF(r){return function(e){return r.apply(this,[Gr(e,{mechanism:{data:{function:"requestAnimationFrame",handler:El(r)},handled:!0,type:"instrument"}})])}}function TF(r){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&ci(n,i,function(o){const l={mechanism:{data:{function:i,handler:El(o)},handled:!0,type:"instrument"}},s=Uf(o);return s&&(l.mechanism.data.handler=El(s)),Gr(o,l)})}),r.apply(this,e)}}function SF(r){const e=Tn,n=e[r]&&e[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(ci(n,"addEventListener",function(t){return function(i,o,l){try{typeof o.handleEvent=="function"&&(o.handleEvent=Gr(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:El(o),target:r},handled:!0,type:"instrument"}}))}catch{}return t.apply(this,[i,Gr(o,{mechanism:{data:{function:"addEventListener",handler:El(o),target:r},handled:!0,type:"instrument"}}),l])}}),ci(n,"removeEventListener",function(t){return function(i,o,l){const s=o;try{const a=s&&s.__sentry_wrapped__;a&&t.call(this,i,a,l)}catch{}return t.call(this,i,s,l)}}))}const CF="cause",IF=5;class Cr{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Cr.id}constructor(e={}){Cr.prototype.__init.call(this),this._key=e.key||CF,this._limit=e.limit||IF}setupOnce(){const e=Mn().getClient();e&&qf((n,t)=>{const i=Mn().getIntegration(Cr);return i?OF(e.getOptions().stackParser,i._key,i._limit,n,t):n})}}Cr.__initStatic();function OF(r,e,n,t,i){if(!t.exception||!t.exception.values||!i||!wl(i.originalException,Error))return t;const o=bk(r,n,i.originalException,e);return t.exception.values=[...o,...t.exception.values],t}function bk(r,e,n,t,i=[]){if(!wl(n[t],Error)||i.length+1>=e)return i;const o=_k(r,n[t]);return bk(r,e,n[t],t,[o,...i])}class Ir{constructor(){Ir.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Ir.id}setupOnce(){qf(e=>{if(Mn().getIntegration(Ir)){if(!Tn.navigator&&!Tn.location&&!Tn.document)return e;const n=e.request&&e.request.url||Tn.location&&Tn.location.href,{referrer:t}=Tn.document||{},{userAgent:i}=Tn.navigator||{},o={...e.request&&e.request.headers,...t&&{Referer:t},...i&&{"User-Agent":i}},l={...e.request,...n&&{url:n},headers:o};return{...e,request:l}}return e})}}Ir.__initStatic();class Or{constructor(){Or.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Or.id}setupOnce(e,n){const t=i=>{if(i.type)return i;const o=n().getIntegration(Or);if(o){try{if(RF(i,o._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return o._previousEvent=i}return o._previousEvent=i}return i};t.id=this.name,e(t)}}Or.__initStatic();function RF(r,e){return e?!!(AF(r,e)||NF(r,e)):!1}function AF(r,e){const n=r.message,t=e.message;return!(!n&&!t||n&&!t||!n&&t||n!==t||!yk(r,e)||!$k(r,e))}function NF(r,e){const n=y0(e),t=y0(r);return!(!n||!t||n.type!==t.type||n.value!==t.value||!yk(r,e)||!$k(r,e))}function $k(r,e){let n=k0(r),t=k0(e);if(!n&&!t)return!0;if(n&&!t||!n&&t||(n=n,t=t,t.length!==n.length))return!1;for(let i=0;i<t.length;i++){const o=t[i],l=n[i];if(o.filename!==l.filename||o.lineno!==l.lineno||o.colno!==l.colno||o.function!==l.function)return!1}return!0}function yk(r,e){let n=r.fingerprint,t=e.fingerprint;if(!n&&!t)return!0;if(n&&!t||!n&&t)return!1;n=n,t=t;try{return n.join("")===t.join("")}catch{return!1}}function y0(r){return r.exception&&r.exception.values&&r.exception.values[0]}function k0(r){const e=r.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const BF=[new Sr,new so,new ao,new fo,new gl,new Cr,new Or,new Ir];function MF(r={}){r.defaultIntegrations===void 0&&(r.defaultIntegrations=BF),r.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(r.release=__SENTRY_RELEASE__),Tn.SENTRY_RELEASE&&Tn.SENTRY_RELEASE.id&&(r.release=Tn.SENTRY_RELEASE.id)),r.autoSessionTracking===void 0&&(r.autoSessionTracking=!0),r.sendClientReports===void 0&&(r.sendClientReports=!0);const e={...r,stackParser:JL(r.stackParser||gF),integrations:d9(r),transport:r.transport||(Jy()?x9:tF)};w9(K9,e),r.autoSessionTracking&&DF()}function v0(r){r.startSession({ignoreDuration:!0}),r.captureSession()}function DF(){if(typeof Tn.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const r=Mn();r.captureSession&&(v0(r),Li("history",({from:e,to:n})=>{e===void 0||e===n||v0(Mn())}))}const Cn=Fi;function LF(){Cn&&Cn.document?Cn.document.addEventListener("visibilitychange",()=>{const r=go();if(Cn.document.hidden&&r){const e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${r.op}`),r.status||r.setStatus(e),r.setTag("visibilitychange","document.hidden"),r.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Jf=(r,e,n)=>{let t,i;return o=>{e.value>=0&&(o||n)&&(i=e.value-(t||0),(i||t===void 0)&&(t=e.value,e.delta=i,r(e)))}},FF=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,PF=()=>{const r=Cn.performance.timing,e=Cn.performance.navigation.type,n={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const t in r)t!=="navigationStart"&&t!=="toJSON"&&(n[t]=Math.max(r[t]-r.navigationStart,0));return n},kk=()=>Cn.__WEB_VITALS_POLYFILL__?Cn.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||PF()):Cn.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],vk=()=>{const r=kk();return r&&r.activationStart||0},Xf=(r,e)=>{const n=kk();let t="navigate";return n&&(Cn.document.prerendering||vk()>0?t="prerender":t=n.type.replace(/_/g,"-")),{name:r,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:FF(),navigationType:t}},bo=(r,e,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(r)){const t=new PerformanceObserver(i=>{e(i.getEntries())});return t.observe(Object.assign({type:r,buffered:!0},n||{})),t}}catch{}},ys=(r,e)=>{const n=t=>{(t.type==="pagehide"||Cn.document.visibilityState==="hidden")&&(r(t),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},jF=r=>{const e=Xf("CLS",0);let n,t=0,i=[];const o=s=>{s.forEach(a=>{if(!a.hadRecentInput){const f=i[0],c=i[i.length-1];t&&i.length!==0&&a.startTime-c.startTime<1e3&&a.startTime-f.startTime<5e3?(t+=a.value,i.push(a)):(t=a.value,i=[a]),t>e.value&&(e.value=t,e.entries=i,n&&n())}})},l=bo("layout-shift",o);if(l){n=Jf(r,e);const s=()=>{o(l.takeRecords()),n(!0)};return ys(s),s}};let Lo=-1;const UF=()=>Cn.document.visibilityState==="hidden"&&!Cn.document.prerendering?0:1/0,GF=()=>{ys(({timeStamp:r})=>{Lo=r},!0)},Kf=()=>(Lo<0&&(Lo=UF(),GF()),{get firstHiddenTime(){return Lo}}),qF=r=>{const e=Kf(),n=Xf("FID");let t;const i=s=>{s.startTime<e.firstHiddenTime&&(n.value=s.processingStart-s.startTime,n.entries.push(s),t(!0))},o=s=>{s.forEach(i)},l=bo("first-input",o);t=Jf(r,n),l&&ys(()=>{o(l.takeRecords()),l.disconnect()},!0)},w0={},YF=r=>{const e=Kf(),n=Xf("LCP");let t;const i=l=>{const s=l[l.length-1];if(s){const a=Math.max(s.startTime-vk(),0);a<e.firstHiddenTime&&(n.value=a,n.entries=[s],t())}},o=bo("largest-contentful-paint",i);if(o){t=Jf(r,n);const l=()=>{w0[n.id]||(i(o.takeRecords()),o.disconnect(),w0[n.id]=!0,t(!0))};return["keydown","click"].forEach(s=>{addEventListener(s,l,{once:!0,capture:!0})}),ys(l,!0),l}};function Ws(r){return typeof r=="number"&&isFinite(r)}function qr(r,{startTimestamp:e,...n}){return e&&r.startTimestamp>e&&(r.startTimestamp=e),r.startChild({startTimestamp:e,...n})}function ti(r){return r/1e3}function wk(){return Cn&&Cn.addEventListener&&Cn.performance}let E0=0,Zn={},Vi,to;function HF(){const r=wk();if(r&&Tl){r.mark&&Cn.performance.mark("sentry-tracing-init"),XF();const e=VF(),n=JF();return()=>{e&&e(),n&&n()}}return()=>{}}function zF(){bo("longtask",e=>{for(const n of e){const t=go();if(!t)return;const i=ti(Tl+n.startTime),o=ti(n.duration);t.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+o})}})}function WF(){bo("event",e=>{for(const n of e){const t=go();if(!t)return;if(n.name==="click"){const i=ti(Tl+n.startTime),o=ti(n.duration);t.startChild({description:jr(n.target),op:`ui.interaction.${n.name}`,startTimestamp:i,endTimestamp:i+o})}}},{durationThreshold:0})}function VF(){return jF(r=>{const e=r.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding CLS"),Zn.cls={value:r.value,unit:""},to=e)})}function JF(){return YF(r=>{const e=r.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding LCP"),Zn.lcp={value:r.value,unit:"millisecond"},Vi=e)})}function XF(){qF(r=>{const e=r.entries.pop();if(!e)return;const n=ti(Tl),t=ti(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding FID"),Zn.fid={value:r.value,unit:"millisecond"},Zn["mark.fid"]={value:n+t,unit:"second"}})}function KF(r){const e=wk();if(!e||!Cn.performance.getEntries||!Tl)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Tracing] Adding & adjusting spans using Performance API");const n=ti(Tl),t=e.getEntries();let i,o;if(t.slice(E0).forEach(l=>{const s=ti(l.startTime),a=ti(l.duration);if(!(r.op==="navigation"&&n+s<r.startTimestamp))switch(l.entryType){case"navigation":{QF(r,l,n),i=n+ti(l.responseStart),o=n+ti(l.requestStart);break}case"mark":case"paint":case"measure":{ZF(r,l,s,a,n);const f=Kf(),c=l.startTime<f.firstHiddenTime;l.name==="first-paint"&&c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding FP"),Zn.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&c&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding FCP"),Zn.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{const f=l.name.replace(Cn.location.origin,"");eP(r,l,f,s,a,n);break}}}),E0=Math.max(t.length-1,0),tP(r),r.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding TTFB"),Zn.ttfb={value:(i-r.startTimestamp)*1e3,unit:"millisecond"},typeof o=="number"&&o<=i&&(Zn["ttfb.requestTime"]={value:(i-o)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(s=>{if(!Zn[s]||n>=r.startTimestamp)return;const a=Zn[s].value,f=n+ti(a),c=Math.abs((f-r.startTimestamp)*1e3),u=c-a;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Measurements] Normalized ${s} from ${a} to ${c} (${u})`),Zn[s].value=c});const l=Zn["mark.fid"];l&&Zn.fid&&(qr(r,{description:"first input delay",endTimestamp:l.value+ti(Zn.fid.value),op:"ui.action",startTimestamp:l.value}),delete Zn["mark.fid"]),"fcp"in Zn||delete Zn.cls,Object.keys(Zn).forEach(s=>{r.setMeasurement(s,Zn[s].value,Zn[s].unit)}),nP(r)}Vi=void 0,to=void 0,Zn={}}function ZF(r,e,n,t,i){const o=i+n,l=o+t;return qr(r,{description:e.name,endTimestamp:l,op:e.entryType,startTimestamp:o}),o}function QF(r,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(t=>{Ao(r,e,t,n)}),Ao(r,e,"secureConnection",n,"TLS/SSL","connectEnd"),Ao(r,e,"fetch",n,"cache","domainLookupStart"),Ao(r,e,"domainLookup",n,"DNS"),xF(r,e,n)}function Ao(r,e,n,t,i,o){const l=o?e[o]:e[`${n}End`],s=e[`${n}Start`];!s||!l||qr(r,{op:"browser",description:i||n,startTimestamp:t+ti(s),endTimestamp:t+ti(l)})}function xF(r,e,n){qr(r,{op:"browser",description:"request",startTimestamp:n+ti(e.requestStart),endTimestamp:n+ti(e.responseEnd)}),qr(r,{op:"browser",description:"response",startTimestamp:n+ti(e.responseStart),endTimestamp:n+ti(e.responseEnd)})}function eP(r,e,n,t,i,o){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const l={};"transferSize"in e&&(l["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(l["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(l["Decoded Body Size"]=e.decodedBodySize),"renderBlockingStatus"in e&&(l["resource.render_blocking_status"]=e.renderBlockingStatus);const s=o+t,a=s+i;qr(r,{description:n,endTimestamp:a,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:s,data:l})}function tP(r){const e=Cn.navigator;if(!e)return;const n=e.connection;n&&(n.effectiveType&&r.setTag("effectiveConnectionType",n.effectiveType),n.type&&r.setTag("connectionType",n.type),Ws(n.rtt)&&(Zn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Ws(e.deviceMemory)&&r.setTag("deviceMemory",`${e.deviceMemory} GB`),Ws(e.hardwareConcurrency)&&r.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function nP(r){Vi&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding LCP Data"),Vi.element&&r.setTag("lcp.element",jr(Vi.element)),Vi.id&&r.setTag("lcp.id",Vi.id),Vi.url&&r.setTag("lcp.url",Vi.url.trim().slice(0,200)),r.setTag("lcp.size",Vi.size)),to&&to.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log("[Measurements] Adding CLS Data"),to.sources.forEach((e,n)=>r.setTag(`cls.source.${n+1}`,jr(e.node))))}const vf=["localhost",/^\//],wf={traceFetch:!0,traceXHR:!0,tracingOrigins:vf,tracePropagationTargets:vf};function iP(r){const{traceFetch:e,traceXHR:n,tracePropagationTargets:t,tracingOrigins:i,shouldCreateSpanForRequest:o}={traceFetch:wf.traceFetch,traceXHR:wf.traceXHR,...r},l=typeof o=="function"?o:f=>!0,s=f=>lP(f,t||i),a={};e&&Li("fetch",f=>{rP(f,l,s,a)}),n&&Li("xhr",f=>{sP(f,l,s,a)})}function lP(r,e){return mo(r,e||vf)}function rP(r,e,n,t){if(!Yf()||!(r.fetchData&&e(r.fetchData.url)))return;if(r.endTimestamp){const s=r.fetchData.__span;if(!s)return;const a=t[s];a&&(r.response?a.setHttpStatus(r.response.status):r.error&&a.setStatus("internal_error"),a.finish(),delete t[s]);return}const i=Mn().getScope(),o=i&&i.getSpan(),l=o&&o.transaction;if(o&&l){const s=o.startChild({data:{...r.fetchData,type:"fetch"},description:`${r.fetchData.method} ${r.fetchData.url}`,op:"http.client"});r.fetchData.__span=s.spanId,t[s.spanId]=s;const a=r.args[0];r.args[1]=r.args[1]||{};const f=r.args[1];n(r.fetchData.url)&&(f.headers=oP(a,l.getDynamicSamplingContext(),s,f))}}function oP(r,e,n,t){const i=tk(e),o=n.toTraceparent(),l=typeof Request<"u"&&wl(r,Request)?r.headers:t.headers;if(l)if(typeof Headers<"u"&&wl(l,Headers)){const s=new Headers(l);return s.append("sentry-trace",o),i&&s.append(gf,i),s}else if(Array.isArray(l)){const s=[...l,["sentry-trace",o]];return i&&s.push([gf,i]),s}else{const s="baggage"in l?l.baggage:void 0,a=[];return Array.isArray(s)?a.push(...s):s&&a.push(s),i&&a.push(i),{...l,"sentry-trace":o,baggage:a.length>0?a.join(","):void 0}}else return{"sentry-trace":o,baggage:i}}function sP(r,e,n,t){const i=r.xhr,o=i&&i[kr];if(!Yf()||i&&i.__sentry_own_request__||!(i&&o&&e(o.url)))return;if(r.endTimestamp){const f=i.__sentry_xhr_span_id__;if(!f)return;const c=t[f];c&&(c.setHttpStatus(o.status_code),c.finish(),delete t[f]);return}const l=Mn().getScope(),s=l&&l.getSpan(),a=s&&s.transaction;if(s&&a){const f=s.startChild({data:{...o.data,type:"xhr",method:o.method,url:o.url},description:`${o.method} ${o.url}`,op:"http.client"});if(i.__sentry_xhr_span_id__=f.spanId,t[i.__sentry_xhr_span_id__]=f,i.setRequestHeader&&n(o.url))try{i.setRequestHeader("sentry-trace",f.toTraceparent());const c=a.getDynamicSamplingContext(),u=tk(c);u&&i.setRequestHeader(gf,u)}catch{}}}function fP(r,e=!0,n=!0){if(!Cn||!Cn.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn("Could not initialize routing instrumentation due to invalid location");return}let t=Cn.location.href,i;e&&(i=r({name:Cn.location.pathname,startTimestamp:Tl?Tl/1e3:void 0,op:"pageload",metadata:{source:"url"}})),n&&Li("history",({to:o,from:l})=>{if(l===void 0&&t&&t.indexOf(o)!==-1){t=void 0;return}l!==o&&(t=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=r({name:Cn.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const aP="BrowserTracing",cP={...Do,markBackgroundTransactions:!0,routingInstrumentation:fP,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...wf};class Zf{__init(){this.name=aP}constructor(e){Zf.prototype.__init.call(this),n9(),this.options={...cP,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=HF(),this.options.enableLongTask&&zF(),this.options._experiments.enableInteractions&&WF()}setupOnce(e,n){this._getCurrentHub=n;const{routingInstrumentation:t,startTransactionOnLocationChange:i,startTransactionOnPageLoad:o,markBackgroundTransactions:l,traceFetch:s,traceXHR:a,tracePropagationTargets:f,shouldCreateSpanForRequest:c,_experiments:u}=this.options;t(d=>{const b=this._createRouteTransaction(d);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(b,d,n),b},o,i),l&&LF(),u.enableInteractions&&this._registerInteractionListener(),iP({traceFetch:s,traceXHR:a,tracePropagationTargets:f,shouldCreateSpanForRequest:c})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:n,idleTimeout:t,finalTimeout:i,heartbeatInterval:o}=this.options,l=e.op==="pageload",s=l?T0("sentry-trace"):null,a=l?T0("baggage"):null,f=s?T7(s):void 0,c=a?U7(a):void 0,u={...e,...f,metadata:{...e.metadata,dynamicSamplingContext:f&&!c?{}:c},trimEnd:!0},d=typeof n=="function"?n(u):u,b=d===void 0?{...u,sampled:!1}:d;b.metadata=b.name!==u.name?{...b.metadata,source:"custom"}:b.metadata,this._latestRouteName=b.name,this._latestRouteSource=b.metadata&&b.metadata.source,b.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] Will not send ${b.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.log(`[Tracing] Starting ${b.op} transaction on scope`);const k=this._getCurrentHub(),{location:y}=Cn,E=_0(k,b,t,i,!0,{location:y},o);return E.registerBeforeFinishCallback(C=>{this._collectWebVitals(),KF(C)}),E}_registerInteractionListener(){let e;const n=()=>{const{idleTimeout:t,finalTimeout:i,heartbeatInterval:o}=this.options,l="ui.action.click",s=go();if(s&&s.op&&["navigation","pageload"].includes(s.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`[Tracing] Did not create ${l} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`[Tracing] Did not create ${l} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&gt.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}const a=this._getCurrentHub(),{location:f}=Cn,c={name:this._latestRouteName,op:l,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=_0(a,c,t,i,!0,{location:f},o)};["click"].forEach(t=>{addEventListener(t,n,{once:!1,capture:!0})})}}function T0(r){const e=PL(`meta[name=${r}]`);return e?e.getAttribute("content"):null}function S0(r,e,n){const t=r.slice();return t[20]=e[n],t}function C0(r,e,n){const t=r.slice();return t[23]=e[n],t}function uP(r){let e=" ",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,d(t){t&&p(n)}}}function _P(r){let e,n=r[2](r[23].partId,r[23].variant)+"",t;return{c(){e=m("span"),t=w(n),le(e,"title",`${r[23].partId}${r[23].variant?"#"+r[23].variant:""}`),le(e,"class",`c_${r[3](r[23].partId)}`)},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function I0(r){let e;function n(o,l){return o[23]?_P:uP}let i=n(r)(r);return{c(){i.c(),e=ue()},m(o,l){i.m(o,l),h(o,e,l)},p(o,l){i.p(o,l)},d(o){i.d(o),o&&p(e)}}}function O0(r){let e=`
`,n,t=r[20],i=[];for(let o=0;o<t.length;o+=1)i[o]=I0(C0(r,t,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();n=w(e)},m(o,l){for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(o,l);h(o,n,l)},p(o,l){if(l&28){t=o[20];let s;for(s=0;s<t.length;s+=1){const a=C0(o,t,s);i[s]?i[s].p(a,l):(i[s]=I0(a),i[s].c(),i[s].m(n.parentNode,n))}for(;s<i.length;s+=1)i[s].d(1);i.length=t.length}},d(o){ye(i,o),o&&p(n)}}}function dP(r){let e,n,t,i,o;return i=new Wt({props:{items:r[5],$$slots:{default:[mP,({item:{id:l,count:s}})=>({18:l,19:s}),({item:l})=>(l?262144:0)|(l?524288:0)]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Parts",{_context:hP})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&67895296&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function mP(r){let e,n,t=r[19]+"",i,o,l;return e=new ge({props:{id:r[18],type:"vehicle_part"}}),{c(){q(e.$$.fragment),n=w(" ("),i=w(t),o=w(")")},m(s,a){U(e,s,a),h(s,n,a),h(s,i,a),h(s,o,a),l=!0},p(s,a){const f={};a&262144&&(f.id=s[18]),e.$set(f),(!l||a&524288)&&t!==(t=s[19]+"")&&K(i,t)},i(s){l||(g(e.$$.fragment,s),l=!0)},o(s){$(e.$$.fragment,s),l=!1},d(s){G(e,s),s&&p(n),s&&p(i),s&&p(o)}}}function pP(r){let e,n=He(r[0])+"",t,i,o,l,s,a,f,c,u=r[4],d=[];for(let k=0;k<u.length;k+=1)d[k]=O0(S0(r,u,k));let b=r[5].length&&dP(r);return f=new Er({props:{loot:r[1].flattenItemGroupLoot(tf(r[0]))}}),{c(){e=m("h1"),t=w(n),i=R(),o=m("section"),l=m("pre");for(let k=0;k<d.length;k+=1)d[k].c();s=R(),b&&b.c(),a=R(),q(f.$$.fragment),bt(l,"font-family","Unifont, monospace"),bt(l,"line-height","1")},m(k,y){h(k,e,y),_(e,t),h(k,i,y),h(k,o,y),_(o,l);for(let E=0;E<d.length;E+=1)d[E]&&d[E].m(l,null);h(k,s,y),b&&b.m(k,y),h(k,a,y),U(f,k,y),c=!0},p(k,[y]){if((!c||y&1)&&n!==(n=He(k[0])+"")&&K(t,n),y&28){u=k[4];let C;for(C=0;C<u.length;C+=1){const I=S0(k,u,C);d[C]?d[C].p(I,y):(d[C]=O0(I),d[C].c(),d[C].m(l,null))}for(;C<d.length;C+=1)d[C].d(1);d.length=u.length}k[5].length&&b.p(k,y);const E={};y&1&&(E.loot=k[1].flattenItemGroupLoot(tf(k[0]))),f.$set(E)},i(k){c||(g(b),g(f.$$.fragment,k),c=!0)},o(k){$(b),$(f.$$.fragment,k),c=!1},d(k){k&&p(e),k&&p(i),k&&p(o),ye(d,k),k&&p(s),b&&b.d(k),k&&p(a),G(f,k)}}}const hP="Vehicle";function gP(r,e,n){let{item:t}=e;const i=jt("data");let o=1/0,l=-1/0,s=1/0,a=-1/0;for(const L of t.parts)L.x<o&&(o=L.x),L.x>l&&(l=L.x),L.y<s&&(s=L.y),L.y>a&&(a=L.y);const f={cover:"^",cross:"c",horizontal:"h",horizontal_2:"=",vertical:"j",vertical_2:"H",ne:"u",nw:"y",se:"n",sw:"b"},c={on_roof:9,on_cargo:8,center:7,under:6,structure:5,engine_block:4,on_battery_mount:3,fuel_source:2,roof:-1,armor:-2},u={XOXO:"│",OXOX:"─",XXOO:"└",OXXO:"┌",OOXX:"┐",XOOX:"┘",XXXO:"├",XXOX:"┴",XOXX:"┤",OXXX:"┬",XXXX:"┼"},d=L=>{switch(L){case"j":return u.XOXO;case"h":return u.OXOX;case"c":return u.XXXX;case"y":return u.OXXO;case"u":return u.OOXX;case"n":return u.XOOX;case"b":return u.XXOO;default:return L}},b=(L,D)=>{const Y=i.byIdMaybe("vehicle_part",L)??(L.startsWith("turret_")?i.byIdMaybe("vehicle_part","turret_generic"):null);if(!Y)return"?";const z=Y.variants;if(z){const W=z.find(H=>H.id===D)||z[0];return W?W.symbols[0]:"?"}else{const W=Y.symbol??"=",H={...Y.standard_symbols?f:{},...Y.symbols};return d(H[D]??W)}},k=L=>{const D=i.byIdMaybe("vehicle_part",L)??(L.startsWith("turret_")?i.byIdMaybe("vehicle_part","turret_generic"):null);return D?D.color:"white"},y=t.parts.map(L=>{var Y,z;const D=((z=L.part?[{part:L.part,fuel:L.fuel}]:(Y=L.parts)==null?void 0:Y.map(W=>typeof W=="string"?{part:W}:W))==null?void 0:z.map(({part:W,fuel:H})=>{const[ne,M]=my(i,W);return{partId:ne,variant:M,fuel:H}}))??[];return{x:L.x,y:L.y,parts:D}}),E=L=>{const D=i.byIdMaybe("vehicle_part",L);if(!D){if(L.startsWith("turret_"))return E("turret_generic");Hf(new Error("Vehicle referenced unknown part"),{contexts:{item:{id:t.id,partId:L}}})}const Y=(D==null?void 0:D.location)??"";return c[Y]??0},C=[];for(let L=l;L>=o;L--){const D=[];for(let Y=s;Y<=a;Y++){const z=y.filter(ne=>ne.x===L&&ne.y===Y).flatMap(ne=>ne.parts);if(!z.length){D.push(void 0);continue}let W=z[0],H=E(W.partId);for(const ne of z){const M=E(ne.partId);M>=0&&M>H&&(H=M,W=ne)}D.push(W)}C.push(D)}const I=y.flatMap(L=>L.parts).filter(L=>i.byIdMaybe("vehicle_part",L.partId)),B=[...If(I,L=>[L.partId]).entries()].map(([L,D])=>({id:L,count:D.length}));return B.sort((L,D)=>L.count===D.count?He(i.byId("vehicle_part",L.id)).localeCompare(He(i.byId("vehicle_part",D.id))):D.count-L.count),r.$$set=L=>{"item"in L&&n(0,t=L.item)},[t,i,b,k,C,B]}class bP extends ht{constructor(e){super(),pt(this,e,gP,pP,mt,{item:0})}}function $P(r){let e,n;return e=new Mf({props:{id:r[0],loots:x5(r[1]),heading:O.t("Found In",{_context:"Terrain/Furniture Locations"})}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,[i]){const o={};i&1&&(o.id=t[0]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function yP(r,e,n){let{item_id:t}=e;const i=jt("data");return r.$$set=o=>{"item_id"in o&&n(0,t=o.item_id)},[t,i]}class kP extends ht{constructor(e){super(),pt(this,e,yP,$P,mt,{item_id:0})}}function R0(r,e,n){const t=r.slice();return t[9]=e[n],t}function A0(r,e,n){const t=r.slice();return t[12]=e[n],t}function N0(r,e,n){const t=r.slice();return t[15]=e[n][0],t[16]=e[n][1],t}function B0(r,e,n){const t=r.slice();return t[19]=e[n],t}function M0(r,e,n){const t=r.slice();return t[22]=e[n],t}function D0(r,e,n){const t=r.slice();return t[25]=e[n].id,t[26]=e[n].prob,t}function L0(r,e,n){const t=r.slice();return t[29]=e[n][0],t[30]=e[n][1],t}function F0(r,e,n){const t=r.slice();return t[25]=e[n].id,t[26]=e[n].prob,t[33]=e[n].count,t}function P0(r){let e,n,t,i,o,l,s;return t=new Dt({props:{item:r[1].byId("terrain",r[0].transforms_into)}}),o=new ge({props:{id:r[0].transforms_into,type:"terrain"}}),{c(){e=m("dt"),e.textContent=`${O.t("Transforms Into",{_context:ar})}`,n=m("dd"),q(t.$$.fragment),i=R(),q(o.$$.fragment),l=R()},m(a,f){h(a,e,f),h(a,n,f),U(t,n,null),_(n,i),U(o,n,null),_(n,l),s=!0},p(a,f){const c={};f[0]&1&&(c.item=a[1].byId("terrain",a[0].transforms_into)),t.$set(c);const u={};f[0]&1&&(u.id=a[0].transforms_into),o.$set(u)},i(a){s||(g(t.$$.fragment,a),g(o.$$.fragment,a),s=!0)},o(a){$(t.$$.fragment,a),$(o.$$.fragment,a),s=!1},d(a){a&&p(e),a&&p(n),G(t),G(o)}}}function j0(r){let e,n,t,i,o,l;return n=new ge({props:{type:"item_action",id:"BOLTCUTTERS"}}),i=new Sl({props:{act:r[0].boltcut,resultType:"terrain"}}),{c(){e=m("dt"),q(n.$$.fragment),t=m("dd"),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),h(s,t,a),U(i,t,null),_(t,o),l=!0},p(s,a){const f={};a[0]&1&&(f.act=s[0].boltcut),i.$set(f)},i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),s&&p(t),G(i)}}}function U0(r){let e,n,t,i,o,l;return n=new ge({props:{type:"item_action",id:"HACKSAW"}}),i=new Sl({props:{act:r[0].hacksaw,resultType:"terrain"}}),{c(){e=m("dt"),q(n.$$.fragment),t=m("dd"),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),h(s,t,a),U(i,t,null),_(t,o),l=!0},p(s,a){const f={};a[0]&1&&(f.act=s[0].hacksaw),i.$set(f)},i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),s&&p(t),G(i)}}}function G0(r){let e,n,t,i,o,l;return n=new ge({props:{type:"item_action",id:"OXYTORCH"}}),i=new Sl({props:{act:r[0].oxytorch,resultType:"terrain"}}),{c(){e=m("dt"),q(n.$$.fragment),t=m("dd"),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),h(s,t,a),U(i,t,null),_(t,o),l=!0},p(s,a){const f={};a[0]&1&&(f.act=s[0].oxytorch),i.$set(f)},i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),s&&p(t),G(i)}}}function q0(r){let e,n,t,i,o,l;return n=new ge({props:{type:"item_action",id:"CROWBAR"}}),i=new Sl({props:{act:r[0].prying,resultType:"terrain"}}),{c(){e=m("dt"),q(n.$$.fragment),t=m("dd"),q(i.$$.fragment),o=R()},m(s,a){h(s,e,a),U(n,e,null),h(s,t,a),U(i,t,null),_(t,o),l=!0},p(s,a){const f={};a[0]&1&&(f.act=s[0].prying),i.$set(f)},i(s){l||(g(n.$$.fragment,s),g(i.$$.fragment,s),l=!0)},o(s){$(n.$$.fragment,s),$(i.$$.fragment,s),l=!1},d(s){s&&p(e),G(n),s&&p(t),G(i)}}}function vP(r){let e,n=r[29]+"",t,i,o,l,s,a=r[30],f=[];for(let u=0;u<a.length;u+=1)f[u]=Y0(F0(r,a,u));const c=u=>$(f[u],1,1,()=>{f[u]=null});return{c(){e=m("dt"),t=w(n),i=m("dd"),o=m("ul");for(let u=0;u<f.length;u+=1)f[u].c();l=R(),le(o,"class","comma-separated")},m(u,d){h(u,e,d),_(e,t),h(u,i,d),_(i,o);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(o,null);_(i,l),s=!0},p(u,d){if(d[0]&4){a=u[30];let b;for(b=0;b<a.length;b+=1){const k=F0(u,a,b);f[b]?(f[b].p(k,d),g(f[b],1)):(f[b]=Y0(k),f[b].c(),g(f[b],1),f[b].m(o,null))}for(fe(),b=a.length;b<f.length;b+=1)c(b);ae()}},i(u){if(!s){for(let d=0;d<a.length;d+=1)g(f[d]);s=!0}},o(u){f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)$(f[d]);s=!1},d(u){u&&p(e),u&&p(i),ye(f,u)}}}function wP(r){let e,n=r[33][0]+"",t,i,o=r[33][1]+"",l,s;return{c(){e=w(" ("),t=w(n),i=w("–"),l=w(o),s=w(")")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,l,f),h(a,s,f)},p:oe,d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(l),a&&p(s)}}}function EP(r){let e,n=r[33][0]!==1&&TP(r);return{c(){n&&n.c(),e=ue()},m(t,i){n&&n.m(t,i),h(t,e,i)},p(t,i){t[33][0]!==1&&n.p(t,i)},d(t){n&&n.d(t),t&&p(e)}}}function TP(r){let e,n=r[33][0]+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function SP(r){let e,n=_y(r[26])+"",t,i;return{c(){e=w(" ("),t=w(n),i=w(")")},m(o,l){h(o,e,l),h(o,t,l),h(o,i,l)},p:oe,d(o){o&&p(e),o&&p(t),o&&p(i)}}}function Y0(r){let e,n,t,i="",o,l="",s,a;t=new ge({props:{type:"item",id:r[25]}});function f(b,k){return b[33][0]===b[33][1]?EP:wP}let u=f(r)(r),d=r[26]!==1&&SP(r);return{c(){e=m("li"),n=m("span"),q(t.$$.fragment),o=w(i),u.c(),s=w(l),d&&d.c(),bt(n,"white-space","nowrap")},m(b,k){h(b,e,k),_(e,n),U(t,n,null),_(n,o),u.m(n,null),_(n,s),d&&d.m(n,null),a=!0},p(b,k){u.p(b,k),b[26]!==1&&d.p(b,k)},i(b){a||(g(t.$$.fragment,b),a=!0)},o(b){$(t.$$.fragment,b),a=!1},d(b){b&&p(e),G(t),u.d(),d&&d.d()}}}function H0(r){let e,n,t=r[30].length&&vP(r);return{c(){t&&t.c(),e=ue()},m(i,o){t&&t.m(i,o),h(i,e,o),n=!0},p(i,o){i[30].length&&t.p(i,o)},i(i){n||(g(t),n=!0)},o(i){$(t),n=!1},d(i){t&&t.d(i),i&&p(e)}}}function CP(r){let e,n,t,i,o,l=r[3],s=[];for(let f=0;f<l.length;f+=1)s[f]=J0(N0(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Harvest",{_context:ar})}`,n=m("dd"),t=m("dl");for(let f=0;f<s.length;f+=1)s[f].c();i=R()},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&10){l=f[3];let u;for(u=0;u<l.length;u+=1){const d=N0(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=J0(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function IP(r){let e,n,t,i,o;return n=new Dt({props:{item:r[1].byId("item",r[22].drop)}}),i=new ge({props:{type:"item",id:r[22].drop}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),U(n,e,null),_(e,t),U(i,e,null),o=!0},p:oe,i(l){o||(g(n.$$.fragment,l),g(i.$$.fragment,l),o=!0)},o(l){$(n.$$.fragment,l),$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(n),G(i)}}}function OP(r){let e,n,t=r[1].flattenTopLevelItemGroup(r[1].byId("item_group",r[22].drop)),i=[];for(let l=0;l<t.length;l+=1)i[l]=z0(D0(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,s){if(s[0]&10){t=l[1].flattenTopLevelItemGroup(l[1].byId("item_group",l[22].drop));let a;for(a=0;a<t.length;a+=1){const f=D0(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=z0(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}function z0(r){let e,n,t,i,o,l=(r[26]*100).toFixed(2)+"",s,a,f;return n=new Dt({props:{item:r[1].byId("item",r[25])}}),i=new ge({props:{type:"item",id:r[25]}}),{c(){e=m("li"),q(n.$$.fragment),t=R(),q(i.$$.fragment),o=w(" ("),s=w(l),a=w("%)")},m(c,u){h(c,e,u),U(n,e,null),_(e,t),U(i,e,null),_(e,o),_(e,s),_(e,a),f=!0},p:oe,i(c){f||(g(n.$$.fragment,c),g(i.$$.fragment,c),f=!0)},o(c){$(n.$$.fragment,c),$(i.$$.fragment,c),f=!1},d(c){c&&p(e),G(n),G(i)}}}function W0(r){let e,n,t,i;const o=[OP,IP],l=[];function s(a,f){return a[22].type==="bionic_group"?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function V0(r){let e,n,t=r[19].entries,i=[];for(let l=0;l<t.length;l+=1)i[l]=W0(M0(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c()},m(l,s){h(l,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(l,s){if(s[0]&10){t=l[19].entries;let a;for(a=0;a<t.length;a+=1){const f=M0(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=W0(f),i[a].c(),g(i[a],1),i[a].m(e,null))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){l&&p(e),ye(i,l)}}}function J0(r){let e,n=en.__(r[15].replace(/^(.)/,NP))+"",t,i,o,l,s=[r[1].byId("harvest",r[16])],a=[];for(let c=0;c<1;c+=1)a[c]=V0(B0(r,s,c));const f=c=>$(a[c],1,1,()=>{a[c]=null});return{c(){e=m("dt"),t=w(n),i=m("dd");for(let c=0;c<1;c+=1)a[c].c();o=R()},m(c,u){h(c,e,u),_(e,t),h(c,i,u);for(let d=0;d<1;d+=1)a[d]&&a[d].m(i,null);_(i,o),l=!0},p(c,u){if(u[0]&10){s=[c[1].byId("harvest",c[16])];let d;for(d=0;d<1;d+=1){const b=B0(c,s,d);a[d]?(a[d].p(b,u),g(a[d],1)):(a[d]=V0(b),a[d].c(),g(a[d],1),a[d].m(i,o))}for(fe(),d=1;d<1;d+=1)f(d);ae()}},i(c){if(!l){for(let u=0;u<1;u+=1)g(a[u]);l=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<1;u+=1)$(a[u]);l=!1},d(c){c&&p(e),c&&p(i),ye(a,c)}}}function X0(r){let e,n;return{c(){e=m("li"),n=m("em"),n.textContent=`${O.t("none")}`},m(t,i){h(t,e,i),_(e,n)},p:oe,d(t){t&&p(e)}}}function K0(r){let e,n,t;return n=new ge({props:{type:"json_flag",id:r[12]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[12]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function RP(r){let e,n,t,i,o=r[4],l=[];for(let a=0;a<o.length;a+=1)l[a]=Z0(R0(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("h2"),e.textContent=`${O.t("Construction",{_context:ar})}`,n=R();for(let a=0;a<l.length;a+=1)l[a].c();t=ue()},m(a,f){h(a,e,f),h(a,n,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,t,f),i=!0},p(a,f){if(f[0]&16){o=a[4];let c;for(c=0;c<o.length;c+=1){const u=R0(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=Z0(u),l[c].c(),g(l[c],1),l[c].m(t.parentNode,t))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a),a&&p(t)}}}function Z0(r){let e,n;return e=new Df({props:{construction:r[9],includeTitle:!0}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function AP(r){let e,n,t,i=He(r[0])+"",o,l,s,a,f,c,u=(r[0].move_cost??100)+"",d,b,k,y=(r[0].coverage??0)+"",E,C,I,A,B,L,D,Y,z,W,H,ne,M,X=Yt(r[0].description)+"",te,F,j,Z,x;n=new Dt({props:{item:r[0]}});let Q=r[0].transforms_into&&P0(r),V=r[0].boltcut&&j0(r),ie=r[0].hacksaw&&U0(r),_e=r[0].oxytorch&&G0(r),re=r[0].prying&&q0(r),ee=r[2],ce=[];for(let ve=0;ve<ee.length;ve+=1)ce[ve]=H0(L0(r,ee,ve));const Ee=ve=>$(ce[ve],1,1,()=>{ce[ve]=null});let we=r[3].length&&CP(r),De=r[0].flags??[],ze=[];for(let ve=0;ve<De.length;ve+=1)ze[ve]=K0(A0(r,De,ve));const We=ve=>$(ze[ve],1,1,()=>{ze[ve]=null});let Ve=null;De.length||(Ve=X0());let Qe=r[4].length&&RP(r);return Z=new kP({props:{item_id:r[0].id}}),{c(){e=m("h1"),q(n.$$.fragment),t=R(),o=w(i),l=R(),s=m("section"),a=m("dl"),f=m("dt"),f.textContent=`${O.t("Move Cost",{_context:ar})}`,c=m("dd"),d=w(u),b=m("dt"),b.textContent=`${O.t("Coverage",{_context:ar})}`,k=m("dd"),E=w(y),C=w("%"),Q&&Q.c(),I=ue(),V&&V.c(),A=ue(),ie&&ie.c(),B=ue(),_e&&_e.c(),L=ue(),re&&re.c(),D=ue();for(let ve=0;ve<ce.length;ve+=1)ce[ve].c();Y=ue(),we&&we.c(),z=m("dt"),z.textContent=`${O.t("Flags")}`,W=m("dd"),H=m("ul");for(let ve=0;ve<ze.length;ve+=1)ze[ve].c();Ve&&Ve.c(),ne=R(),M=m("p"),te=w(X),F=R(),Qe&&Qe.c(),j=R(),q(Z.$$.fragment),le(H,"class","comma-separated"),bt(M,"color","var(--cata-color-gray)"),bt(M,"margin-bottom","0")},m(ve,Te){h(ve,e,Te),U(n,e,null),_(e,t),_(e,o),h(ve,l,Te),h(ve,s,Te),_(s,a),_(a,f),_(a,c),_(c,d),_(a,b),_(a,k),_(k,E),_(k,C),Q&&Q.m(a,null),_(a,I),V&&V.m(a,null),_(a,A),ie&&ie.m(a,null),_(a,B),_e&&_e.m(a,null),_(a,L),re&&re.m(a,null),_(a,D);for(let Ce=0;Ce<ce.length;Ce+=1)ce[Ce]&&ce[Ce].m(a,null);_(a,Y),we&&we.m(a,null),_(a,z),_(a,W),_(W,H);for(let Ce=0;Ce<ze.length;Ce+=1)ze[Ce]&&ze[Ce].m(H,null);Ve&&Ve.m(H,null),_(s,ne),_(s,M),_(M,te),h(ve,F,Te),Qe&&Qe.m(ve,Te),h(ve,j,Te),U(Z,ve,Te),x=!0},p(ve,Te){const Ce={};if(Te[0]&1&&(Ce.item=ve[0]),n.$set(Ce),(!x||Te[0]&1)&&i!==(i=He(ve[0])+"")&&K(o,i),(!x||Te[0]&1)&&u!==(u=(ve[0].move_cost??100)+"")&&K(d,u),(!x||Te[0]&1)&&y!==(y=(ve[0].coverage??0)+"")&&K(E,y),ve[0].transforms_into?Q?(Q.p(ve,Te),Te[0]&1&&g(Q,1)):(Q=P0(ve),Q.c(),g(Q,1),Q.m(a,I)):Q&&(fe(),$(Q,1,1,()=>{Q=null}),ae()),ve[0].boltcut?V?(V.p(ve,Te),Te[0]&1&&g(V,1)):(V=j0(ve),V.c(),g(V,1),V.m(a,A)):V&&(fe(),$(V,1,1,()=>{V=null}),ae()),ve[0].hacksaw?ie?(ie.p(ve,Te),Te[0]&1&&g(ie,1)):(ie=U0(ve),ie.c(),g(ie,1),ie.m(a,B)):ie&&(fe(),$(ie,1,1,()=>{ie=null}),ae()),ve[0].oxytorch?_e?(_e.p(ve,Te),Te[0]&1&&g(_e,1)):(_e=G0(ve),_e.c(),g(_e,1),_e.m(a,L)):_e&&(fe(),$(_e,1,1,()=>{_e=null}),ae()),ve[0].prying?re?(re.p(ve,Te),Te[0]&1&&g(re,1)):(re=q0(ve),re.c(),g(re,1),re.m(a,D)):re&&(fe(),$(re,1,1,()=>{re=null}),ae()),Te[0]&4){ee=ve[2];let Be;for(Be=0;Be<ee.length;Be+=1){const et=L0(ve,ee,Be);ce[Be]?(ce[Be].p(et,Te),g(ce[Be],1)):(ce[Be]=H0(et),ce[Be].c(),g(ce[Be],1),ce[Be].m(a,Y))}for(fe(),Be=ee.length;Be<ce.length;Be+=1)Ee(Be);ae()}if(ve[3].length&&we.p(ve,Te),Te[0]&1){De=ve[0].flags??[];let Be;for(Be=0;Be<De.length;Be+=1){const et=A0(ve,De,Be);ze[Be]?(ze[Be].p(et,Te),g(ze[Be],1)):(ze[Be]=K0(et),ze[Be].c(),g(ze[Be],1),ze[Be].m(H,null))}for(fe(),Be=De.length;Be<ze.length;Be+=1)We(Be);ae(),!De.length&&Ve?Ve.p(ve,Te):De.length?Ve&&(Ve.d(1),Ve=null):(Ve=X0(),Ve.c(),Ve.m(H,null))}(!x||Te[0]&1)&&X!==(X=Yt(ve[0].description)+"")&&K(te,X),ve[4].length&&Qe.p(ve,Te);const it={};Te[0]&1&&(it.item_id=ve[0].id),Z.$set(it)},i(ve){if(!x){g(n.$$.fragment,ve),g(Q),g(V),g(ie),g(_e),g(re);for(let Te=0;Te<ee.length;Te+=1)g(ce[Te]);g(we);for(let Te=0;Te<De.length;Te+=1)g(ze[Te]);g(Qe),g(Z.$$.fragment,ve),x=!0}},o(ve){$(n.$$.fragment,ve),$(Q),$(V),$(ie),$(_e),$(re),ce=ce.filter(Boolean);for(let Te=0;Te<ce.length;Te+=1)$(ce[Te]);$(we),ze=ze.filter(Boolean);for(let Te=0;Te<ze.length;Te+=1)$(ze[Te]);$(Qe),$(Z.$$.fragment,ve),x=!1},d(ve){ve&&p(e),G(n),ve&&p(l),ve&&p(s),Q&&Q.d(),V&&V.d(),ie&&ie.d(),_e&&_e.d(),re&&re.d(),ye(ce,ve),we&&we.d(),ye(ze,ve),Ve&&Ve.d(),ve&&p(F),Qe&&Qe.d(ve),ve&&p(j),G(Z,ve)}}}const ar="Terrain / Furniture",NP=r=>r.toUpperCase();function BP(r,e,n){var d,b;const t=jt("data");let{item:i}=e;const o=(d=i.deconstruct)!=null&&d.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.deconstruct.items=="string"?[{group:i.deconstruct.items}]:i.deconstruct.items}):[],l=(b=i.bash)!=null&&b.items?t.flattenItemGroup({subtype:"collection",entries:typeof i.bash.items=="string"?[{group:i.bash.items}]:i.bash.items}):[],s=[[O.t("Deconstruct",{_context:ar}),o],[O.t("Bash",{_context:ar}),l]],a=new Map;for(const{seasons:k,id:y}of i.harvest_by_season??[])for(const E of k)a.set(E,y);const f=["winter","spring","summer","autumn"],c=[...a.entries()];c.sort((k,y)=>f.indexOf(k[0])-f.indexOf(y[0]));const u=t.byType("construction").filter(k=>k.post_terrain===i.id);return r.$$set=k=>{"item"in k&&n(0,i=k.item)},[i,t,s,c,u]}class MP extends ht{constructor(e){super(),pt(this,e,BP,AP,mt,{item:0},null,[-1,-1])}}function DP(r){let e;return{c(){e=m("p"),e.textContent=`${O.t("There are no weapons in this category.")}`,bt(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function LP(r){let e,n;return e=new Wt({props:{items:r[1],$$slots:{default:[FP,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&17&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function FP(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"item",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function PP(r){let e;return{c(){e=m("p"),e.textContent=`${O.t("There are no martial arts that use this weapon category.")}`,bt(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function jP(r){let e,n;return e=new Wt({props:{items:r[2],$$slots:{default:[UP,({item:t})=>({0:t}),({item:t})=>t?1:0]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&17&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function UP(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"martial_art",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function GP(r){let e,n=O.t("Weapon Category")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b,k,y,E,C,I,A;const B=[LP,DP],L=[];function D(H,ne){return H[1].length?0:1}u=D(r),d=L[u]=B[u](r);const Y=[jP,PP],z=[];function W(H,ne){return H[2].length?0:1}return C=W(r),I=z[C]=Y[C](r),{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("h1"),f.textContent=`${O.t("Weapons",{_context:"Martial Art"})}`,c=R(),d.c(),b=R(),k=m("section"),y=m("h1"),y.textContent=`${O.t("Martial Arts")}`,E=R(),I.c()},m(H,ne){h(H,e,ne),_(e,t),_(e,i),_(e,l),h(H,s,ne),h(H,a,ne),_(a,f),_(a,c),L[u].m(a,null),h(H,b,ne),h(H,k,ne),_(k,y),_(k,E),z[C].m(k,null),A=!0},p(H,[ne]){(!A||ne&1)&&o!==(o=He(H[0])+"")&&K(l,o),d.p(H,ne),I.p(H,ne)},i(H){A||(g(d),g(I),A=!0)},o(H){$(d),$(I),A=!1},d(H){H&&p(e),H&&p(s),H&&p(a),L[u].d(),H&&p(b),H&&p(k),z[C].d()}}}function qP(r,e,n){let{item:t}=e;const i=jt("data"),o=i.byType("item").filter(s=>s.id).filter(s=>(s.weapon_category??[]).some(a=>a===t.id));o.sort(an);const l=i.byType("martial_art").filter(s=>s.id).filter(s=>{var a;return(a=s.weapon_category)==null?void 0:a.some(f=>f===t.id)});return l.sort(an),r.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,o,l]}class YP extends ht{constructor(e){super(),pt(this,e,qP,GP,mt,{item:0})}}function Q0(r,e,n){const t=r.slice();return t[3]=e[n],t}function x0(r){let e,n;return e=new Df({props:{construction:r[3]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function HP(r){let e,n=He(r[0])+"",t,i,o,l,s=r[1],a=[];for(let c=0;c<s.length;c+=1)a[c]=x0(Q0(r,s,c));const f=c=>$(a[c],1,1,()=>{a[c]=null});return{c(){e=m("h1"),t=w(n),i=R();for(let c=0;c<a.length;c+=1)a[c].c();o=ue()},m(c,u){h(c,e,u),_(e,t),h(c,i,u);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(c,u);h(c,o,u),l=!0},p(c,[u]){if((!l||u&1)&&n!==(n=He(c[0])+"")&&K(t,n),u&2){s=c[1];let d;for(d=0;d<s.length;d+=1){const b=Q0(c,s,d);a[d]?(a[d].p(b,u),g(a[d],1)):(a[d]=x0(b),a[d].c(),g(a[d],1),a[d].m(o.parentNode,o))}for(fe(),d=s.length;d<a.length;d+=1)f(d);ae()}},i(c){if(!l){for(let u=0;u<s.length;u+=1)g(a[u]);l=!0}},o(c){a=a.filter(Boolean);for(let u=0;u<a.length;u+=1)$(a[u]);l=!1},d(c){c&&p(e),c&&p(i),ye(a,c),c&&p(o)}}}function zP(r,e,n){let{item:t}=e;const o=jt("data").byType("construction").filter(l=>l.group===t.id);return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,o]}class WP extends ht{constructor(e){super(),pt(this,e,zP,HP,mt,{item:0})}}function eb(r,e,n){const t=r.slice();return t[3]=e[n],t}function VP(r){const e=r.slice(),n=e[1].byId("event_statistic",e[3].event_statistic);return e[6]=n,e}function tb(r,e,n){const t=r.slice();return t[7]=e[n],t}function nb(r,e,n){const t=r.slice();return t[10]=e[n],t}function ib(r){let e,n=Yt(r[0].description)+"",t;return{c(){e=m("p"),t=w(n),bt(e,"color","var(--cata-color-gray)")},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=Yt(i[0].description)+"")&&K(t,n)},d(i){i&&p(e)}}}function lb(r){let e,n,t,i,o,l=[r[0].hidden_by].flat(),s=[];for(let f=0;f<l.length;f+=1)s[f]=rb(nb(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Hidden By",{_context:ks})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated and")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&1){l=[f[0].hidden_by].flat();let u;for(u=0;u<l.length;u+=1){const d=nb(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=rb(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function rb(r){let e,n,t;return n=new ge({props:{type:r[0].type,id:r[10]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.type=i[0].type),o&1&&(l.id=i[10]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function JP(r){let e,n,t,i,o,l=r[2],s=[];for(let f=0;f<l.length;f+=1)s[f]=ob(tb(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Unlocks",{_context:ks})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated and")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c&5){l=f[2];let u;for(u=0;u<l.length;u+=1){const d=tb(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=ob(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function ob(r){let e,n,t;return n=new ge({props:{type:r[0].type,id:r[7].id}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o&1&&(l.type=i[0].type),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function sb(r){let e,n,t,i,o=r[0].time_constraint.since+"",l,s,a,f=r[0].time_constraint.is+"",c,u,d=(r[0].time_constraint.target??"")+"",b,k;return{c(){e=m("dt"),e.textContent=`${O.t("Time Constraint",{_context:ks})}`,n=m("dd"),t=w("Time since "),i=m("strong"),l=w(o),s=w(` is
        `),a=m("strong"),c=w(f),u=R(),b=w(d),k=R()},m(y,E){h(y,e,E),h(y,n,E),_(n,t),_(n,i),_(i,l),_(n,s),_(n,a),_(a,c),_(a,u),_(a,b),_(n,k)},p(y,E){E&1&&o!==(o=y[0].time_constraint.since+"")&&K(l,o),E&1&&f!==(f=y[0].time_constraint.is+"")&&K(c,f),E&1&&d!==(d=(y[0].time_constraint.target??"")+"")&&K(b,d)},d(y){y&&p(e),y&&p(n)}}}function fb(r){let e,n=(r[6].description?aa(r[6].description):r[6].id)+"",t,i,o,l=r[3].is+"",s,a,f=(r[3].target??"")+"",c;return{c(){e=m("strong"),t=w(n),i=w(`
              is `),o=m("strong"),s=w(l),a=R(),c=w(f)},m(u,d){h(u,e,d),_(e,t),h(u,i,d),h(u,o,d),_(o,s),_(o,a),_(o,c)},p(u,d){d&1&&n!==(n=(u[6].description?aa(u[6].description):u[6].id)+"")&&K(t,n),d&1&&l!==(l=u[3].is+"")&&K(s,l),d&1&&f!==(f=(u[3].target??"")+"")&&K(c,f)},d(u){u&&p(e),u&&p(i),u&&p(o)}}}function XP(r){let e,n=r[3].description+"",t;return{c(){e=m("strong"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=i[3].description+"")&&K(t,n)},d(i){i&&p(e)}}}function ab(r){let e,n;function t(s,a){return s[3].description?XP:fb}function i(s,a){return a===fb?VP(s):s}let o=t(r),l=o(i(r,o));return{c(){e=m("li"),l.c(),n=R()},m(s,a){h(s,e,a),l.m(e,null),_(e,n)},p(s,a){o===(o=t(s))&&l?l.p(i(s,o),a):(l.d(1),l=o(i(s,o)),l&&(l.c(),l.m(e,n)))},d(s){s&&p(e),l.d()}}}function KP(r){let e,n=r[0].type==="achievement"?"Achievement":"Conduct",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b,k,y,E,C=r[0].description&&ib(r),I=r[0].hidden_by&&lb(r),A=r[2].length&&JP(r),B=r[0].time_constraint&&sb(r),L=r[0].requirements,D=[];for(let Y=0;Y<L.length;Y+=1)D[Y]=ab(eb(r,L,Y));return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),C&&C.c(),f=R(),c=m("dl"),I&&I.c(),u=ue(),A&&A.c(),d=ue(),B&&B.c(),b=m("dt"),b.textContent=`${O.t("Requirements",{_context:ks})}`,k=m("dd"),y=m("ul");for(let Y=0;Y<D.length;Y+=1)D[Y].c()},m(Y,z){h(Y,e,z),_(e,t),_(e,i),_(e,l),h(Y,s,z),h(Y,a,z),C&&C.m(a,null),_(a,f),_(a,c),I&&I.m(c,null),_(c,u),A&&A.m(c,null),_(c,d),B&&B.m(c,null),_(c,b),_(c,k),_(k,y);for(let W=0;W<D.length;W+=1)D[W]&&D[W].m(y,null);E=!0},p(Y,[z]){if((!E||z&1)&&n!==(n=Y[0].type==="achievement"?"Achievement":"Conduct")&&K(t,n),(!E||z&1)&&o!==(o=He(Y[0])+"")&&K(l,o),Y[0].description?C?C.p(Y,z):(C=ib(Y),C.c(),C.m(a,f)):C&&(C.d(1),C=null),Y[0].hidden_by?I?(I.p(Y,z),z&1&&g(I,1)):(I=lb(Y),I.c(),g(I,1),I.m(c,u)):I&&(fe(),$(I,1,1,()=>{I=null}),ae()),Y[2].length&&A.p(Y,z),Y[0].time_constraint?B?B.p(Y,z):(B=sb(Y),B.c(),B.m(c,b)):B&&(B.d(1),B=null),z&3){L=Y[0].requirements;let W;for(W=0;W<L.length;W+=1){const H=eb(Y,L,W);D[W]?D[W].p(H,z):(D[W]=ab(H),D[W].c(),D[W].m(y,null))}for(;W<D.length;W+=1)D[W].d(1);D.length=L.length}},i(Y){E||(g(I),g(A),E=!0)},o(Y){$(I),$(A),E=!1},d(Y){Y&&p(e),Y&&p(s),Y&&p(a),C&&C.d(),I&&I.d(),A&&A.d(),B&&B.d(),ye(D,Y)}}}const ks="Achievement";function ZP(r,e,n){let{item:t}=e;const i=jt("data"),o=i.byType("achievement").filter(l=>l.id!==t.id&&[l.hidden_by??[]].flat().includes(t.id));return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,i,o]}class cb extends ht{constructor(e){super(),pt(this,e,ZP,KP,mt,{item:0})}}function QP(r){let e,n,t=ai(r[0].type)+"",i,o,l,s;return{c(){e=m("section"),n=w("⚠️ This "),i=w(t),o=w(" is marked as "),l=m("em"),l.textContent="obsolete",s=w(`, meaning that it
  is likely not possible to obtain in this version.`),le(e,"class","obsoletion-warning svelte-tb1bo")},m(a,f){h(a,e,f),_(e,n),_(e,i),_(e,o),_(e,l),_(e,s)},p(a,[f]){f&1&&t!==(t=ai(a[0].type)+"")&&K(i,t)},i:oe,o:oe,d(a){a&&p(e)}}}function xP(r,e,n){let{item:t}=e;return r.$$set=i=>{"item"in i&&n(0,t=i.item)},[t]}class ej extends ht{constructor(e){super(),pt(this,e,xP,QP,mt,{item:0})}}function ub(r,e,n){const t=r.slice();return t[6]=e[n],t}function _b(r,e,n){const t=r.slice();return t[6]=e[n],t}function db(r,e,n){const t=r.slice();return t[11]=e[n],t}function mb(r,e,n){const t=r.slice();return t[14]=e[n],t}function pb(r,e,n){const t=r.slice();return t[14]=e[n],t}function hb(r,e,n){const t=r.slice();return t[19]=e[n],t}function gb(r,e,n){const t=r.slice();return t[22]=e[n][0],t[23]=e[n][1],t}function bb(r,e,n){const t=r.slice();return t[26]=e[n][0],t[27]=e[n][1],t}function $b(r,e,n){const t=r.slice();return t[26]=e[n][0],t[30]=e[n][1],t}function yb(r,e,n){const t=r.slice();return t[33]=e[n],t}function tj(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[2].id}}),{c(){e=m("dt"),e.textContent=`${O.t("Item")}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p:oe,i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function nj(r){let e,n,t,i,o,l=r[3],s=[];for(let f=0;f<l.length;f+=1)s[f]=kb(yb(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Included In",{_context:Rn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&8){l=f[3];let u;for(u=0;u<l.length;u+=1){const d=yb(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=kb(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function kb(r){let e,n,t;return n=new ge({props:{type:"bionic",id:r[33].id}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p:oe,i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function ij(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function lj(r){let e,n=r[0].occupied_bodyparts,t=[];for(let i=0;i<n.length;i+=1)t[i]=vb($b(r,n,i));return{c(){e=m("ul");for(let i=0;i<t.length;i+=1)t[i].c();le(e,"class","comma-separated")},m(i,o){h(i,e,o);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(i,o){if(o[0]&3){n=i[0].occupied_bodyparts;let l;for(l=0;l<n.length;l+=1){const s=$b(i,n,l);t[l]?t[l].p(s,o):(t[l]=vb(s),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=n.length}},d(i){i&&p(e),ye(t,i)}}}function vb(r){let e,n=He(r[1].byId("body_part",r[26]))+"",t,i,o=r[30]+"",l,s,a=r[30]===1?"slot":"slots",f,c;return{c(){e=m("li"),t=w(n),i=w(" ("),l=w(o),s=R(),f=w(a),c=w(")")},m(u,d){h(u,e,d),_(e,t),_(e,i),_(e,l),_(e,s),_(e,f),_(e,c)},p(u,d){d[0]&1&&n!==(n=He(u[1].byId("body_part",u[26]))+"")&&K(t,n),d[0]&1&&o!==(o=u[30]+"")&&K(l,o),d[0]&1&&a!==(a=u[30]===1?"slot":"slots")&&K(f,a)},d(u){u&&p(e)}}}function wb(r){let e,n,t,i,o=r[0].encumbrance,l=[];for(let s=0;s<o.length;s+=1)l[s]=Eb(bb(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Encumbrance",{_context:Rn})}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a[0]&3){o=s[0].encumbrance;let f;for(f=0;f<o.length;f+=1){const c=bb(s,o,f);l[f]?l[f].p(c,a):(l[f]=Eb(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function Eb(r){let e,n=He(r[1].byId("body_part",r[26]))+"",t,i,o=r[27]+"",l,s;return{c(){e=m("li"),t=w(n),i=w(" ("),l=w(o),s=w(")")},m(a,f){h(a,e,f),_(e,t),_(e,i),_(e,l),_(e,s)},p(a,f){f[0]&1&&n!==(n=He(a[1].byId("body_part",a[26]))+"")&&K(t,n),f[0]&1&&o!==(o=a[27]+"")&&K(l,o)},d(a){a&&p(e)}}}function Tb(r){let e,n,t,i,o=r[0].stat_bonus,l=[];for(let s=0;s<o.length;s+=1)l[s]=Sb(gb(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Stat Bonuses",{_context:Rn})}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a[0]&1){o=s[0].stat_bonus;let f;for(f=0;f<o.length;f+=1){const c=gb(s,o,f);l[f]?l[f].p(c,a):(l[f]=Sb(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function Sb(r){let e,n=r[23]>=0?`+${r[23]}`:`–${-r[23]}`,t,i,o=r[22]+"",l;return{c(){e=m("li"),t=w(n),i=R(),l=w(o)},m(s,a){h(s,e,a),_(e,t),_(e,i),_(e,l)},p(s,a){a[0]&1&&n!==(n=s[23]>=0?`+${s[23]}`:`–${-s[23]}`)&&K(t,n),a[0]&1&&o!==(o=s[22]+"")&&K(l,o)},d(s){s&&p(e)}}}function Cb(r){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Removable",{_context:Rn})}`,n=m("dd"),n.textContent=`${O.t("No")}`},m(t,i){h(t,e,i),h(t,n,i)},p:oe,d(t){t&&p(e),t&&p(n)}}}function Ib(r){let e,n,t=r[0].act_cost+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Activation Cost",{_context:Rn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].act_cost+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Ob(r){let e,n,t=r[0].trigger_cost+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Trigger Cost",{_context:Rn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].trigger_cost+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Rb(r){let e,n,t=r[0].react_cost+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Power Over Time",{_context:Rn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].react_cost+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Ab(r){let e,n,t=((r[0].vitamin_absorb_mod??1)*100).toFixed(0)+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Vitamin Absorption Modifier",{_context:Rn})}`,n=m("dd"),i=w(t),o=w("%")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p(l,s){s[0]&1&&t!==(t=((l[0].vitamin_absorb_mod??1)*100).toFixed(0)+"")&&K(i,t)},d(l){l&&p(e),l&&p(n)}}}function Nb(r){let e,n,t,i,o,l=r[0].fuel_options,s=[];for(let f=0;f<l.length;f+=1)s[f]=Bb(hb(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Fuel",{_context:Rn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].fuel_options;let u;for(u=0;u<l.length;u+=1){const d=hb(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Bb(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Bb(r){let e,n,t;return n=new ge({props:{type:"material",id:r[19]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[19]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Mb(r){let e,n,t=r[0].fuel_capacity+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Fuel Capacity",{_context:Rn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].fuel_capacity+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Db(r){let e,n,t=r[0].fuel_efficiency*100+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Fuel Efficiency",{_context:Rn})}`,n=m("dd"),i=w(t),o=w("%")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p(l,s){s[0]&1&&t!==(t=l[0].fuel_efficiency*100+"")&&K(i,t)},d(l){l&&p(e),l&&p(n)}}}function Lb(r){let e,n,t=r[0].passive_fuel_efficiency*100+"",i,o;return{c(){e=m("dt"),e.textContent=`${O.t("Passive Fuel Efficiency",{_context:Rn})}`,n=m("dd"),i=w(t),o=w("%")},m(l,s){h(l,e,s),h(l,n,s),_(n,i),_(n,o)},p(l,s){s[0]&1&&t!==(t=l[0].passive_fuel_efficiency*100+"")&&K(i,t)},d(l){l&&p(e),l&&p(n)}}}function Fb(r){let e,n;return{c(){e=m("dt"),e.textContent=`${O.t("Emits Heat",{_context:Rn})}`,n=m("dd"),n.textContent=`${O.t("Yes")}`},m(t,i){h(t,e,i),h(t,n,i)},p:oe,d(t){t&&p(e),t&&p(n)}}}function Pb(r){let e,n,t=r[0].power_trickle+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Power Trickle",{_context:Rn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].power_trickle+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function jb(r){let e,n,t=r[0].time+"",i,o,l=r[0].time!==1?"s":"",s;return{c(){e=m("dt"),e.textContent=`${O.t("Charge Time",{_context:Rn})}`,n=m("dd"),i=w(t),o=w(" turn"),s=w(l)},m(a,f){h(a,e,f),h(a,n,f),_(n,i),_(n,o),_(n,s)},p(a,f){f[0]&1&&t!==(t=a[0].time+"")&&K(i,t),f[0]&1&&l!==(l=a[0].time!==1?"s":"")&&K(s,l)},d(a){a&&p(e),a&&p(n)}}}function Ub(r){let e,n,t=r[0].capacity+"",i;return{c(){e=m("dt"),e.textContent=`${O.t("Capacity",{_context:Rn})}`,n=m("dd"),i=w(t)},m(o,l){h(o,e,l),h(o,n,l),_(n,i)},p(o,l){l[0]&1&&t!==(t=o[0].capacity+"")&&K(i,t)},d(o){o&&p(e),o&&p(n)}}}function Gb(r){let e,n,t,i;return t=new ge({props:{type:"item",id:r[0].fake_weapon}}),{c(){e=m("dt"),e.textContent=`${O.t("Acts As",{_context:Rn})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l[0]&1&&(s.id=o[0].fake_weapon),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function qb(r){let e,n,t,i,o,l=r[0].toggled_pseudo_items,s=[];for(let f=0;f<l.length;f+=1)s[f]=Yb(pb(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Acts As",{_context:Rn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].toggled_pseudo_items;let u;for(u=0;u<l.length;u+=1){const d=pb(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Yb(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Yb(r){let e,n,t;return n=new ge({props:{type:"item",id:r[14]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[14]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Hb(r){let e,n,t,i,o,l=r[0].passive_pseudo_items,s=[];for(let f=0;f<l.length;f+=1)s[f]=zb(mb(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Acts As",{_context:Rn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].passive_pseudo_items;let u;for(u=0;u<l.length;u+=1){const d=mb(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=zb(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function zb(r){let e,n,t;return n=new ge({props:{type:"item",id:r[14]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[14]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Wb(r){let e,n,t,i,o,l=r[0].included_bionics,s=[];for(let f=0;f<l.length;f+=1)s[f]=Vb(db(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Includes",{_context:Rn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].included_bionics;let u;for(u=0;u<l.length;u+=1){const d=db(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Vb(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Vb(r){let e,n,t;return n=new ge({props:{type:"bionic",id:r[11]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[11]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function rj(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("none")}`},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function oj(r){let e,n,t=r[0].flags,i=[];for(let l=0;l<t.length;l+=1)i[l]=Jb(_b(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c();le(e,"class","comma-separated")},m(l,s){h(l,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(l,s){if(s[0]&1){t=l[0].flags;let a;for(a=0;a<t.length;a+=1){const f=_b(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=Jb(f),i[a].c(),g(i[a],1),i[a].m(e,null))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){l&&p(e),ye(i,l)}}}function Jb(r){let e,n,t;return n=new ge({props:{type:"json_flag",id:r[6]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[6]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Xb(r){let e,n,t,i,o,l=r[0].active_flags,s=[];for(let f=0;f<l.length;f+=1)s[f]=Kb(ub(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Flags When Active",{_context:Rn})}`,n=m("dd"),t=m("ul");for(let f=0;f<s.length;f+=1)s[f].c();i=R(),le(t,"class","comma-separated")},m(f,c){h(f,e,c),h(f,n,c),_(n,t);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(t,null);_(n,i),o=!0},p(f,c){if(c[0]&1){l=f[0].active_flags;let u;for(u=0;u<l.length;u+=1){const d=ub(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=Kb(d),s[u].c(),g(s[u],1),s[u].m(t,null))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(n),ye(s,f)}}}function Kb(r){let e,n,t;return n=new ge({props:{type:"json_flag",id:r[6]}}),{c(){e=m("li"),q(n.$$.fragment)},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[0]&1&&(l.id=i[6]),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function Zb(r){let e,n,t,i,o;return t=new fl({props:{mutations:r[0].mutation_conflicts.flatMap(r[4])}}),{c(){e=m("dt"),e.textContent=`${O.t("Conflicts With Mutations",{_context:Rn})}`,n=m("dd"),q(t.$$.fragment),i=R()},m(l,s){h(l,e,s),h(l,n,s),U(t,n,null),_(n,i),o=!0},p(l,s){const a={};s[0]&1&&(a.mutations=l[0].mutation_conflicts.flatMap(l[4])),t.$set(a)},i(l){o||(g(t.$$.fragment,l),o=!0)},o(l){$(t.$$.fragment,l),o=!1},d(l){l&&p(e),l&&p(n),G(t)}}}function Qb(r){let e,n,t,i;return t=new fl({props:{mutations:r[0].canceled_mutations.map(r[5])}}),{c(){e=m("dt"),e.textContent=`${O.t("Removes Mutations",{_context:Rn})}`,n=m("dd"),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,n,null),i=!0},p(o,l){const s={};l[0]&1&&(s.mutations=o[0].canceled_mutations.map(o[5])),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t)}}}function sj(r){var ot,rt,Bt,Ot;let e,n=O.t("Bionic")+"",t,i,o=He(r[0])+"",l,s,a,f,c,u,d,b,k,y,E,C,I,A,B,L,D,Y,z,W,H,ne,M,X,te,F,j,Z,x,Q,V=(r[0].dupes_allowed?O.t("Yes"):O.t("No"))+"",ie,_e,re,ee,ce,Ee,we,De,ze,We,Ve=Yt(r[0].description)+"",Qe,ve,Te=r[2]&&tj(r),Ce=r[3].length&&nj(r);function it(Pe,Je){return Pe[0].occupied_bodyparts?lj:ij}let Be=it(r),et=Be(r),xe=r[0].encumbrance&&wb(r),At=r[0].stat_bonus&&Tb(r),wt=r[0].cant_remove_reason&&Cb(),st=r[0].act_cost&&Ib(r),Ut=r[0].trigger_cost&&Ob(r),$t=r[0].react_cost&&Rb(r),_t=(r[0].vitamin_absorb_mod??1)!==1&&Ab(r),Ue=((ot=r[0].fuel_options)==null?void 0:ot.length)&&Nb(r),ke=r[0].fuel_capacity&&Mb(r),Ke=r[0].fuel_efficiency&&Db(r),Lt=r[0].passive_fuel_efficiency&&Lb(r),Rt=r[0].exothermic_power_gen&&Fb(),Ct=r[0].power_trickle&&Pb(r),pe=r[0].time&&jb(r),$e=r[0].capacity&&Ub(r),Ae=r[0].fake_weapon&&Gb(r),de=((rt=r[0].toggled_pseudo_items)==null?void 0:rt.length)&&qb(r),Ge=((Bt=r[0].passive_pseudo_items)==null?void 0:Bt.length)&&Hb(r),Oe=((Ot=r[0].included_bionics)==null?void 0:Ot.length)&&Wb(r);const dt=[oj,rj],Ie=[];function at(Pe,Je){var ft;return(ft=Pe[0].flags)!=null&&ft.length?0:1}ee=at(r),ce=Ie[ee]=dt[ee](r);let Ze=r[0].active_flags&&Xb(r),Me=r[0].mutation_conflicts&&Zb(r),je=r[0].canceled_mutations&&Qb(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("h1"),f.textContent=`${O.t("General",{_context:Rn,_comment:"Section heading"})}`,c=R(),u=m("dl"),Te&&Te.c(),d=ue(),Ce&&Ce.c(),b=m("dt"),b.textContent=`${O.t("Occupied Body Parts",{_context:Rn})}`,k=m("dd"),et.c(),y=R(),xe&&xe.c(),E=ue(),At&&At.c(),C=ue(),wt&&wt.c(),I=ue(),st&&st.c(),A=ue(),Ut&&Ut.c(),B=ue(),$t&&$t.c(),L=ue(),_t&&_t.c(),D=ue(),Ue&&Ue.c(),Y=ue(),ke&&ke.c(),z=ue(),Ke&&Ke.c(),W=ue(),Lt&&Lt.c(),H=ue(),Rt&&Rt.c(),ne=ue(),Ct&&Ct.c(),M=ue(),pe&&pe.c(),X=ue(),$e&&$e.c(),te=ue(),Ae&&Ae.c(),F=ue(),de&&de.c(),j=ue(),Ge&&Ge.c(),Z=ue(),Oe&&Oe.c(),x=m("dt"),x.textContent=`${O.t("Duplicates Allowed",{_context:Rn})}`,Q=m("dd"),ie=w(V),_e=m("dt"),_e.textContent=`${O.t("Flags")}`,re=m("dd"),ce.c(),Ee=R(),Ze&&Ze.c(),we=ue(),Me&&Me.c(),De=ue(),je&&je.c(),ze=R(),We=m("p"),Qe=w(Ve),bt(We,"color","var(--cata-color-gray)")},m(Pe,Je){h(Pe,e,Je),_(e,t),_(e,i),_(e,l),h(Pe,s,Je),h(Pe,a,Je),_(a,f),_(a,c),_(a,u),Te&&Te.m(u,null),_(u,d),Ce&&Ce.m(u,null),_(u,b),_(u,k),et.m(k,null),_(k,y),xe&&xe.m(u,null),_(u,E),At&&At.m(u,null),_(u,C),wt&&wt.m(u,null),_(u,I),st&&st.m(u,null),_(u,A),Ut&&Ut.m(u,null),_(u,B),$t&&$t.m(u,null),_(u,L),_t&&_t.m(u,null),_(u,D),Ue&&Ue.m(u,null),_(u,Y),ke&&ke.m(u,null),_(u,z),Ke&&Ke.m(u,null),_(u,W),Lt&&Lt.m(u,null),_(u,H),Rt&&Rt.m(u,null),_(u,ne),Ct&&Ct.m(u,null),_(u,M),pe&&pe.m(u,null),_(u,X),$e&&$e.m(u,null),_(u,te),Ae&&Ae.m(u,null),_(u,F),de&&de.m(u,null),_(u,j),Ge&&Ge.m(u,null),_(u,Z),Oe&&Oe.m(u,null),_(u,x),_(u,Q),_(Q,ie),_(u,_e),_(u,re),Ie[ee].m(re,null),_(re,Ee),Ze&&Ze.m(u,null),_(u,we),Me&&Me.m(u,null),_(u,De),je&&je.m(u,null),_(a,ze),_(a,We),_(We,Qe),ve=!0},p(Pe,Je){var Se,ct,tn,Mt;(!ve||Je[0]&1)&&o!==(o=He(Pe[0])+"")&&K(l,o),Pe[2]&&Te.p(Pe,Je),Pe[3].length&&Ce.p(Pe,Je),Be===(Be=it(Pe))&&et?et.p(Pe,Je):(et.d(1),et=Be(Pe),et&&(et.c(),et.m(k,y))),Pe[0].encumbrance?xe?xe.p(Pe,Je):(xe=wb(Pe),xe.c(),xe.m(u,E)):xe&&(xe.d(1),xe=null),Pe[0].stat_bonus?At?At.p(Pe,Je):(At=Tb(Pe),At.c(),At.m(u,C)):At&&(At.d(1),At=null),Pe[0].cant_remove_reason?wt?wt.p(Pe,Je):(wt=Cb(),wt.c(),wt.m(u,I)):wt&&(wt.d(1),wt=null),Pe[0].act_cost?st?st.p(Pe,Je):(st=Ib(Pe),st.c(),st.m(u,A)):st&&(st.d(1),st=null),Pe[0].trigger_cost?Ut?Ut.p(Pe,Je):(Ut=Ob(Pe),Ut.c(),Ut.m(u,B)):Ut&&(Ut.d(1),Ut=null),Pe[0].react_cost?$t?$t.p(Pe,Je):($t=Rb(Pe),$t.c(),$t.m(u,L)):$t&&($t.d(1),$t=null),(Pe[0].vitamin_absorb_mod??1)!==1?_t?_t.p(Pe,Je):(_t=Ab(Pe),_t.c(),_t.m(u,D)):_t&&(_t.d(1),_t=null),(Se=Pe[0].fuel_options)!=null&&Se.length?Ue?(Ue.p(Pe,Je),Je[0]&1&&g(Ue,1)):(Ue=Nb(Pe),Ue.c(),g(Ue,1),Ue.m(u,Y)):Ue&&(fe(),$(Ue,1,1,()=>{Ue=null}),ae()),Pe[0].fuel_capacity?ke?ke.p(Pe,Je):(ke=Mb(Pe),ke.c(),ke.m(u,z)):ke&&(ke.d(1),ke=null),Pe[0].fuel_efficiency?Ke?Ke.p(Pe,Je):(Ke=Db(Pe),Ke.c(),Ke.m(u,W)):Ke&&(Ke.d(1),Ke=null),Pe[0].passive_fuel_efficiency?Lt?Lt.p(Pe,Je):(Lt=Lb(Pe),Lt.c(),Lt.m(u,H)):Lt&&(Lt.d(1),Lt=null),Pe[0].exothermic_power_gen?Rt?Rt.p(Pe,Je):(Rt=Fb(),Rt.c(),Rt.m(u,ne)):Rt&&(Rt.d(1),Rt=null),Pe[0].power_trickle?Ct?Ct.p(Pe,Je):(Ct=Pb(Pe),Ct.c(),Ct.m(u,M)):Ct&&(Ct.d(1),Ct=null),Pe[0].time?pe?pe.p(Pe,Je):(pe=jb(Pe),pe.c(),pe.m(u,X)):pe&&(pe.d(1),pe=null),Pe[0].capacity?$e?$e.p(Pe,Je):($e=Ub(Pe),$e.c(),$e.m(u,te)):$e&&($e.d(1),$e=null),Pe[0].fake_weapon?Ae?(Ae.p(Pe,Je),Je[0]&1&&g(Ae,1)):(Ae=Gb(Pe),Ae.c(),g(Ae,1),Ae.m(u,F)):Ae&&(fe(),$(Ae,1,1,()=>{Ae=null}),ae()),(ct=Pe[0].toggled_pseudo_items)!=null&&ct.length?de?(de.p(Pe,Je),Je[0]&1&&g(de,1)):(de=qb(Pe),de.c(),g(de,1),de.m(u,j)):de&&(fe(),$(de,1,1,()=>{de=null}),ae()),(tn=Pe[0].passive_pseudo_items)!=null&&tn.length?Ge?(Ge.p(Pe,Je),Je[0]&1&&g(Ge,1)):(Ge=Hb(Pe),Ge.c(),g(Ge,1),Ge.m(u,Z)):Ge&&(fe(),$(Ge,1,1,()=>{Ge=null}),ae()),(Mt=Pe[0].included_bionics)!=null&&Mt.length?Oe?(Oe.p(Pe,Je),Je[0]&1&&g(Oe,1)):(Oe=Wb(Pe),Oe.c(),g(Oe,1),Oe.m(u,x)):Oe&&(fe(),$(Oe,1,1,()=>{Oe=null}),ae()),(!ve||Je[0]&1)&&V!==(V=(Pe[0].dupes_allowed?O.t("Yes"):O.t("No"))+"")&&K(ie,V);let ft=ee;ee=at(Pe),ee===ft?Ie[ee].p(Pe,Je):(fe(),$(Ie[ft],1,1,()=>{Ie[ft]=null}),ae(),ce=Ie[ee],ce?ce.p(Pe,Je):(ce=Ie[ee]=dt[ee](Pe),ce.c()),g(ce,1),ce.m(re,Ee)),Pe[0].active_flags?Ze?(Ze.p(Pe,Je),Je[0]&1&&g(Ze,1)):(Ze=Xb(Pe),Ze.c(),g(Ze,1),Ze.m(u,we)):Ze&&(fe(),$(Ze,1,1,()=>{Ze=null}),ae()),Pe[0].mutation_conflicts?Me?(Me.p(Pe,Je),Je[0]&1&&g(Me,1)):(Me=Zb(Pe),Me.c(),g(Me,1),Me.m(u,De)):Me&&(fe(),$(Me,1,1,()=>{Me=null}),ae()),Pe[0].canceled_mutations?je?(je.p(Pe,Je),Je[0]&1&&g(je,1)):(je=Qb(Pe),je.c(),g(je,1),je.m(u,null)):je&&(fe(),$(je,1,1,()=>{je=null}),ae()),(!ve||Je[0]&1)&&Ve!==(Ve=Yt(Pe[0].description)+"")&&K(Qe,Ve)},i(Pe){ve||(g(Te),g(Ce),g(Ue),g(Ae),g(de),g(Ge),g(Oe),g(ce),g(Ze),g(Me),g(je),ve=!0)},o(Pe){$(Te),$(Ce),$(Ue),$(Ae),$(de),$(Ge),$(Oe),$(ce),$(Ze),$(Me),$(je),ve=!1},d(Pe){Pe&&p(e),Pe&&p(s),Pe&&p(a),Te&&Te.d(),Ce&&Ce.d(),et.d(),xe&&xe.d(),At&&At.d(),wt&&wt.d(),st&&st.d(),Ut&&Ut.d(),$t&&$t.d(),_t&&_t.d(),Ue&&Ue.d(),ke&&ke.d(),Ke&&Ke.d(),Lt&&Lt.d(),Rt&&Rt.d(),Ct&&Ct.d(),pe&&pe.d(),$e&&$e.d(),Ae&&Ae.d(),de&&de.d(),Ge&&Ge.d(),Oe&&Oe.d(),Ie[ee].d(),Ze&&Ze.d(),Me&&Me.d(),je&&je.d()}}}const Rn="Bionic";function fj(r,e,n){let{item:t}=e;const i=jt("data"),o=i.itemForBionic(t),l=i.byType("bionic").filter(f=>{var c;return f.id&&((c=f.included_bionics)==null?void 0:c.includes(t.id))}),s=f=>{const c=i.byIdMaybe("mutation",f);return c?[c]:[]},a=f=>i.byId("mutation",f);return r.$$set=f=>{"item"in f&&n(0,t=f.item)},[t,i,o,l,s,a]}class aj extends ht{constructor(e){super(),pt(this,e,fj,sj,mt,{item:0},null,[-1,-1])}}function cj(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[uj,({item:l})=>({3:l}),({item:l})=>l?8:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Items Containing",{_context:Ek})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&24&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function uj(r){let e,n,t,i;return e=new Dt({props:{item:r[3]}}),t=new ge({props:{id:r[3].id,type:"item"}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&8&&(s.item=o[3]),e.$set(s);const a={};l&8&&(a.id=o[3].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function _j(r){let e,n=O.t("Addiction Type")+"",t,i,o=Yt(r[0].type_name)+"",l,s,a,f,c,u,d=Yt(r[0].name)+"",b,k,y,E=Yt(r[0].description)+"",C,I,A,B,L=r[1].length&&cj(r);return{c(){e=m("h1"),t=w(n),i=w(": "),l=w(o),s=R(),a=m("section"),f=m("dl"),c=m("dt"),c.textContent=`${O.t("Effect Name",{_context:Ek})}`,u=m("dd"),b=w(d),k=R(),y=m("p"),C=w(E),I=R(),L&&L.c(),A=ue(),bt(y,"color","var(--cata-color-gray)")},m(D,Y){h(D,e,Y),_(e,t),_(e,i),_(e,l),h(D,s,Y),h(D,a,Y),_(a,f),_(f,c),_(f,u),_(u,b),_(a,k),_(a,y),_(y,C),h(D,I,Y),L&&L.m(D,Y),h(D,A,Y),B=!0},p(D,[Y]){(!B||Y&1)&&o!==(o=Yt(D[0].type_name)+"")&&K(l,o),(!B||Y&1)&&d!==(d=Yt(D[0].name)+"")&&K(b,d),(!B||Y&1)&&E!==(E=Yt(D[0].description)+"")&&K(C,E),D[1].length&&L.p(D,Y)},i(D){B||(g(L),B=!0)},o(D){$(L),B=!1},d(D){D&&p(e),D&&p(s),D&&p(a),D&&p(I),L&&L.d(D),D&&p(A)}}}const Ek="Addiction Type";function dj(r,e,n){let{item:t}=e;const o=jt("data").byType("item").filter(l=>l.id&&"addiction_type"in l&&ef(l).some(s=>s.addiction===t.id)).sort(an);return r.$$set=l=>{"item"in l&&n(0,t=l.item)},[t,o]}class mj extends ht{constructor(e){super(),pt(this,e,dj,_j,mt,{item:0})}}function xb(r,e,n){const t=r.slice();return t[12]=e[n],t}function e$(r,e,n){const t=r.slice();return t[15]=e[n],t}function t$(r,e,n){const t=r.slice();return t[18]=e[n],t}function n$(r,e,n){const t=r.slice();return t[21]=e[n],t[22]=e,t[23]=n,t}function pj(r){let e,n,t,i;const o=[bj,gj],l=[];function s(a,f){return a[3].length>1?0:1}return n=s(r),t=l[n]=o[n](r),{c(){e=m("div"),t.c(),le(e,"class","om-appearance svelte-1ay2hb8")},m(a,f){h(a,e,f),l[n].m(e,null),i=!0},p(a,f){t.p(a,f)},i(a){i||(g(t),i=!0)},o(a){$(t),i=!1},d(a){a&&p(e),l[n].d()}}}function hj(r){let e;return{c(){e=m("p"),e.textContent=`${O.t("This location's appearance is dynamically generated.",{_context:Qf})}`},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function gj(r){let e,n,t,i,o,l;return o=new uo({props:{overmapSpecial:r[0],showZ:r[3][0]}}),{c(){e=m("div"),n=m("div"),n.textContent=`Z=${r[3][0]}`,t=R(),i=m("div"),q(o.$$.fragment),le(n,"class","label svelte-1ay2hb8"),le(i,"class","layer-flat"),le(e,"class",ay(`level ${r[3][0]===0?"ground-level":""}`)+" svelte-1ay2hb8")},m(s,a){h(s,e,a),_(e,n),_(e,t),_(e,i),U(o,i,null),l=!0},p(s,a){const f={};a&1&&(f.overmapSpecial=s[0]),o.$set(f)},i(s){l||(g(o.$$.fragment,s),l=!0)},o(s){$(o.$$.fragment,s),l=!1},d(s){s&&p(e),G(o)}}}function bj(r){let e,n,t=[...r[3]].reverse(),i=[];for(let l=0;l<t.length;l+=1)i[l]=i$(n$(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s),n=!0},p(l,s){if(s&11){t=[...l[3]].reverse();let a;for(a=0;a<t.length;a+=1){const f=n$(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=i$(f),i[a].c(),g(i[a],1),i[a].m(e.parentNode,e))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){ye(i,l),l&&p(e)}}}function i$(r){let e,n,t,i,o=r[21]+"",l,s,a,f,c,u=r[23],d,b;c=new uo({props:{overmapSpecial:r[0],showZ:r[21]}});const k=()=>r[5](f,u),y=()=>r[5](null,u);return{c(){e=m("div"),n=m("div"),t=m("span"),i=w("Z="),l=w(o),s=R(),a=m("div"),f=m("div"),q(c.$$.fragment),d=R(),le(t,"style",r[21]===0?"":"visibility: hidden"),le(n,"class","label svelte-1ay2hb8"),le(f,"class","layer svelte-1ay2hb8"),le(a,"class","layer-container svelte-1ay2hb8"),le(e,"class",ay(`level ${r[21]===0?"ground-level":""}`)+" svelte-1ay2hb8")},m(E,C){h(E,e,C),_(e,n),_(n,t),_(t,i),_(n,l),_(e,s),_(e,a),_(a,f),U(c,f,null),k(),_(e,d),b=!0},p(E,C){r=E;const I={};C&1&&(I.overmapSpecial=r[0]),c.$set(I),u!==r[23]&&(y(),u=r[23],k())},i(E){b||(g(c.$$.fragment,E),b=!0)},o(E){$(c.$$.fragment,E),b=!1},d(E){E&&p(e),G(c),y()}}}function l$(r){let e,n,t,i,o=r[0].locations??[],l=[];for(let s=0;s<o.length;s+=1)l[s]=r$(t$(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Locations",{_context:Qf})}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a&1){o=s[0].locations??[];let f;for(f=0;f<o.length;f+=1){const c=t$(s,o,f);l[f]?l[f].p(c,a):(l[f]=r$(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function r$(r){let e,n=r[18]+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=i[18]+"")&&K(t,n)},d(i){i&&p(e)}}}function o$(r){let e,n,t,i,o=r[0].flags,l=[];for(let s=0;s<o.length;s+=1)l[s]=s$(e$(r,o,s));return{c(){e=m("dt"),e.textContent=`${O.t("Flags")}`,n=m("dd"),t=m("ul");for(let s=0;s<l.length;s+=1)l[s].c();i=R(),le(t,"class","comma-separated")},m(s,a){h(s,e,a),h(s,n,a),_(n,t);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(t,null);_(n,i)},p(s,a){if(a&1){o=s[0].flags;let f;for(f=0;f<o.length;f+=1){const c=e$(s,o,f);l[f]?l[f].p(c,a):(l[f]=s$(c),l[f].c(),l[f].m(t,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),s&&p(n),ye(l,s)}}}function s$(r){let e,n=r[15]+"",t;return{c(){e=m("li"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p(i,o){o&1&&n!==(n=i[15]+"")&&K(t,n)},d(i){i&&p(e)}}}function $j(r){let e,n,t,i,o=r[4],l=[];for(let a=0;a<o.length;a+=1)l[a]=f$(xb(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){e=m("dt"),e.textContent=`${O.t("Lookalikes",{_context:Qf})}`,n=m("dd"),t=m("ul");for(let a=0;a<l.length;a+=1)l[a].c();le(t,"class","comma-separated")},m(a,f){h(a,e,f),h(a,n,f),_(n,t);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(t,null);i=!0},p(a,f){if(f&17){o=a[4];let c;for(c=0;c<o.length;c+=1){const u=xb(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=f$(u),l[c].c(),g(l[c],1),l[c].m(t,null))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!i){for(let f=0;f<o.length;f+=1)g(l[f]);i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);i=!1},d(a){a&&p(e),a&&p(n),ye(l,a)}}}function yj(r){let e,n;return e=new ge({props:{type:"overmap_special",id:r[12]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function kj(r){let e=r[12]+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p:oe,i:oe,o:oe,d(t){t&&p(n)}}}function f$(r){let e,n,t,i;const o=[kj,yj],l=[];function s(a,f){return a[12]===a[0].id?0:1}return n=s(r),t=l[n]=o[n](r),{c(){e=m("li"),t.c()},m(a,f){h(a,e,f),l[n].m(e,null),i=!0},p(a,f){let c=n;n=s(a),n===c?l[n].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),t=l[n],t?t.p(a,f):(t=l[n]=o[n](a),t.c()),g(t,1),t.m(e,null))},i(a){i||(g(t),i=!0)},o(a){$(t),i=!1},d(a){a&&p(e),l[n].d()}}}function vj(r){var W,H;let e,n=He(r[0])+"",t,i,o,l,s,a,f,c,u,d,b,k,y,E,C,I;const A=[hj,pj],B=[];function L(ne,M){var X;return ne[0].subtype==="mutable"?0:(X=ne[0].overmaps)!=null&&X.length?1:-1}~(l=L(r))&&(s=B[l]=A[l](r));let D=((W=r[0].locations)==null?void 0:W.length)&&l$(r),Y=((H=r[0].flags)==null?void 0:H.length)&&o$(r),z=r[4].length>1&&$j(r);return b=new Er({props:{loot:Zl(r[2],r[0],r[6])}}),y=new Er({props:{type:"terrain",loot:Zl(r[2],r[0],r[7])}}),C=new Er({props:{type:"furniture",loot:Zl(r[2],r[0],r[8])}}),{c(){e=m("h1"),t=w(n),i=R(),o=m("section"),s&&s.c(),a=R(),f=m("dl"),D&&D.c(),c=ue(),Y&&Y.c(),u=ue(),z&&z.c(),d=R(),q(b.$$.fragment),k=R(),q(y.$$.fragment),E=R(),q(C.$$.fragment)},m(ne,M){h(ne,e,M),_(e,t),h(ne,i,M),h(ne,o,M),~l&&B[l].m(o,null),_(o,a),_(o,f),D&&D.m(f,null),_(f,c),Y&&Y.m(f,null),_(f,u),z&&z.m(f,null),h(ne,d,M),U(b,ne,M),h(ne,k,M),U(y,ne,M),h(ne,E,M),U(C,ne,M),I=!0},p(ne,[M]){var Z,x;(!I||M&1)&&n!==(n=He(ne[0])+"")&&K(t,n);let X=l;l=L(ne),l===X?~l&&B[l].p(ne,M):(s&&(fe(),$(B[X],1,1,()=>{B[X]=null}),ae()),~l?(s=B[l],s?s.p(ne,M):(s=B[l]=A[l](ne),s.c()),g(s,1),s.m(o,a)):s=null),(Z=ne[0].locations)!=null&&Z.length?D?D.p(ne,M):(D=l$(ne),D.c(),D.m(f,c)):D&&(D.d(1),D=null),(x=ne[0].flags)!=null&&x.length?Y?Y.p(ne,M):(Y=o$(ne),Y.c(),Y.m(f,u)):Y&&(Y.d(1),Y=null),ne[4].length>1&&z.p(ne,M);const te={};M&1&&(te.loot=Zl(ne[2],ne[0],ne[6])),b.$set(te);const F={};M&1&&(F.loot=Zl(ne[2],ne[0],ne[7])),y.$set(F);const j={};M&1&&(j.loot=Zl(ne[2],ne[0],ne[8])),C.$set(j)},i(ne){I||(g(s),g(z),g(b.$$.fragment,ne),g(y.$$.fragment,ne),g(C.$$.fragment,ne),I=!0)},o(ne){$(s),$(z),$(b.$$.fragment,ne),$(y.$$.fragment,ne),$(C.$$.fragment,ne),I=!1},d(ne){ne&&p(e),ne&&p(i),ne&&p(o),~l&&B[l].d(),D&&D.d(),Y&&Y.d(),z&&z.d(),ne&&p(d),G(b,ne),ne&&p(k),G(y,ne),ne&&p(E),G(C,ne)}}}const Qf="Overmap Special";function wj(r,e,n){var y;const t=jt("data");let{item:i}=e;const o=i.subtype==="mutable"?[0]:((y=i.overmaps)==null?void 0:y.map(E=>E.point[2]))??[0],l=Math.min(...o),s=Math.max(...o),a=Array.from({length:s-l+1},(E,C)=>C+l),f=(Ey(t).get(ds(t,i))??[]).sort((E,C)=>E.localeCompare(C)),c=[];wC(()=>{c.forEach(E=>{function C(){const{x:I,y:A,width:B,height:L}=E.getBoundingClientRect();E.parentElement.style.width=`${B}px`,E.parentElement.style.height=`${L}px`;const D=E.parentElement.getBoundingClientRect();E.parentElement.style.position="relative",E.parentElement.style.left=`${D.x-I}px`,E.parentElement.style.top=`${D.y-A}px`}new ResizeObserver(C).observe(E),C()})});function u(E,C){Ks[E?"unshift":"push"](()=>{c[C]=E,n(1,c)})}const d=E=>Nf(t,E),b=E=>Oy(t,E),k=E=>Iy(t,E);return r.$$set=E=>{"item"in E&&n(0,i=E.item)},[i,c,t,a,f,u,d,b,k]}class a$ extends ht{constructor(e){super(),pt(this,e,wj,vj,mt,{item:0})}}function Ej(r){let e,n,t,i,o;return i=new Wt({props:{items:r[1],$$slots:{default:[Tj,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Provided By",{_context:"Use action"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&17&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function Tj(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:"item",id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Sj(r){let e,n,t,i,o;return i=new Wt({props:{items:r[2],$$slots:{default:[Cj,({item:l})=>({0:l}),({item:l})=>l?1:0]},$$scope:{ctx:r}}}),{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Provided By Quality",{_context:"Use action"})}`,t=R(),q(i.$$.fragment)},m(l,s){h(l,e,s),_(e,n),_(e,t),U(i,e,null),o=!0},p(l,s){const a={};s&17&&(a.$$scope={dirty:s,ctx:l}),i.$set(a)},i(l){o||(g(i.$$.fragment,l),o=!0)},o(l){$(i.$$.fragment,l),o=!1},d(l){l&&p(e),G(i)}}}function Cj(r){let e,n,t,i;return e=new Dt({props:{item:r[0]}}),t=new ge({props:{type:r[0].type,id:r[0].id}}),{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment)},m(o,l){U(e,o,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&1&&(s.item=o[0]),e.$set(s);const a={};l&1&&(a.type=o[0].type),l&1&&(a.id=o[0].id),t.$set(a)},i(o){i||(g(e.$$.fragment,o),g(t.$$.fragment,o),i=!0)},o(o){$(e.$$.fragment,o),$(t.$$.fragment,o),i=!1},d(o){G(e,o),o&&p(n),G(t,o)}}}function Ij(r){let e,n=He(r[0])+"",t,i,o,l,s,a=r[1].length&&Ej(r),f=r[2].length&&Sj(r);return{c(){e=m("h1"),t=w(n),i=R(),a&&a.c(),o=R(),f&&f.c(),l=ue()},m(c,u){h(c,e,u),_(e,t),h(c,i,u),a&&a.m(c,u),h(c,o,u),f&&f.m(c,u),h(c,l,u),s=!0},p(c,[u]){(!s||u&1)&&n!==(n=He(c[0])+"")&&K(t,n),c[1].length&&a.p(c,u),c[2].length&&f.p(c,u)},i(c){s||(g(a),g(f),s=!0)},o(c){$(a),$(f),s=!1},d(c){c&&p(e),c&&p(i),a&&a.d(c),c&&p(o),f&&f.d(c),c&&p(l)}}}function Oj(r,e,n){let{item:t}=e;const i=jt("data"),o=i.byType("item").filter(s=>s.id&&Nr(s.use_action).some(a=>a.type==="__item_action__"?a.id===t.id:a.type==="repair_item"&&a.item_action_type===t.id||a.type===t.id));o.sort(an);const l=i.byType("tool_quality").filter(s=>{var a;return s.id&&((a=s.usages)==null?void 0:a.some(f=>f[1].includes(t.id)))});return r.$$set=s=>{"item"in s&&n(0,t=s.item)},[t,o,l]}class Rj extends ht{constructor(e){super(),pt(this,e,Oj,Ij,mt,{item:0})}}function Aj(r){let e,n,t,i,o,l,s,a;const f=[Dj,Mj,Bj],c=[];function u(d,b){return d[2]?0:typeof globalThis<"u"&&globalThis.process?1:2}return e=u(r),n=c[e]=f[e](r),s=new us({props:{obj:r[4],buildNumber:r[1].build_number}}),{c(){n.c(),t=R(),i=m("details"),o=m("summary"),o.textContent=`${O.t("Raw JSON")}`,l=R(),q(s.$$.fragment)},m(d,b){c[e].m(d,b),h(d,t,b),h(d,i,b),_(i,o),_(i,l),U(s,i,null),a=!0},p(d,b){let k=e;e=u(d),e===k?c[e].p(d,b):(fe(),$(c[k],1,1,()=>{c[k]=null}),ae(),n=c[e],n?n.p(d,b):(n=c[e]=f[e](d),n.c()),g(n,1),n.m(t.parentNode,t));const y={};b&2&&(y.buildNumber=d[1].build_number),s.$set(y)},i(d){a||(g(n),g(s.$$.fragment,d),a=!0)},o(d){$(n),$(s.$$.fragment,d),a=!1},d(d){c[e].d(d),d&&p(t),d&&p(i),G(s)}}}function Nj(r){let e=O.t("Unknown object: {id}",{id:`${r[0].type}/${r[0].id}`,_comment:"Error message when an object is not found in the data"})+"",n;return{c(){n=w(e)},m(t,i){h(t,n,i)},p(t,i){i&1&&e!==(e=O.t("Unknown object: {id}",{id:`${t[0].type}/${t[0].id}`,_comment:"Error message when an object is not found in the data"})+"")&&K(n,e)},i:oe,o:oe,d(t){t&&p(n)}}}function Bj(r){let e,n;return e=new eL({props:{onError:r[3],$$slots:{default:[Fj]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&128&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Mj(r){let e,n,t;var i=r[5];function o(l){return{props:{item:l[4]}}}return i&&(e=Po(i,o(r))),{c(){e&&q(e.$$.fragment),n=ue()},m(l,s){e&&U(e,l,s),h(l,n,s),t=!0},p(l,s){if(i!==(i=l[5])){if(e){fe();const a=e;$(a.$$.fragment,1,0,()=>{G(a,1)}),ae()}i?(e=Po(i,o(l)),q(e.$$.fragment),g(e.$$.fragment,1),U(e,n.parentNode,n)):e=null}},i(l){t||(e&&g(e.$$.fragment,l),t=!0)},o(l){e&&$(e.$$.fragment,l),t=!1},d(l){l&&p(n),e&&G(e,l)}}}function Dj(r){let e,n,t,i,o,l,s,a,f=r[2].message+"",c,u,d,b=r[2].stack+"",k;return{c(){e=m("section"),n=m("h1"),n.textContent=`${O.t("Error")}`,t=R(),i=m("p"),i.textContent=`${O.t("There was a problem displaying this page. Not all versions of Cataclysm are supported by the Guide currently. Try selecting a different build.")}`,o=R(),l=m("p"),s=m("details"),a=m("summary"),c=w(f),u=R(),d=m("pre"),k=w(b)},m(y,E){h(y,e,E),_(e,n),_(e,t),_(e,i),_(e,o),_(e,l),_(l,s),_(s,a),_(a,c),_(s,u),_(s,d),_(d,k)},p(y,E){E&4&&f!==(f=y[2].message+"")&&K(c,f),E&4&&b!==(b=y[2].stack+"")&&K(k,b)},i:oe,o:oe,d(y){y&&p(e)}}}function Lj(r){let e,n;return e=new ej({props:{item:r[4]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function Fj(r){let e=/obsolet/.test(r[4].__filename),n,t,i,o,l=e&&Lj(r);var s=r[5];function a(f){return{props:{item:f[4]}}}return s&&(t=Po(s,a(r))),{c(){l&&l.c(),n=R(),t&&q(t.$$.fragment),i=ue()},m(f,c){l&&l.m(f,c),h(f,n,c),t&&U(t,f,c),h(f,i,c),o=!0},p(f,c){if(e&&l.p(f,c),s!==(s=f[5])){if(t){fe();const u=t;$(u.$$.fragment,1,0,()=>{G(u,1)}),ae()}s?(t=Po(s,a(f)),q(t.$$.fragment),g(t.$$.fragment,1),U(t,i.parentNode,i)):t=null}},i(f){o||(g(l),t&&g(t.$$.fragment,f),o=!0)},o(f){$(l),t&&$(t.$$.fragment,f),o=!1},d(f){l&&l.d(f),f&&p(n),f&&p(i),t&&G(t,f)}}}function Pj(r){let e,n,t,i;const o=[Nj,Aj],l=[];function s(a,f){return a[4]?1:0}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,[f]){n.p(a,f)},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function jj(r,e){if(e==="json_flag")return{id:r,type:e,__filename:""}}function Uj(r,e,n){let{item:t}=e,{data:i}=e;Tf("data",i);let o=null;function l(c){n(2,o=c),Hf(c,{contexts:{item:{type:t.type,id:t.id}}})}let s=i.byIdMaybe(t.type,t.id)??jj(t.id,t.type);const f=(s&&{MONSTER:rO,AMMO:fi,GUN:fi,ARMOR:fi,PET_ARMOR:fi,TOOL:fi,TOOLMOD:fi,TOOL_ARMOR:fi,BOOK:fi,COMESTIBLE:fi,ENGINE:fi,WHEEL:fi,GUNMOD:fi,MAGAZINE:fi,BATTERY:fi,GENERIC:fi,BIONIC_ITEM:fi,ITEM:fi,material:YB,addiction_type:mj,ammunition_type:ZB,tool_quality:aM,furniture:ZM,skill:l8,proficiency:m8,json_flag:C8,fault:q8,vitamin:K8,vehicle_part:uD,martial_art:WD,mutation:wL,mutation_category:Ly,mutation_type:RL,vehicle:bP,terrain:MP,weapon_category:YP,construction_group:WP,achievement:cb,conduct:cb,bionic:aj,overmap_special:a$,city_building:a$,item_action:Rj,technique:My}[s.type])??DB;return r.$$set=c=>{"item"in c&&n(0,t=c.item),"data"in c&&n(1,i=c.data)},[t,i,o,l,s,f]}class Gj extends ht{constructor(e){super(),pt(this,e,Uj,Pj,mt,{item:0,data:1})}}var Tk={exports:{}};(function(r){((e,n)=>{r.exports?r.exports=n():e.fuzzysort=n()})(Jr,e=>{var n=(F,j)=>{if(F=="farzher")return{target:"farzher was here (^-^*)/",score:0,_indexes:[0]};if(!F||!j)return M;var Z=c(F);z(j)||(j=f(j));var x=Z.bitflags;return(x&j._bitflags)!==x?M:d(Z,j)},t=(F,j,Z)=>{if(F=="farzher")return[{target:"farzher was here (^-^*)/",score:0,_indexes:[0],obj:j?j[0]:M}];if(!F)return Z&&Z.all?u(F,j,Z):ne;var x=c(F),Q=x.bitflags;x.containsSpace;var V=Z&&Z.threshold||H,ie=Z&&Z.limit||W,_e=0,re=0,ee=j.length;if(Z&&Z.key)for(var ce=Z.key,Ee=0;Ee<ee;++Ee){var we=j[Ee],De=Y(we,ce);if(De&&(z(De)||(De=f(De)),(Q&De._bitflags)===Q)){var ze=d(x,De);ze!==M&&(ze.score<V||(ze={target:ze.target,_targetLower:"",_targetLowerCodes:M,_nextBeginningIndexes:M,_bitflags:0,score:ze.score,_indexes:ze._indexes,obj:we},_e<ie?(te.add(ze),++_e):(++re,ze.score>te.peek().score&&te.replaceTop(ze))))}}else if(Z&&Z.keys)for(var We=Z.scoreFn||D,Ve=Z.keys,Qe=Ve.length,Ee=0;Ee<ee;++Ee){for(var we=j[Ee],ve=new Array(Qe),Te=0;Te<Qe;++Te){var ce=Ve[Te],De=Y(we,ce);if(!De){ve[Te]=M;continue}z(De)||(De=f(De)),(Q&De._bitflags)!==Q?ve[Te]=M:ve[Te]=d(x,De)}ve.obj=we;var Ce=We(ve);Ce!==M&&(Ce<V||(ve.score=Ce,_e<ie?(te.add(ve),++_e):(++re,Ce>te.peek().score&&te.replaceTop(ve))))}else for(var Ee=0;Ee<ee;++Ee){var De=j[Ee];if(De&&(z(De)||(De=f(De)),(Q&De._bitflags)===Q)){var ze=d(x,De);ze!==M&&(ze.score<V||(_e<ie?(te.add(ze),++_e):(++re,ze.score>te.peek().score&&te.replaceTop(ze))))}}if(_e===0)return ne;for(var it=new Array(_e),Ee=_e-1;Ee>=0;--Ee)it[Ee]=te.poll();return it.total=_e+re,it},i=(F,j,Z)=>{if(typeof j=="function")return o(F,j);if(F===M)return M;j===void 0&&(j="<b>"),Z===void 0&&(Z="</b>");var x="",Q=0,V=!1,ie=F.target,_e=ie.length,re=F._indexes;re=re.slice(0,re.len).sort((Ee,we)=>Ee-we);for(var ee=0;ee<_e;++ee){var ce=ie[ee];if(re[Q]===ee){if(++Q,V||(V=!0,x+=j),Q===re.length){x+=ce+Z+ie.substr(ee+1);break}}else V&&(V=!1,x+=Z);x+=ce}return x},o=(ee,j)=>{if(ee===M)return M;var Z=ee.target,x=Z.length,Q=ee._indexes;Q=Q.slice(0,Q.len).sort((we,De)=>we-De);for(var V="",ie=0,_e=0,re=!1,ee=[],ce=0;ce<x;++ce){var Ee=Z[ce];if(Q[_e]===ce){if(++_e,re||(re=!0,ee.push(V),V=""),_e===Q.length){V+=Ee,ee.push(j(V,ie++)),V="",ee.push(Z.substr(ce+1));break}}else re&&(re=!1,ee.push(j(V,ie++)),V="");V+=Ee}return ee},l=F=>F._indexes.slice(0,F._indexes.len).sort((j,Z)=>j-Z),s=F=>{typeof F!="string"&&(F="");var j=k(F);return{target:F,_targetLower:j._lower,_targetLowerCodes:j.lowerCodes,_nextBeginningIndexes:M,_bitflags:j.bitflags,score:M,_indexes:[0],obj:M}},a=F=>{typeof F!="string"&&(F=""),F=F.trim();var j=k(F),Z=[];if(j.containsSpace){var x=F.split(/\s+/);x=[...new Set(x)];for(var Q=0;Q<x.length;Q++)if(x[Q]!==""){var V=k(x[Q]);Z.push({lowerCodes:V.lowerCodes,_lower:x[Q].toLowerCase(),containsSpace:!1})}}return{lowerCodes:j.lowerCodes,bitflags:j.bitflags,containsSpace:j.containsSpace,_lower:j._lower,spaceSearches:Z}},f=F=>{if(F.length>999)return s(F);var j=I.get(F);return j!==void 0||(j=s(F),I.set(F,j)),j},c=F=>{if(F.length>999)return a(F);var j=A.get(F);return j!==void 0||(j=a(F),A.set(F,j)),j},u=(F,j,Z)=>{var x=[];x.total=j.length;var Q=Z&&Z.limit||W;if(Z&&Z.key)for(var V=0;V<j.length;V++){var ie=j[V],_e=Y(ie,Z.key);if(_e){z(_e)||(_e=f(_e)),_e.score=H,_e._indexes.len=0;var re=_e;if(re={target:re.target,_targetLower:"",_targetLowerCodes:M,_nextBeginningIndexes:M,_bitflags:0,score:_e.score,_indexes:M,obj:ie},x.push(re),x.length>=Q)return x}}else if(Z&&Z.keys)for(var V=0;V<j.length;V++){for(var ie=j[V],ee=new Array(Z.keys.length),ce=Z.keys.length-1;ce>=0;--ce){var _e=Y(ie,Z.keys[ce]);if(!_e){ee[ce]=M;continue}z(_e)||(_e=f(_e)),_e.score=H,_e._indexes.len=0,ee[ce]=_e}if(ee.obj=ie,ee.score=H,x.push(ee),x.length>=Q)return x}else for(var V=0;V<j.length;V++){var _e=j[V];if(_e&&(z(_e)||(_e=f(_e)),_e.score=H,_e._indexes.len=0,x.push(_e),x.length>=Q))return x}return x},d=(F,j,Z=!1)=>{if(Z===!1&&F.containsSpace)return b(F,j);for(var x=F._lower,Q=F.lowerCodes,V=Q[0],ie=j._targetLowerCodes,_e=Q.length,re=ie.length,we=0,ee=0,ce=0;;){var Ee=V===ie[ee];if(Ee){if(B[ce++]=ee,++we,we===_e)break;V=Q[we]}if(++ee,ee>=re)return M}var we=0,De=!1,ze=0,We=j._nextBeginningIndexes;We===M&&(We=j._nextBeginningIndexes=E(j.target)),ee=B[0]===0?0:We[B[0]-1];var Ve=0;if(ee!==re)for(;;)if(ee>=re){if(we<=0||(++Ve,Ve>200))break;--we;var Qe=L[--ze];ee=We[Qe]}else{var Ee=Q[we]===ie[ee];if(Ee){if(L[ze++]=ee,++we,we===_e){De=!0;break}++ee}else ee=We[ee]}var ve=j._targetLower.indexOf(x,B[0]),Te=~ve;if(Te&&!De)for(var Ce=0;Ce<ce;++Ce)B[Ce]=ve+Ce;var it=!1;Te&&(it=j._nextBeginningIndexes[ve-1]===ve);{if(De)var Be=L,et=ze;else var Be=B,et=ce;for(var xe=0,At=0,Ce=1;Ce<_e;++Ce)Be[Ce]-Be[Ce-1]!==1&&(xe-=Be[Ce],++At);var wt=Be[_e-1]-Be[0]-(_e-1);if(xe-=(12+wt)*At,Be[0]!==0&&(xe-=Be[0]*Be[0]*.2),!De)xe*=1e3;else{for(var st=1,Ce=We[0];Ce<re;Ce=We[Ce])++st;st>24&&(xe*=(st-24)*10)}Te&&(xe/=1+_e*_e*1),it&&(xe/=1+_e*_e*1),xe-=re-_e,j.score=xe;for(var Ce=0;Ce<et;++Ce)j._indexes[Ce]=Be[Ce];return j._indexes.len=et,j}},b=(F,j)=>{for(var Z=new Set,x=0,Q=M,V=0,ie=F.spaceSearches,ce=0;ce<ie.length;++ce){var _e=ie[ce];if(Q=d(_e,j),Q===M)return M;x+=Q.score,Q._indexes[0]<V&&(x-=V-Q._indexes[0]),V=Q._indexes[0];for(var re=0;re<Q._indexes.len;++re)Z.add(Q._indexes[re])}var ee=d(F,j,!0);if(ee!==M&&ee.score>x)return ee;Q.score=x;var ce=0;for(let Ee of Z)Q._indexes[ce++]=Ee;return Q._indexes.len=ce,Q},k=F=>{for(var j=F.length,Z=F.toLowerCase(),x=[],Q=0,V=!1,ie=0;ie<j;++ie){var _e=x[ie]=Z.charCodeAt(ie);if(_e===32){V=!0;continue}var re=_e>=97&&_e<=122?_e-97:_e>=48&&_e<=57?26:_e<=127?30:31;Q|=1<<re}return{lowerCodes:x,bitflags:Q,containsSpace:V,_lower:Z}},y=F=>{for(var j=F.length,Z=[],x=0,Q=!1,V=!1,ie=0;ie<j;++ie){var _e=F.charCodeAt(ie),re=_e>=65&&_e<=90,ee=re||_e>=97&&_e<=122||_e>=48&&_e<=57,ce=re&&!Q||!V||!ee;Q=re,V=ee,ce&&(Z[x++]=ie)}return Z},E=F=>{for(var j=F.length,Z=y(F),x=[],Q=Z[0],V=0,ie=0;ie<j;++ie)Q>ie?x[ie]=Q:(Q=Z[++V],x[ie]=Q===void 0?j:Q);return x},C=()=>{I.clear(),A.clear(),B=[],L=[]},I=new Map,A=new Map,B=[],L=[],D=F=>{for(var j=H,Z=F.length,x=0;x<Z;++x){var Q=F[x];if(Q!==M){var V=Q.score;V>j&&(j=V)}}return j===H?M:j},Y=(F,j)=>{var Z=F[j];if(Z!==void 0)return Z;var x=j;Array.isArray(j)||(x=j.split("."));for(var Q=x.length,V=-1;F&&++V<Q;)F=F[x[V]];return F},z=F=>typeof F=="object",W=1/0,H=-W,ne=[];ne.total=0;var M=null,X=F=>{var j=[],Z=0,x={},Q=V=>{for(var ie=0,_e=j[ie],re=1;re<Z;){var ee=re+1;ie=re,ee<Z&&j[ee].score<j[re].score&&(ie=ee),j[ie-1>>1]=j[ie],re=1+(ie<<1)}for(var ce=ie-1>>1;ie>0&&_e.score<j[ce].score;ce=(ie=ce)-1>>1)j[ie]=j[ce];j[ie]=_e};return x.add=V=>{var ie=Z;j[Z++]=V;for(var _e=ie-1>>1;ie>0&&V.score<j[_e].score;_e=(ie=_e)-1>>1)j[ie]=j[_e];j[ie]=V},x.poll=V=>{if(Z!==0){var ie=j[0];return j[0]=j[--Z],Q(),ie}},x.peek=V=>{if(Z!==0)return j[0]},x.replaceTop=V=>{j[0]=V,Q()},x},te=X();return{single:n,go:t,highlight:i,prepare:s,indexes:l,cleanup:C}})})(Tk);var qj=Tk.exports;function c$(r,e,n){const t=r.slice();return t[13]=e[n][0],t[14]=e[n][1],t}function u$(r){const e=r[0]._flatten(r[18].item);r[19]=e}function Yj(r){const e=r.slice(),n=e[3](e[14]);return e[17]=n,e}function Hj(r){let e,n=(r[2][0]/1024/1024).toFixed(1)+"",t,i,o=(r[2][1]/1024/1024).toFixed(1)+"",l,s;return{c(){e=m("pre"),t=w(n),i=w("/"),l=w(o),s=w(" MB")},m(a,f){h(a,e,f),_(e,t),_(e,i),_(e,l),_(e,s)},p(a,f){f&4&&n!==(n=(a[2][0]/1024/1024).toFixed(1)+"")&&K(t,n),f&4&&o!==(o=(a[2][1]/1024/1024).toFixed(1)+"")&&K(l,o)},i:oe,o:oe,d(a){a&&p(e)}}}function zj(r){let e;return{c(){e=m("pre"),e.textContent="..."},m(n,t){h(n,e,t)},p:oe,i:oe,o:oe,d(n){n&&p(e)}}}function Wj(r){let e,n,t=r[1],i=[];for(let s=0;s<t.length;s+=1)i[s]=p$(c$(r,t,s));const o=s=>$(i[s],1,1,()=>{i[s]=null});let l=null;return t.length||(l=_$()),{c(){for(let s=0;s<i.length;s+=1)i[s].c();e=ue(),l&&l.c()},m(s,a){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(s,a);h(s,e,a),l&&l.m(s,a),n=!0},p(s,a){if(a&262155){t=s[1];let f;for(f=0;f<t.length;f+=1){const c=c$(s,t,f);i[f]?(i[f].p(c,a),g(i[f],1)):(i[f]=p$(c),i[f].c(),g(i[f],1),i[f].m(e.parentNode,e))}for(fe(),f=t.length;f<i.length;f+=1)o(f);ae(),!t.length&&l?l.p(s,a):t.length?l&&(l.d(1),l=null):(l=_$(),l.c(),l.m(e.parentNode,e))}},i(s){if(!n){for(let a=0;a<t.length;a+=1)g(i[a]);n=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)$(i[a]);n=!1},d(s){ye(i,s),s&&p(e),l&&l.d(s)}}}function _$(r){let e;return{c(){e=m("em"),e.textContent=`${O.t("No results.",{_context:"Search Results"})}`},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function Vj(r){let e,n=r[13].replace(/_/g," ")+"",t,i,o,l;return o=new Wt({props:{items:r[14],limit:50,$$slots:{default:[Xj,({item:s})=>({18:s}),({item:s})=>s?262144:0]},$$scope:{ctx:r}}}),{c(){e=m("h1"),t=w(n),i=R(),q(o.$$.fragment)},m(s,a){h(s,e,a),_(e,t),h(s,i,a),U(o,s,a),l=!0},p(s,a){(!l||a&2)&&n!==(n=s[13].replace(/_/g," ")+"")&&K(t,n);const f={};a&2&&(f.items=s[14]),a&1310721&&(f.$$scope={dirty:a,ctx:s}),o.$set(f)},i(s){l||(g(o.$$.fragment,s),l=!0)},o(s){$(o.$$.fragment,s),l=!1},d(s){s&&p(e),s&&p(i),G(o,s)}}}function Jj(r){let e,n,t,i;return t=new Cf({props:{items:r[17],limit:50,$$slots:{item:[Kj,({item:o})=>({18:o}),({item:o})=>o?262144:0]},$$scope:{ctx:r}}}),{c(){e=m("h1"),e.textContent="location",n=R(),q(t.$$.fragment)},m(o,l){h(o,e,l),h(o,n,l),U(t,o,l),i=!0},p(o,l){const s={};l&2&&(s.items=o[17]),l&1310721&&(s.$$scope={dirty:l,ctx:o}),t.$set(s)},i(o){i||(g(t.$$.fragment,o),i=!0)},o(o){$(t.$$.fragment,o),i=!1},d(o){o&&p(e),o&&p(n),G(t,o)}}}function d$(r){let e;return{c(){e=m("em"),e.textContent=`(${O.t("obsolete",{_context:"Search Results"})})`,bt(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function Xj(r){var f;u$(r);let e,n,t,i,o=/obsolet/.test(r[18].item.__filename??""),l,s;e=new Dt({props:{item:r[19]}}),t=new ge({props:{type:ai(r[18].item.type),id:r[18].item.id,variantId:(f=r[18].variant)==null?void 0:f.id}});let a=o&&d$();return{c(){q(e.$$.fragment),n=R(),q(t.$$.fragment),i=R(),a&&a.c(),l=R()},m(c,u){U(e,c,u),h(c,n,u),U(t,c,u),h(c,i,u),a&&a.m(c,u),h(c,l,u),s=!0},p(c,u){var k;u$(c);const d={};u&262145&&(d.item=c[19]),e.$set(d);const b={};u&262144&&(b.type=ai(c[18].item.type)),u&262144&&(b.id=c[18].item.id),u&262144&&(b.variantId=(k=c[18].variant)==null?void 0:k.id),t.$set(b),u&262144&&(o=/obsolet/.test(c[18].item.__filename??"")),o?a?a.p(c,u):(a=d$(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},i(c){s||(g(e.$$.fragment,c),g(t.$$.fragment,c),s=!0)},o(c){$(e.$$.fragment,c),$(t.$$.fragment,c),s=!1},d(c){G(e,c),c&&p(n),G(t,c),c&&p(i),a&&a.d(c),c&&p(l)}}}function m$(r){let e=" ",n,t,i=r[18].length+"",o,l;return{c(){n=w(e),t=w("("),o=w(i),l=w(" variants)")},m(s,a){h(s,n,a),h(s,t,a),h(s,o,a),h(s,l,a)},p(s,a){a&262144&&i!==(i=s[18].length+"")&&K(o,i)},d(s){s&&p(n),s&&p(t),s&&p(o),s&&p(l)}}}function Kj(r){let e,n,t,i,o,l,s=qo(r[0],r[18][0])+"",a,f,c,u;t=new uo({props:{overmapSpecial:r[18][0]}});let d=r[18].length>1&&m$(r);return{c(){e=m("tr"),n=m("td"),q(t.$$.fragment),i=R(),o=m("td"),l=m("a"),a=w(s),d&&d.c(),c=R(),bt(n,"text-align","center"),bt(n,"padding-left","2.5em"),le(l,"href",f="/overmap_special/"+r[18][0].id+location.search),bt(o,"vertical-align","middle"),bt(o,"padding-left","5px"),le(e,"slot","item")},m(b,k){h(b,e,k),_(e,n),U(t,n,null),_(e,i),_(e,o),_(o,l),_(l,a),d&&d.m(o,null),_(e,c),u=!0},p(b,k){const y={};k&262144&&(y.overmapSpecial=b[18][0]),t.$set(y),(!u||k&262145)&&s!==(s=qo(b[0],b[18][0])+"")&&K(a,s),(!u||k&262144&&f!==(f="/overmap_special/"+b[18][0].id+location.search))&&le(l,"href",f),b[18].length>1?d?d.p(b,k):(d=m$(b),d.c(),d.m(o,null)):d&&(d.d(1),d=null)},i(b){u||(g(t.$$.fragment,b),u=!0)},o(b){$(t.$$.fragment,b),u=!1},d(b){b&&p(e),G(t),d&&d.d()}}}function p$(r){let e,n,t,i;const o=[Jj,Vj],l=[];function s(f,c){return f[13]==="overmap_special"?0:1}function a(f,c){return c===0?Yj(f):f}return e=s(r),n=l[e]=o[e](a(r,e)),{c(){n.c(),t=ue()},m(f,c){l[e].m(f,c),h(f,t,c),i=!0},p(f,c){let u=e;e=s(f),e===u?l[e].p(a(f,e),c):(fe(),$(l[u],1,1,()=>{l[u]=null}),ae(),n=l[e],n?n.p(a(f,e),c):(n=l[e]=o[e](a(f,e)),n.c()),g(n,1),n.m(t.parentNode,t))},i(f){i||(g(n),i=!0)},o(f){$(n),i=!1},d(f){l[e].d(f),f&&p(t)}}}function Zj(r){let e,n,t,i;const o=[Wj,zj,Hj],l=[];function s(a,f){return a[1]?0:a[0]||!a[2]?1:2}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,[f]){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}const Qj=/[\u3040-\u30ff\u3400-\u4dbf\u4e00-\u9fff\uf900-\ufaff\uff66-\uff9f\u3131-\ud79d]/;function xj(r){return r.type=="recipe"&&"result"in r}function eU(r,e,n){let t,i,o;Fo(r,gy,E=>n(2,o=E));const l=new Set(["item","monster","furniture","vehicle_part","tool_quality","martial_art","mutation","mutation_category","vehicle","terrain","skill","overmap_special","proficiency"]);let{data:s}=e,a;function f(E,C){var I;return C=E._flatten(C),(C==null?void 0:C.type)==="overmap_special"||(C==null?void 0:C.type)==="city_building"?C.subtype==="mutable"?C.id:((I=C.overmaps)==null?void 0:I.filter(A=>A.overmap).map(A=>{const B=A.overmap.replace(/_(north|south|east|west)$/,""),L=E.byIdMaybe("overmap_terrain",B);return L?He(L):B}).join("\0"))??C.id:((C==null?void 0:C.type)==="vehicle_part"&&!C.name&&C.item&&(C=E.byId("item",C.item)),en.getLocale().startsWith("zh-")?He(C)+" "+He(C,"pinyin"):He(C))}function c(E){return ai(E.type)==="item"}function u(E){return c(E)&&"variants"in E&&E.variants?E.variants:[]}let{search:d}=e;function b(E){var C=s.all().map(B=>B.type!="recipe"?B:{...B,id:`${B.result}`}).filter(xj).filter(B=>B.category!="CC_BUILDING"),I=E.trim();return I.startsWith("$")&&(I=I.substring(I.lastIndexOf("$")+1)),I.split(" ").forEach(B=>{const[L,D]=B.split(":");L=="p"?C=C.filter(Y=>{var z;return(z=Y.skill_used)==null?void 0:z.startsWith(D)}):L=="l"?C=C.filter(Y=>Y.difficulty==parseInt(D)):L=="auto"&&(C=C.filter(Y=>!!Y.autolearn==!!parseInt(D)))}),C.map(B=>({type:"item",id:B.result})).map(B=>({obj:B}))}function k(E){var C;E.startsWith("$")?C=b(E):C=qj.go(E,a.filter(A=>A.type!="recipe"),{keys:["id","name","variant_id"],threshold:-1e4});const I=new Map;for(const{obj:A}of C){const B=A.type;if(!l.has(B)||(I.has(B)||I.set(B,[]),I.get(B).some(Y=>Y.item.id===A.id)))continue;const L=s.byId(B,A.id),D=A.variant_id?{id:A.variant_id,name:A.name}:void 0;I.get(B).push({item:L,variant:D})}return I}function y(E){const C=new Set,I=[];for(const A of E){const B=A.item,L=ds(s,B);L?C.has(L)||(I.push(Ey(s).get(L).map(D=>s.byId("overmap_special",D))),C.add(L)):I.push([B])}return I}return r.$$set=E=>{"data"in E&&n(0,s=E.data),"search"in E&&n(4,d=E.search)},r.$$.update=()=>{r.$$.dirty&1&&Tf("data",s),r.$$.dirty&1&&(a=[...(s==null?void 0:s.all())??[]].filter(E=>"id"in E&&typeof E.id=="string"&&l.has(ai(E.type))).filter(E=>E.type==="mutation"?!/Fake\d$/.test(E.id):!0).flatMap(E=>[{id:E.id,name:f(s,E),type:ai(E.type)}].concat(u(E).map(C=>({id:E.id,variant_id:C.id,name:C.name?Yt(C.name):He(E),type:ai(E.type)}))))),r.$$.dirty&17&&n(5,t=d&&(d.length>=2||Qj.test(d))&&s&&k(d)),r.$$.dirty&32&&n(1,i=t?[...t.entries()]:null)},[s,i,o,y,d,t]}class tU extends ht{constructor(e){super(),pt(this,e,eU,Zj,mt,{data:0,search:4})}}function h$(r,e,n){const t=r.slice();return t[4]=e[n],t}function g$(r,e,n){const t=r.slice();return t[7]=e[n],t[9]=n,t}function b$(r,e,n){const t=r.slice();return t[10]=e[n],t[9]=n,t}function nU(r){let e;return{c(){e=w(" →")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function iU(r){let e;return{c(){e=w(",")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function $$(r){let e,n,t,i=r[9]>0&&iU();return n=new ge({props:{id:r[10].id,type:"proficiency"}}),{c(){i&&i.c(),e=R(),q(n.$$.fragment)},m(o,l){i&&i.m(o,l),h(o,e,l),U(n,o,l),t=!0},p:oe,i(o){t||(g(n.$$.fragment,o),t=!0)},o(o){$(n.$$.fragment,o),t=!1},d(o){i&&i.d(o),o&&p(e),G(n,o)}}}function y$(r){let e,n,t,i=r[9]>0&&nU(),o=r[7],l=[];for(let a=0;a<o.length;a+=1)l[a]=$$(b$(r,o,a));const s=a=>$(l[a],1,1,()=>{l[a]=null});return{c(){i&&i.c(),e=R();for(let a=0;a<l.length;a+=1)l[a].c();n=ue()},m(a,f){i&&i.m(a,f),h(a,e,f);for(let c=0;c<l.length;c+=1)l[c]&&l[c].m(a,f);h(a,n,f),t=!0},p(a,f){if(f&1){o=a[7];let c;for(c=0;c<o.length;c+=1){const u=b$(a,o,c);l[c]?(l[c].p(u,f),g(l[c],1)):(l[c]=$$(u),l[c].c(),g(l[c],1),l[c].m(n.parentNode,n))}for(fe(),c=o.length;c<l.length;c+=1)s(c);ae()}},i(a){if(!t){for(let f=0;f<o.length;f+=1)g(l[f]);t=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)$(l[f]);t=!1},d(a){i&&i.d(a),a&&p(e),ye(l,a),a&&p(n)}}}function k$(r){let e,n,t,i=r[4],o=[];for(let s=0;s<i.length;s+=1)o[s]=y$(g$(r,i,s));const l=s=>$(o[s],1,1,()=>{o[s]=null});return{c(){e=m("li");for(let s=0;s<o.length;s+=1)o[s].c();n=R()},m(s,a){h(s,e,a);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);_(e,n),t=!0},p(s,a){if(a&1){i=s[4];let f;for(f=0;f<i.length;f+=1){const c=g$(s,i,f);o[f]?(o[f].p(c,a),g(o[f],1)):(o[f]=y$(c),o[f].c(),g(o[f],1),o[f].m(e,n))}for(fe(),f=i.length;f<o.length;f+=1)l(f);ae()}},i(s){if(!t){for(let a=0;a<i.length;a+=1)g(o[a]);t=!0}},o(s){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)$(o[a]);t=!1},d(s){s&&p(e),ye(o,s)}}}function lU(r){let e,n,t=r[0],i=[];for(let l=0;l<t.length;l+=1)i[l]=k$(h$(r,t,l));const o=l=>$(i[l],1,1,()=>{i[l]=null});return{c(){e=m("ul");for(let l=0;l<i.length;l+=1)i[l].c()},m(l,s){h(l,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);n=!0},p(l,[s]){if(s&1){t=l[0];let a;for(a=0;a<t.length;a+=1){const f=h$(l,t,a);i[a]?(i[a].p(f,s),g(i[a],1)):(i[a]=k$(f),i[a].c(),g(i[a],1),i[a].m(e,null))}for(fe(),a=t.length;a<i.length;a+=1)o(a);ae()}},i(l){if(!n){for(let s=0;s<t.length;s+=1)g(i[s]);n=!0}},o(l){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)$(i[s]);n=!1},d(l){l&&p(e),ye(i,l)}}}function rU(r,e,n){let t=jt("data"),{proficiencies:i}=e;const o=s=>s.required_proficiencies??[];let l=Dy(i,s=>o(s).map(a=>t.byId("proficiency",a))).sort((s,a)=>He(s[0][0]).localeCompare(He(a[0][0])));return r.$$set=s=>{"proficiencies"in s&&n(1,i=s.proficiencies)},[l,i]}class oU extends ht{constructor(e){super(),pt(this,e,rU,lU,mt,{proficiencies:1})}}function v$(r,e,n){const t=r.slice();return t[11]=e[n][0],t[12]=e[n][1],t}function sU(r){let e,n,t,i,o,l,s=r[11]&&aU(r);const a=[uU,cU],f=[];function c(u,d){return u[0]==="proficiency"?0:1}return t=c(r),i=f[t]=a[t](r),{c(){e=m("section"),s&&s.c(),n=R(),i.c(),o=R()},m(u,d){h(u,e,d),s&&s.m(e,null),_(e,n),f[t].m(e,null),_(e,o),l=!0},p(u,d){u[11]&&s.p(u,d);let b=t;t=c(u),t===b?f[t].p(u,d):(fe(),$(f[b],1,1,()=>{f[b]=null}),ae(),i=f[t],i?i.p(u,d):(i=f[t]=a[t](u),i.c()),g(i,1),i.m(e,o))},i(u){l||(g(i),l=!0)},o(u){$(i),l=!1},d(u){u&&p(e),s&&s.d(),f[t].d()}}}function fU(r){let e,n;return e=new Ly({props:{item:r[1].byId("mutation_category",r[11]),inCatalog:!0}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&2&&(o.item=t[1].byId("mutation_category",t[11])),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function aU(r){let e,n=r[11]+"",t;return{c(){e=m("h1"),t=w(n)},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function cU(r){let e,n;return e=new Wt({props:{items:r[12].filter(r[4]),limit:r[3].length===1?1/0:10,$$slots:{default:[_U,({item:t})=>({15:t}),({item:t})=>t?32768:0]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&98305&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function uU(r){let e,n;return e=new oU({props:{proficiencies:r[12].filter(mU)}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p:oe,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function w$(r){let e,n;return e=new Dt({props:{item:r[15]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&32768&&(o.item=t[15]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function E$(r){let e,n;return e=new uo({props:{overmapSpecial:r[15]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i&32768&&(o.overmapSpecial=t[15]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function _U(r){let e,n,t,i,o=(r[0]==="item"||r[0]==="terrain"||r[0]==="furniture"||r[0]==="monster"||r[0]==="vehicle_part")&&w$(r),l=(r[0]==="overmap_special"||r[0]==="city_building")&&r[15].subtype!=="mutable"&&E$(r);return t=new ge({props:{type:r[2],id:r[15].id}}),{c(){o&&o.c(),e=R(),l&&l.c(),n=R(),q(t.$$.fragment)},m(s,a){o&&o.m(s,a),h(s,e,a),l&&l.m(s,a),h(s,n,a),U(t,s,a),i=!0},p(s,a){s[0]==="item"||s[0]==="terrain"||s[0]==="furniture"||s[0]==="monster"||s[0]==="vehicle_part"?o?(o.p(s,a),a&1&&g(o,1)):(o=w$(s),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(fe(),$(o,1,1,()=>{o=null}),ae()),(s[0]==="overmap_special"||s[0]==="city_building")&&s[15].subtype!=="mutable"?l?(l.p(s,a),a&32769&&g(l,1)):(l=E$(s),l.c(),g(l,1),l.m(n.parentNode,n)):l&&(fe(),$(l,1,1,()=>{l=null}),ae());const f={};a&32768&&(f.id=s[15].id),t.$set(f)},i(s){i||(g(o),g(l),g(t.$$.fragment,s),i=!0)},o(s){$(o),$(l),$(t.$$.fragment,s),i=!1},d(s){o&&o.d(s),s&&p(e),l&&l.d(s),s&&p(n),G(t,s)}}}function T$(r){let e,n,t,i,o;const l=[fU,sU],s=[];function a(f,c){return c&3&&(e=null),e==null&&(e=!!(f[0]==="mutation"&&f[11]&&f[1].byIdMaybe("mutation_category",f[11]))),e?0:1}return n=a(r,-1),t=s[n]=l[n](r),{c(){t.c(),i=ue()},m(f,c){s[n].m(f,c),h(f,i,c),o=!0},p(f,c){let u=n;n=a(f,c),n===u?s[n].p(f,c):(fe(),$(s[u],1,1,()=>{s[u]=null}),ae(),t=s[n],t?t.p(f,c):(t=s[n]=l[n](f),t.c()),g(t,1),t.m(i.parentNode,i))},i(f){o||(g(t),o=!0)},o(f){$(t),o=!1},d(f){s[n].d(f),f&&p(i)}}}function dU(r){let e,n,t,i,o,l=r[3],s=[];for(let f=0;f<l.length;f+=1)s[f]=T$(v$(r,l,f));const a=f=>$(s[f],1,1,()=>{s[f]=null});return{c(){e=m("h1"),n=w(r[0]),t=R();for(let f=0;f<s.length;f+=1)s[f].c();i=ue()},m(f,c){h(f,e,c),_(e,n),h(f,t,c);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(f,c);h(f,i,c),o=!0},p(f,[c]){if((!o||c&1)&&K(n,f[0]),c&32799){l=f[3];let u;for(u=0;u<l.length;u+=1){const d=v$(f,l,u);s[u]?(s[u].p(d,c),g(s[u],1)):(s[u]=T$(d),s[u].c(),g(s[u],1),s[u].m(i.parentNode,i))}for(fe(),u=l.length;u<s.length;u+=1)a(u);ae()}},i(f){if(!o){for(let c=0;c<l.length;c+=1)g(s[c]);o=!0}},o(f){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);o=!1},d(f){f&&p(e),f&&p(t),ye(s,f),f&&p(i)}}}function mU(r){return r.type==="proficiency"}function pU(r,e,n){let{type:t}=e,{data:i}=e,o=t;Tf("data",i);const l=i.byType(t).filter(k=>"id"in k&&k.id).sort(an);function s(k){if(k.category)return k.category.toLowerCase();if(Zt("COMESTIBLE",k))return k.comestible_type==="MED"?"drugs":"food";if(Zt("GUN",k))return"guns";if(Zt("MAGAZINE",k))return"magazines";if(Zt("AMMO",k))return"ammo";if(Zt("TOOL",k))return"tools";if(Zt("ARMOR",k))return"clothing";if(Zt("BOOK",k))return"books";if(Zt("GUNMOD",k))return"mods";if(Zt("BIONIC_ITEM",k))return"bionics";const y=k;return y.bashing||y.cutting?"weapons":"other"}function a(k){const y=i.byIdMaybe("ITEM_CATEGORY",k);return y?He(y):k}function f(k){const y=i.byIdMaybe("proficiency_category",k);return y?He(y):k}const c={monster:k=>[k.default_faction??""],item:k=>[`${k.type} (${a(s(k))})`],proficiency:k=>[k.category?f(k.category):""],vehicle_part:k=>k.categories??[""],mutation:k=>k.category??[""]}[t]??(()=>[""]),d=[...If(l,c).entries()].sort(([k],[y])=>k.localeCompare(y)),b={mutation:k=>{var y,E;return!/Fake\d$/.test(k.id)&&!((y=k.types)!=null&&y.includes("BACKGROUND_OTHER_SURVIVORS_STORY"))&&!((E=k.types)!=null&&E.includes("BACKGROUND_SURVIVAL_STORY"))}}[t]??(()=>!0);return r.$$set=k=>{"type"in k&&n(0,t=k.type),"data"in k&&n(1,i=k.data)},[t,i,o,d,b]}class hU extends ht{constructor(e){super(),pt(this,e,pU,dU,mt,{type:0,data:1})}}const gU="/cdda-guide/assets/dont_panic-c90f0625.png";function bU(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var xf=bU,$U=typeof Jr=="object"&&Jr&&Jr.Object===Object&&Jr,yU=$U,kU=yU,vU=typeof self=="object"&&self&&self.Object===Object&&self,wU=kU||vU||Function("return this")(),Sk=wU,EU=Sk,TU=function(){return EU.Date.now()},SU=TU,CU=/\s/;function IU(r){for(var e=r.length;e--&&CU.test(r.charAt(e)););return e}var OU=IU,RU=OU,AU=/^\s+/;function NU(r){return r&&r.slice(0,RU(r)+1).replace(AU,"")}var BU=NU,MU=Sk,DU=MU.Symbol,Ck=DU,S$=Ck,Ik=Object.prototype,LU=Ik.hasOwnProperty,FU=Ik.toString,Vr=S$?S$.toStringTag:void 0;function PU(r){var e=LU.call(r,Vr),n=r[Vr];try{r[Vr]=void 0;var t=!0}catch{}var i=FU.call(r);return t&&(e?r[Vr]=n:delete r[Vr]),i}var jU=PU,UU=Object.prototype,GU=UU.toString;function qU(r){return GU.call(r)}var YU=qU,C$=Ck,HU=jU,zU=YU,WU="[object Null]",VU="[object Undefined]",I$=C$?C$.toStringTag:void 0;function JU(r){return r==null?r===void 0?VU:WU:I$&&I$ in Object(r)?HU(r):zU(r)}var XU=JU;function KU(r){return r!=null&&typeof r=="object"}var ZU=KU,QU=XU,xU=ZU,eG="[object Symbol]";function tG(r){return typeof r=="symbol"||xU(r)&&QU(r)==eG}var nG=tG,iG=BU,O$=xf,lG=nG,R$=0/0,rG=/^[-+]0x[0-9a-f]+$/i,oG=/^0b[01]+$/i,sG=/^0o[0-7]+$/i,fG=parseInt;function aG(r){if(typeof r=="number")return r;if(lG(r))return R$;if(O$(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=O$(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=iG(r);var n=oG.test(r);return n||sG.test(r)?fG(r.slice(2),n?2:8):rG.test(r)?R$:+r}var cG=aG,uG=xf,Vs=SU,A$=cG,_G="Expected a function",dG=Math.max,mG=Math.min;function pG(r,e,n){var t,i,o,l,s,a,f=0,c=!1,u=!1,d=!0;if(typeof r!="function")throw new TypeError(_G);e=A$(e)||0,uG(n)&&(c=!!n.leading,u="maxWait"in n,o=u?dG(A$(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function b(D){var Y=t,z=i;return t=i=void 0,f=D,l=r.apply(z,Y),l}function k(D){return f=D,s=setTimeout(C,e),c?b(D):l}function y(D){var Y=D-a,z=D-f,W=e-Y;return u?mG(W,o-z):W}function E(D){var Y=D-a,z=D-f;return a===void 0||Y>=e||Y<0||u&&z>=o}function C(){var D=Vs();if(E(D))return I(D);s=setTimeout(C,y(D))}function I(D){return s=void 0,d&&t?b(D):(t=i=void 0,l)}function A(){s!==void 0&&clearTimeout(s),f=0,t=a=i=s=void 0}function B(){return s===void 0?l:I(Vs())}function L(){var D=Vs(),Y=E(D);if(t=arguments,i=this,a=D,Y){if(s===void 0)return k(a);if(u)return clearTimeout(s),s=setTimeout(C,e),b(a)}return s===void 0&&(s=setTimeout(C,e)),l}return L.cancel=A,L.flush=B,L}var hG=pG,gG=hG,bG=xf,$G="Expected a function";function yG(r,e,n){var t=!0,i=!0;if(typeof r!="function")throw new TypeError($G);return bG(n)&&(t="leading"in n?!!n.leading:t,i="trailing"in n?!!n.trailing:i),gG(r,e,{leading:t,maxWait:e,trailing:i})}var kG=yG;const N$=BC(kG),{document:B$,window:M$}=IC;function D$(r,e,n){const t=r.slice();return t[37]=e[n],t}function vG(r){var l;const e=r.slice(),n=e[9]==="latest"?e[4][0].build_number:e[9];e[33]=n;const t=e[4].find(function(...a){return r[24](e[33],...a)});e[34]=t;const i=((l=e[34])==null?void 0:l.langs)??[];e[35]=i;const o=e[35].filter(s=>{try{return Ef(s),!0}catch{return!1}});return e[36]=o,e}function L$(r,e,n){const t=r.slice();return t[40]=e[n].name,t[15]=e[n].url,t}function F$(r,e,n){const t=r.slice();return t[34]=e[n],t[44]=n,t}function P$(r,e,n){const t=r.slice();return t[34]=e[n],t}function j$(r,e,n){const t=r.slice();return t[37]=e[n],t}function Js(r){const e=r.slice(),n=e[9]==="latest"?e[4][0].build_number:e[9];return e[33]=n,e}function U$(r){var o;let e;function n(...l){return r[17](r[33],...l)}let t=[...((o=r[4].find(n))==null?void 0:o.langs)??[]].sort(x$),i=[];for(let l=0;l<t.length;l+=1)i[l]=G$(j$(r,t,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=ue()},m(l,s){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,s);h(l,e,s)},p(l,s){var a;if(r=l,s[0]&656){t=[...((a=r[4].find(n))==null?void 0:a.langs)??[]].sort(x$);let f;for(f=0;f<t.length;f+=1){const c=j$(r,t,f);i[f]?i[f].p(c,s):(i[f]=G$(c),i[f].c(),i[f].m(e.parentNode,e))}for(;f<i.length;f+=1)i[f].d(1);i.length=t.length}},d(l){ye(i,l),l&&p(e)}}}function G$(r){let e,n,t;return{c(){e=m("link"),le(e,"rel","alternate"),le(e,"hreflang",n=r[37]),le(e,"href",t=Q$(r[37],r[7]))},m(i,o){h(i,e,o)},p(i,o){o[0]&16&&n!==(n=i[37])&&le(e,"hreflang",n),o[0]&144&&t!==(t=Q$(i[37],i[7]))&&le(e,"href",t)},d(i){i&&p(e)}}}function wG(r){let e,n,t,i,o,l,s,a=O.t(`The Guide stores all its data locally and is offline-capable, so you can
take it with you wherever you go. There's nothing to do to make the Guide
work offline, just visit the page and it will work even without internet
access, as long as you've visited it once before.`)+"",f,c,u,d,b,k,y,E,C,I,A,B,L,D,Y=O.t("Items")+"",z,W,H,ne,M,X=O.t("Monsters")+"",te,F,j,Z,x,Q=O.t("Furniture")+"",V,ie,_e,re,ee,ce=O.t("Terrain")+"",Ee,we,De,ze,We,Ve=O.t("Vehicle Parts")+"",Qe,ve,Te,Ce,it,Be=O.t("Qualities")+"",et,xe,At,wt,st,Ut=O.t("Mutations")+"",$t,_t,Ue,ke,Ke,Lt=O.t("Martial Arts")+"",Rt,Ct,pe,$e,Ae,de=O.t("Flags")+"",Ge,Oe,dt,Ie,at,Ze=O.t("Achievements")+"",Me,je,ot,rt,Bt=O.t("Conducts")+"",Ot,Pe,Je,ft,Se,ct=O.t("Proficiencies")+"",tn,Mt,Qt,sn,Xe;o=new Ki({props:{str:O.t(`The {hhg} is a guide to the zombie survival roguelike game {link_cdda}. You can
search for things in the game, like items (e.g. a {link_flashlight}), furniture
(e.g. a {link_table}), or monsters (e.g. a {link_zombie}), and find useful
information about them. The data in the Guide comes directly from the JSON
files in the game itself.`,{hhg:"{hhg}",link_cdda:"{link_cdda}",link_flashlight:"{link_flashlight}",link_table:"{link_table}",link_zombie:"{link_zombie}"}),slot0:"hhg",slot1:"link_cdda",slot2:"link_flashlight",slot3:"link_table",slot4:"link_zombie",$$slots:{4:[RG],3:[OG],2:[IG],1:[CG],0:[SG]},$$scope:{ctx:r}}});let Et=r[5]&&q$(r);y=new Ki({props:{str:O.t("The Guide is developed on {link_github} by {link_nornagon}. If you notice any problems, please {link_file_an_issue}!",{link_github:"{link_github}",link_nornagon:"{link_nornagon}",link_file_an_issue:"{link_file_an_issue}"}),slot0:"link_github",slot1:"link_nornagon",slot2:"link_file_an_issue",$$slots:{2:[MG],1:[BG],0:[NG]},$$scope:{ctx:r}}});let nn=r[10]&&DG(r);return sn=new Ki({props:{str:O.t("Or visit a {link_random_page}.",{link_random_page:"{link_random_page}"}),slot0:"link_random_page",$$slots:{0:[FG]},$$scope:{ctx:r}}}),{c(){e=m("img"),t=R(),i=m("p"),q(o.$$.fragment),l=R(),s=m("p"),f=w(a),c=R(),Et&&Et.c(),u=R(),d=m("p"),d.textContent=`${O.t(`More popular than the Celestial Home Care Omnibus, better selling than
Fifty-three More Things to do in Zero Gravity, and more controversial than
Oolon Colluphid's trilogy of philosophical blockbusters Where God Went
Wrong, Some More of God's Greatest Mistakes and Who is this God Person
Anyway?`,{_comment:"This is a quote from the Hitchhiker's Guide to the Galaxy, by Douglas Adams"})}`,b=R(),k=m("p"),q(y.$$.fragment),E=R(),nn&&nn.c(),C=R(),I=m("h2"),I.textContent=`${O.t("Catalogs")}`,A=R(),B=m("ul"),L=m("li"),D=m("a"),z=w(Y),H=R(),ne=m("li"),M=m("a"),te=w(X),j=R(),Z=m("li"),x=m("a"),V=w(Q),_e=R(),re=m("li"),ee=m("a"),Ee=w(ce),De=R(),ze=m("li"),We=m("a"),Qe=w(Ve),Te=R(),Ce=m("li"),it=m("a"),et=w(Be),At=R(),wt=m("li"),st=m("a"),$t=w(Ut),Ue=R(),ke=m("li"),Ke=m("a"),Rt=w(Lt),pe=R(),$e=m("li"),Ae=m("a"),Ge=w(de),dt=R(),Ie=m("li"),at=m("a"),Me=w(Ze),ot=w(` /
        `),rt=m("a"),Ot=w(Bt),Je=R(),ft=m("li"),Se=m("a"),tn=w(ct),Qt=R(),q(sn.$$.fragment),yC(e.src,n=gU)||le(e,"src",n),le(e,"height","200"),le(e,"width","343"),bt(e,"float","right"),le(e,"alt","The words 'Don't Panic' in big friendly letters"),bt(d,"font-style","italic"),bt(d,"color","var(--cata-color-gray)"),le(D,"href",W="/item"+location.search),le(M,"href",F="/monster"+location.search),le(x,"href",ie="/furniture"+location.search),le(ee,"href",we="/terrain"+location.search),le(We,"href",ve="/vehicle_part"+location.search),le(it,"href",xe="/tool_quality"+location.search),le(st,"href",_t="/mutation"+location.search),le(Ke,"href",Ct="/martial_art"+location.search),le(Ae,"href",Oe="/json_flag"+location.search),le(at,"href",je="/achievement"+location.search),le(rt,"href",Pe="/conduct"+location.search),le(Se,"href",Mt="/proficiency"+location.search)},m(Re,yt){h(Re,e,yt),h(Re,t,yt),h(Re,i,yt),U(o,i,null),h(Re,l,yt),h(Re,s,yt),_(s,f),_(s,c),Et&&Et.m(s,null),h(Re,u,yt),h(Re,d,yt),h(Re,b,yt),h(Re,k,yt),U(y,k,null),h(Re,E,yt),nn&&nn.m(Re,yt),h(Re,C,yt),h(Re,I,yt),h(Re,A,yt),h(Re,B,yt),_(B,L),_(L,D),_(D,z),_(B,H),_(B,ne),_(ne,M),_(M,te),_(B,j),_(B,Z),_(Z,x),_(x,V),_(B,_e),_(B,re),_(re,ee),_(ee,Ee),_(B,De),_(B,ze),_(ze,We),_(We,Qe),_(B,Te),_(B,Ce),_(Ce,it),_(it,et),_(B,At),_(B,wt),_(wt,st),_(st,$t),_(B,Ue),_(B,ke),_(ke,Ke),_(Ke,Rt),_(B,pe),_(B,$e),_($e,Ae),_(Ae,Ge),_(B,dt),_(B,Ie),_(Ie,at),_(at,Me),_(Ie,ot),_(Ie,rt),_(rt,Ot),_(B,Je),_(B,ft),_(ft,Se),_(Se,tn),h(Re,Qt,yt),U(sn,Re,yt),Xe=!0},p(Re,yt){const dn={};yt[1]&262144&&(dn.$$scope={dirty:yt,ctx:Re}),o.$set(dn),Re[5]?Et?(Et.p(Re,yt),yt[0]&32&&g(Et,1)):(Et=q$(Re),Et.c(),g(Et,1),Et.m(s,null)):Et&&(fe(),$(Et,1,1,()=>{Et=null}),ae());const rn={};yt[1]&262144&&(rn.$$scope={dirty:yt,ctx:Re}),y.$set(rn),Re[10]&&nn.p(Re,yt),(!Xe||yt&0&&W!==(W="/item"+location.search))&&le(D,"href",W),(!Xe||yt&0&&F!==(F="/monster"+location.search))&&le(M,"href",F),(!Xe||yt&0&&ie!==(ie="/furniture"+location.search))&&le(x,"href",ie),(!Xe||yt&0&&we!==(we="/terrain"+location.search))&&le(ee,"href",we),(!Xe||yt&0&&ve!==(ve="/vehicle_part"+location.search))&&le(We,"href",ve),(!Xe||yt&0&&xe!==(xe="/tool_quality"+location.search))&&le(it,"href",xe),(!Xe||yt&0&&_t!==(_t="/mutation"+location.search))&&le(st,"href",_t),(!Xe||yt&0&&Ct!==(Ct="/martial_art"+location.search))&&le(Ke,"href",Ct),(!Xe||yt&0&&Oe!==(Oe="/json_flag"+location.search))&&le(Ae,"href",Oe),(!Xe||yt&0&&je!==(je="/achievement"+location.search))&&le(at,"href",je),(!Xe||yt&0&&Pe!==(Pe="/conduct"+location.search))&&le(rt,"href",Pe),(!Xe||yt&0&&Mt!==(Mt="/proficiency"+location.search))&&le(Se,"href",Mt);const Gt={};yt[0]&64|yt[1]&262144&&(Gt.$$scope={dirty:yt,ctx:Re}),sn.$set(Gt)},i(Re){Xe||(g(o.$$.fragment,Re),g(Et),g(y.$$.fragment,Re),g(nn),g(sn.$$.fragment,Re),Xe=!0)},o(Re){$(o.$$.fragment,Re),$(Et),$(y.$$.fragment,Re),$(nn),$(sn.$$.fragment,Re),Xe=!1},d(Re){Re&&p(e),Re&&p(t),Re&&p(i),G(o),Re&&p(l),Re&&p(s),Et&&Et.d(),Re&&p(u),Re&&p(d),Re&&p(b),Re&&p(k),G(y),Re&&p(E),nn&&nn.d(Re),Re&&p(C),Re&&p(I),Re&&p(A),Re&&p(B),Re&&p(Qt),G(sn,Re)}}}function EG(r){let e,n,t,i;const o=[jG,PG],l=[];function s(a,f){return a[3]?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function TG(r){let e,n,t,i;const o=[GG,UG],l=[];function s(a,f){return a[3]?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function SG(r){let e;return{c(){e=m("strong"),e.textContent="Hitchhiker's Guide to the Cataclysm",le(e,"slot","0")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function CG(r){let e;return{c(){e=m("a"),e.textContent="Cataclysm: Dark Days Ahead",le(e,"slot","1"),le(e,"href","https://cataclysmdda.org/")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function IG(r){let e,n=O.t("flashlight",{_comment:"Item name"})+"",t,i;return{c(){e=m("a"),t=w(n),le(e,"slot","2"),le(e,"href",i="/cdda-guide/item/flashlight"+location.search)},m(o,l){h(o,e,l),_(e,t)},p(o,l){l&0&&i!==(i="/cdda-guide/item/flashlight"+location.search)&&le(e,"href",i)},d(o){o&&p(e)}}}function OG(r){let e,n=O.t("table",{_comment:"Furniture"})+"",t,i;return{c(){e=m("a"),t=w(n),le(e,"slot","3"),le(e,"href",i="/cdda-guide/furniture/f_table"+location.search)},m(o,l){h(o,e,l),_(e,t)},p(o,l){l&0&&i!==(i="/cdda-guide/furniture/f_table"+location.search)&&le(e,"href",i)},d(o){o&&p(e)}}}function RG(r){let e,n=O.t("zombie",{_comment:"Monster name"})+"",t,i;return{c(){e=m("a"),t=w(n),le(e,"slot","4"),le(e,"href",i="/cdda-guide/monster/mon_zombie"+location.search)},m(o,l){h(o,e,l),_(e,t)},p(o,l){l&0&&i!==(i="/cdda-guide/monster/mon_zombie"+location.search)&&le(e,"href",i)},d(o){o&&p(e)}}}function q$(r){let e,n;return e=new Ki({props:{str:O.t("It's also {installable_button}, so you can pop it out of your browser and use it like a regular app.",{installable_button:"{installable_button}"}),slot0:"installable_button",$$slots:{0:[AG]},$$scope:{ctx:r}}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&32|i[1]&262144&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function AG(r){let e,n,t;return{c(){e=m("button"),e.textContent=`${O.t("installable",{_context:"Front page",_comment:"Meaning, install the Hitchhiker's Guide app itself."})}`,le(e,"slot","0"),le(e,"class","disclosure")},m(i,o){h(i,e,o),n||(t=Di(e,"click",r[20]),n=!0)},p:oe,d(i){i&&p(e),n=!1,t()}}}function NG(r){let e;return{c(){e=m("a"),e.textContent="GitHub",le(e,"slot","0"),le(e,"href","https://github.com/nornagon/cdda-guide")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function BG(r){let e;return{c(){e=m("a"),e.textContent="nornagon",le(e,"slot","1"),le(e,"href","https://www.nornagon.net")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function MG(r){let e;return{c(){e=m("a"),e.textContent=`${O.t("file an issue")}`,le(e,"slot","2"),le(e,"href","https://github.com/nornagon/cdda-guide/issues")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function DG(r){let e,n,t;return n=new Ki({props:{str:O.t("You can help translate the Guide into your language on {link_transifex}.",{link_transifex:"{link_transifex}"}),slot0:"link_transifex",$$slots:{0:[LG]},$$scope:{ctx:r}}}),{c(){e=m("p"),q(n.$$.fragment),bt(e,"font-weight","bold")},m(i,o){h(i,e,o),U(n,e,null),t=!0},p(i,o){const l={};o[1]&262144&&(l.$$scope={dirty:o,ctx:i}),n.$set(l)},i(i){t||(g(n.$$.fragment,i),t=!0)},o(i){$(n.$$.fragment,i),t=!1},d(i){i&&p(e),G(n)}}}function LG(r){let e;return{c(){e=m("a"),e.textContent="Transifex",le(e,"slot","0"),le(e,"href","https://www.transifex.com/nornagon/the-hitchhikers-guide-to-the-cataclysm/")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function FG(r){let e,n=O.t("random page")+"",t,i,o;return{c(){e=m("a"),t=w(n),le(e,"slot","0"),le(e,"href",r[6])},m(l,s){h(l,e,s),_(e,t),i||(o=Di(e,"click",r[21]),i=!0)},p(l,s){s[0]&64&&le(e,"href",l[6])},d(l){l&&p(e),i=!1,o()}}}function PG(r){let e,n,t,i=r[8]&&Y$(r);return{c(){e=m("span"),n=m("em"),n.textContent=`${O.t("Loading...")}`,t=R(),i&&i.c(),bt(e,"color","var(--cata-color-gray)")},m(o,l){h(o,e,l),_(e,n),_(e,t),i&&i.m(e,null)},p(o,l){o[8]?i?i.p(o,l):(i=Y$(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:oe,o:oe,d(o){o&&p(e),i&&i.d()}}}function jG(r){let e=r[2],n,t,i=H$(r);return{c(){i.c(),n=ue()},m(o,l){i.m(o,l),h(o,n,l),t=!0},p(o,l){l[0]&4&&mt(e,e=o[2])?(fe(),$(i,1,1,oe),ae(),i=H$(o),i.c(),g(i,1),i.m(n.parentNode,n)):i.p(o,l)},i(o){t||(g(i),t=!0)},o(o){$(i),t=!1},d(o){o&&p(n),i.d(o)}}}function Y$(r){let e,n=(r[8][0]/1024/1024).toFixed(1)+"",t,i,o=(r[8][1]/1024/1024).toFixed(1)+"",l,s;return{c(){e=w("("),t=w(n),i=w("/"),l=w(o),s=w(" MB)")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,l,f),h(a,s,f)},p(a,f){f[0]&256&&n!==(n=(a[8][0]/1024/1024).toFixed(1)+"")&&K(t,n),f[0]&256&&o!==(o=(a[8][1]/1024/1024).toFixed(1)+"")&&K(l,o)},d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(l),a&&p(s)}}}function H$(r){let e,n;return e=new tU({props:{data:r[3],search:r[2]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&8&&(o.data=t[3]),i[0]&4&&(o.search=t[2]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function UG(r){let e,n,t,i=r[8]&&z$(r);return{c(){e=m("span"),n=m("em"),n.textContent=`${O.t("Loading...")}`,t=R(),i&&i.c(),bt(e,"color","var(--cata-color-gray)")},m(o,l){h(o,e,l),_(e,n),_(e,t),i&&i.m(e,null)},p(o,l){o[8]?i?i.p(o,l):(i=z$(o),i.c(),i.m(e,null)):i&&(i.d(1),i=null)},i:oe,o:oe,d(o){o&&p(e),i&&i.d()}}}function GG(r){let e=r[0],n,t,i=W$(r);return{c(){i.c(),n=ue()},m(o,l){i.m(o,l),h(o,n,l),t=!0},p(o,l){l[0]&1&&mt(e,e=o[0])?(fe(),$(i,1,1,oe),ae(),i=W$(o),i.c(),g(i,1),i.m(n.parentNode,n)):i.p(o,l)},i(o){t||(g(i),t=!0)},o(o){$(i),t=!1},d(o){o&&p(n),i.d(o)}}}function z$(r){let e,n=(r[8][0]/1024/1024).toFixed(1)+"",t,i,o=(r[8][1]/1024/1024).toFixed(1)+"",l,s;return{c(){e=w("("),t=w(n),i=w("/"),l=w(o),s=w(" MB)")},m(a,f){h(a,e,f),h(a,t,f),h(a,i,f),h(a,l,f),h(a,s,f)},p(a,f){f[0]&256&&n!==(n=(a[8][0]/1024/1024).toFixed(1)+"")&&K(t,n),f[0]&256&&o!==(o=(a[8][1]/1024/1024).toFixed(1)+"")&&K(l,o)},d(a){a&&p(e),a&&p(t),a&&p(i),a&&p(l),a&&p(s)}}}function qG(r){let e,n;return e=new hU({props:{type:r[0].type,data:r[3]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.type=t[0].type),i[0]&8&&(o.data=t[3]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function YG(r){let e,n;return e=new Gj({props:{item:r[0],data:r[3]}}),{c(){q(e.$$.fragment)},m(t,i){U(e,t,i),n=!0},p(t,i){const o={};i[0]&1&&(o.item=t[0]),i[0]&8&&(o.data=t[3]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){G(e,t)}}}function W$(r){let e,n,t,i;const o=[YG,qG],l=[];function s(a,f){return a[0].id?0:1}return e=s(r),n=l[e]=o[e](r),{c(){n.c(),t=ue()},m(a,f){l[e].m(a,f),h(a,t,f),i=!0},p(a,f){let c=e;e=s(a),e===c?l[e].p(a,f):(fe(),$(l[c],1,1,()=>{l[c]=null}),ae(),n=l[e],n?n.p(a,f):(n=l[e]=o[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){i||(g(n),i=!0)},o(a){$(n),i=!1},d(a){l[e].d(a),a&&p(t)}}}function HG(r){let e;return{c(){e=m("em"),e.textContent=`(${O.t("Loading...")})`,bt(e,"color","var(--cata-color-gray)")},m(n,t){h(n,e,t)},p:oe,d(n){n&&p(e)}}}function zG(r){let e;function n(o,l){if(o[4])return VG;if(o[3])return WG}let t=n(r),i=t&&t(r);return{c(){i&&i.c(),e=ue()},m(o,l){i&&i.m(o,l),h(o,e,l)},p(o,l){t===(t=n(o))&&i?i.p(o,l):(i&&i.d(1),i=t&&t(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i&&i.d(o),o&&p(e)}}}function WG(r){let e,n,t=r[3].build_number+"",i,o;return{c(){e=m("select"),n=m("option"),i=w(t),n.__value=o=r[3].build_number,n.value=n.__value,e.disabled=!0,le(e,"class","svelte-dbvcyx")},m(l,s){h(l,e,s),_(e,n),_(n,i)},p(l,s){s[0]&8&&t!==(t=l[3].build_number+"")&&K(i,t),s[0]&24&&o!==(o=l[3].build_number)&&(n.__value=o,n.value=n.__value)},d(l){l&&p(e)}}}function VG(r){let e,n,t,i,o,l,s=r[4].filter(ey),a=[];for(let u=0;u<s.length;u+=1)a[u]=V$(P$(r,s,u));let f=r[4].filter(ty),c=[];for(let u=0;u<f.length;u+=1)c[u]=J$(F$(r,f,u));return{c(){e=m("select"),n=m("optgroup");for(let u=0;u<a.length;u+=1)a[u].c();t=m("optgroup");for(let u=0;u<c.length;u+=1)c[u].c();le(n,"label","Stable"),le(t,"label","Experimental"),le(e,"class","svelte-dbvcyx")},m(u,d){var b;h(u,e,d),_(e,n);for(let k=0;k<a.length;k+=1)a[k]&&a[k].m(n,null);_(e,t);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(t,null);no(e,((b=r[3])==null?void 0:b.build_number)??(r[9]==="latest"?r[4][0].build_number:r[9])),o||(l=Di(e,"change",r[22]),o=!0)},p(u,d){var b,k;if(d[0]&16){s=u[4].filter(ey);let y;for(y=0;y<s.length;y+=1){const E=P$(u,s,y);a[y]?a[y].p(E,d):(a[y]=V$(E),a[y].c(),a[y].m(n,null))}for(;y<a.length;y+=1)a[y].d(1);a.length=s.length}if(d[0]&16){f=u[4].filter(ty);let y;for(y=0;y<f.length;y+=1){const E=F$(u,f,y);c[y]?c[y].p(E,d):(c[y]=J$(E),c[y].c(),c[y].m(t,null))}for(;y<c.length;y+=1)c[y].d(1);c.length=f.length}d[0]&24&&i!==(i=((b=u[3])==null?void 0:b.build_number)??(u[9]==="latest"?u[4][0].build_number:u[9]))&&no(e,((k=u[3])==null?void 0:k.build_number)??(u[9]==="latest"?u[4][0].build_number:u[9]))},d(u){u&&p(e),ye(a,u),ye(c,u),o=!1,l()}}}function V$(r){let e,n=r[34].build_number+"",t,i;return{c(){e=m("option"),t=w(n),e.__value=i=r[34].build_number,e.value=e.__value},m(o,l){h(o,e,l),_(e,t)},p(o,l){l[0]&16&&n!==(n=o[34].build_number+"")&&K(t,n),l[0]&16&&i!==(i=o[34].build_number)&&(e.__value=i,e.value=e.__value)},d(o){o&&p(e)}}}function JG(r){let e;return{c(){e=w(" (latest)")},m(n,t){h(n,e,t)},d(n){n&&p(e)}}}function J$(r){let e,n=r[34].build_number+"",t,i,o=r[44]===0&&JG();return{c(){e=m("option"),t=w(n),o&&o.c(),e.__value=i=r[34].build_number,e.value=e.__value},m(l,s){h(l,e,s),_(e,t),o&&o.m(e,null)},p(l,s){s[0]&16&&n!==(n=l[34].build_number+"")&&K(t,n),s[0]&16&&i!==(i=l[34].build_number)&&(e.__value=i,e.value=e.__value)},d(l){l&&p(e),o&&o.d()}}}function X$(r){let e,n=r[40]+"",t;return{c(){e=m("option"),t=w(n),e.__value=r[15],e.value=e.__value},m(i,o){h(i,e,o),_(e,t)},p:oe,d(i){i&&p(e)}}}function XG(r){let e,n,t=O.t("Loading...")+"",i;return{c(){e=m("select"),n=m("option"),i=w(t),n.__value=O.t("Loading..."),n.value=n.__value,e.disabled=!0,le(e,"class","svelte-dbvcyx")},m(o,l){h(o,e,l),_(e,n),_(n,i)},p:oe,d(o){o&&p(e)}}}function K$(r){let e,n,t,i,o=r[36].sort(ny),l=[];for(let s=0;s<o.length;s+=1)l[s]=Z$(D$(r,o,s));return{c(){e=m("select"),n=m("option"),n.textContent="English";for(let s=0;s<l.length;s+=1)l[s].c();n.__value="en",n.value=n.__value,le(e,"class","svelte-dbvcyx")},m(s,a){h(s,e,a),_(e,n);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(e,null);no(e,r[10]||"en"),t||(i=Di(e,"change",r[25]),t=!0)},p(s,a){if(a[0]&528){o=s[36].sort(ny);let f;for(f=0;f<o.length;f+=1){const c=D$(s,o,f);l[f]?l[f].p(c,a):(l[f]=Z$(c),l[f].c(),l[f].m(e,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=o.length}},d(s){s&&p(e),ye(l,s),t=!1,i()}}}function Z$(r){let e,n=Ef(r[37])+"",t,i;return{c(){e=m("option"),t=w(n),e.__value=i=r[37],e.value=e.__value},m(o,l){h(o,e,l),_(e,t)},p(o,l){l[0]&16&&n!==(n=Ef(o[37])+"")&&K(t,n),l[0]&16&&i!==(i=o[37])&&(e.__value=i,e.value=e.__value)},d(o){o&&p(e)}}}function KG(r){let e,n,t,i,o,l,s,a,f,c,u,d,b,k,y,E,C,I,A,B=O.t("Version:")+"",L,D,Y,z,W=O.t("Tileset:")+"",H,ne,M,X,te,F,j=O.t("Language:")+"",Z,x,Q,V,ie,_e=r[4]&&U$(Js(r));const re=[TG,EG,wG],ee=[];function ce(Ce,it){return Ce[0]?0:Ce[2]?1:2}E=ce(r),C=ee[E]=re[E](r);function Ee(Ce,it){return Ce[3]||Ce[4]?zG:HG}let we=Ee(r),De=we(r),ze=r[11],We=[];for(let Ce=0;Ce<ze.length;Ce+=1)We[Ce]=X$(L$(r,ze,Ce));function Ve(Ce,it){return Ce[4]?K$:XG}function Qe(Ce,it){return it===K$?vG(Ce):Ce}let ve=Ve(r),Te=ve(Qe(r,ve));return{c(){_e&&_e.c(),e=ue(),n=R(),t=m("header"),i=m("nav"),o=m("div"),l=m("strong"),s=m("a"),a=m("span"),a.textContent="Hitchhiker's Guide to the Cataclysm",f=m("span"),f.textContent="HHG",u=R(),d=m("div"),b=m("input"),k=R(),y=m("main"),C.c(),I=R(),A=m("p"),L=w(B),D=R(),De.c(),Y=R(),z=m("span"),H=w(W),ne=R(),M=m("select"),X=m("option"),X.textContent="None (ASCII)";for(let Ce=0;Ce<We.length;Ce+=1)We[Ce].c();te=R(),F=m("span"),Z=w(j),x=R(),Te.c(),le(a,"class","wide svelte-dbvcyx"),le(f,"class","narrow svelte-dbvcyx"),le(s,"href",c="/cdda-guide/"+location.search),le(o,"class","title svelte-dbvcyx"),bt(b,"margin","0"),bt(b,"width","100%"),le(b,"placeholder",O.t("Search...",{_comment:"Placeholder text in the search box"})),le(b,"type","search"),le(b,"id","search"),le(d,"class","search svelte-dbvcyx"),le(i,"class","svelte-dbvcyx"),le(t,"class","svelte-dbvcyx"),X.__value="",X.value=X.__value,le(M,"class","svelte-dbvcyx"),bt(z,"white-space","nowrap"),bt(F,"white-space","nowrap"),le(A,"class","data-options svelte-dbvcyx"),le(y,"class","svelte-dbvcyx")},m(Ce,it){_e&&_e.m(B$.head,null),_(B$.head,e),h(Ce,n,it),h(Ce,t,it),_(t,i),_(i,o),_(o,l),_(l,s),_(s,a),_(s,f),_(i,u),_(i,d),_(d,b),oa(b,r[2]),h(Ce,k,it),h(Ce,y,it),ee[E].m(y,null),_(y,I),_(y,A),_(A,L),_(A,D),De.m(A,null),_(A,Y),_(A,z),_(z,H),_(z,ne),_(z,M),_(M,X);for(let Be=0;Be<We.length;Be+=1)We[Be]&&We[Be].m(M,null);no(M,r[1]),_(A,te),_(A,F),_(F,Z),_(F,x),Te.m(F,null),Q=!0,V||(ie=[Di(M$,"click",r[13]),Di(M$,"keydown",QG),Di(s,"click",r[18]),Di(b,"input",r[19]),Di(b,"input",r[12]),Di(M,"change",r[23])],V=!0)},p(Ce,it){Ce[4]?_e?_e.p(Js(Ce),it):(_e=U$(Js(Ce)),_e.c(),_e.m(e.parentNode,e)):_e&&(_e.d(1),_e=null),(!Q||it&0&&c!==(c="/cdda-guide/"+location.search))&&le(s,"href",c),it[0]&4&&b.value!==Ce[2]&&oa(b,Ce[2]);let Be=E;if(E=ce(Ce),E===Be?ee[E].p(Ce,it):(fe(),$(ee[Be],1,1,()=>{ee[Be]=null}),ae(),C=ee[E],C?C.p(Ce,it):(C=ee[E]=re[E](Ce),C.c()),g(C,1),C.m(y,I)),we===(we=Ee(Ce))&&De?De.p(Ce,it):(De.d(1),De=we(Ce),De&&(De.c(),De.m(A,Y))),it[0]&2048){ze=Ce[11];let et;for(et=0;et<ze.length;et+=1){const xe=L$(Ce,ze,et);We[et]?We[et].p(xe,it):(We[et]=X$(xe),We[et].c(),We[et].m(M,null))}for(;et<We.length;et+=1)We[et].d(1);We.length=ze.length}(!Q||it[0]&2050)&&no(M,Ce[1]),ve===(ve=Ve(Ce))&&Te?Te.p(Qe(Ce,ve),it):(Te.d(1),Te=ve(Qe(Ce,ve)),Te&&(Te.c(),Te.m(F,null)))},i(Ce){Q||(g(C),Q=!0)},o(Ce){$(C),Q=!1},d(Ce){_e&&_e.d(Ce),p(e),Ce&&p(n),Ce&&p(t),Ce&&p(k),Ce&&p(y),ee[E].d(),De.d(),ye(We,Ce),Te.d(),V=!1,cr(ie)}}}function ZG(r){return decodeURIComponent(r.replace(/\+/g," "))}function QG(r){var e,n;r.key==="/"&&((e=document.activeElement)==null?void 0:e.id)!=="search"&&((n=document.getElementById("search"))==null||n.focus(),r.preventDefault())}function Ef(r){return{en:"English",ar:"العربية",cs:"Český Jazyk",da:"Dansk",de:"Deutsch",el:"Ελληνικά",es_AR:"Español (Argentina)",es_ES:"Español (España)",fr:"Français",hu:"Magyar",id:"Bahasa Indonesia",is:"Íslenska",it_IT:"Italiano",ja:"日本語",ko:"한국어",nb:"Norsk",nl:"Nederlands",pl:"Polski",pt_BR:"Português (Brasil)",ru:"Русский",sr:"Српски",tr:"Türkçe",uk_UA:"український",zh_CN:"中文 (天朝)",zh_TW:"中文 (台灣)"}[r]??(Intl!=null&&Intl.DisplayNames?new Intl.DisplayNames([r.replace(/_/,"-")],{type:"language"}).of(r.replace(/_/,"-")):r)}function Q$(r,e){const n=new URL(e);return n.searchParams.set("lang",r),n.toString()}const x$=(r,e)=>r.localeCompare(e),ey=r=>!r.prerelease,ty=r=>r.prerelease,ny=(r,e)=>r.localeCompare(e);function xG(r,e,n){let t,i,o;Fo(r,Ss,V=>n(3,i=V)),Fo(r,gy,V=>n(8,o=V));let l=null,s=null;fetch("https://raw.githubusercontent.com/nornagon/cdda-data/main/builds.json").then(V=>V.json()).then(V=>{n(4,s=V)}).catch(V=>{console.error(V)});const a=new URL(location.href),f=a.searchParams.get("v")??"latest",c=a.searchParams.get("lang");Ss.setVersion(f,c);const u=[{name:"AltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Altica"},{name:"BrownLikeBears",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/BrownLikeBears"},{name:"Chibi_Ultica",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/ChibiUltica"},{name:"Cuteclysm(Alpha)",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/Cuteclysm"},{name:"Hollow Moon",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/HollowMoon"},{name:"MSXotto+",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/MshockXotto%2B"},{name:"NeoDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/NeoDaysTileset"},{name:"RetroDays",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/RetroDaysTileset"},{name:"UltiCa",url:"https://raw.githubusercontent.com/CleverRaven/Cataclysm-DDA/{version}/gfx/UltimateCataclysm"}],d=V=>V==="null"||!V?"":V;function b(){try{const V=localStorage.getItem("cdda-guide:tileset");return V?d(V):""}catch{return""}}function k(V){try{V?localStorage.setItem("cdda-guide:tileset",d(V)):localStorage.removeItem("cdda-guide:tileset")}catch{}}let y=b();function E(){const V=location.pathname.slice(11);let ie;if(ie=/^\/([^\/]+)(?:\/(.+))?$/.exec(V)){const[,_e,re]=ie;_e==="search"?(n(0,l=null),n(2,C=ZG(re??""))):n(0,l={type:_e,id:re?decodeURIComponent(re):""}),window.scrollTo(0,0)}else n(0,l=null),n(2,C="")}let C="";E();const I=N$?N$(history.replaceState.bind(history),100,{trailing:!0}):history.replaceState.bind(history),A=()=>{l?history.pushState(null,"","/cdda-guide/"+(C?"search/"+encodeURIComponent(C):"")+location.search):I(null,"","/cdda-guide/"+(C?"search/"+encodeURIComponent(C):"")+location.search),n(0,l=null)};function B(V){const ie=V.target,_e=ie==null?void 0:ie.closest("a");if(_e&&_e.href){const{origin:re,pathname:ee}=new URL(_e.href);re===location.origin&&ee.startsWith("/cdda-guide/")&&(V.preventDefault(),history.pushState(null,"",ee+location.search),E())}}window.addEventListener("popstate",()=>{E()});let L;window.addEventListener("beforeinstallprompt",V=>{n(5,L=V)});const D=new Set(["item","monster","furniture","terrain","vehicle_part","tool_quality","mutation","martial_art","json_flag","achievement","conduct","proficiency"]);async function Y(){const ie=(await new Promise(_e=>{const re=Ss.subscribe(ee=>{ee&&(_e(ee),setTimeout(()=>re()))})})).all().filter(_e=>"id"in _e&&D.has(ai(_e.type)));return ie[Math.random()*ie.length|0]}let z=null;function W(){Y().then(V=>{n(6,z=`/cdda-guide/${ai(V.type)}/${V.id}${location.search}`)})}W();let H=location.href;const ne=(V,ie)=>ie.build_number===V,M=()=>n(2,C="");function X(){C=this.value,n(2,C)}const te=V=>{V.preventDefault(),L.prompt()},F=()=>setTimeout(W),j=V=>{const ie=new URL(location.href),_e=V.currentTarget.value;_e===(s==null?void 0:s[0].build_number)?ie.searchParams.delete("v"):ie.searchParams.set("v",_e),location.href=ie.toString()},Z=V=>{n(1,y=V.currentTarget.value)},x=(V,ie)=>ie.build_number===V,Q=V=>{const ie=new URL(location.href),_e=V.currentTarget.value;_e==="en"?ie.searchParams.delete("lang"):ie.searchParams.set("lang",_e),location.href=ie.toString()};return r.$$.update=()=>{if(r.$$.dirty[0]&2&&k(y),r.$$.dirty[0]&10&&n(16,t=i?(y==null?void 0:y.replace("{version}",i.build_number))??null:null),r.$$.dirty[0]&65536&&$y.setURL(t),r.$$.dirty[0]&9)if(l&&l.id&&i&&i.byIdMaybe(l.type,l.id)){const V=i.byId(l.type,l.id);document.title=`${He(V)} - The Hitchhiker's Guide to the Cataclysm`}else l&&!l.id&&l.type?document.title=`${l.type} - The Hitchhiker's Guide to the Cataclysm`:document.title="The Hitchhiker's Guide to the Cataclysm";r.$$.dirty[0]&5&&n(7,H=location.href)},[l,y,C,i,s,L,z,H,o,f,c,u,A,B,W,a,t,ne,M,X,te,F,j,Z,x,Q]}class eq extends ht{constructor(e){super(),pt(this,e,xG,KG,mt,{},null,[-1,-1])}}const tq="modulepreload",nq=function(r){return"/cdda-guide/"+r},iy={},iq=function(e,n,t){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=nq(o),o in iy)return;iy[o]=!0;const l=o.endsWith(".css"),s=l?'[rel="stylesheet"]':"";if(!!t)for(let c=i.length-1;c>=0;c--){const u=i[c];if(u.href===o&&(!l||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":tq,l||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),l)return new Promise((c,u)=>{f.addEventListener("load",c),f.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function lq(r={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:t,onRegistered:i,onRegisteredSW:o,onRegisterError:l}=r;let s,a,f;const c=async(d=!0)=>{await a,await(f==null?void 0:f())};async function u(){if("serviceWorker"in navigator){const{Workbox:d}=await iq(()=>import("./workbox-window.prod.es5-dc90f814.js"),[]);s=new d("/cdda-guide/sw.js",{scope:"/cdda-guide/",type:"classic"}),f=async()=>{await(s==null?void 0:s.messageSkipWaiting())};{let b=!1;const k=()=>{b=!0,s==null||s.addEventListener("controlling",y=>{y.isUpdate&&window.location.reload()}),n==null||n()};s.addEventListener("installed",y=>{typeof y.isUpdate>"u"?typeof y.isExternal<"u"?y.isExternal?k():!b&&(t==null||t()):y.isExternal?window.location.reload():!b&&(t==null||t()):y.isUpdate||t==null||t()}),s.addEventListener("waiting",k),s.addEventListener("externalwaiting",k)}s.register({immediate:e}).then(b=>{o?o("/cdda-guide/sw.js",b):i==null||i(b)}).catch(b=>{l==null||l(b)})}}return a=u(),c}O.tx.init({token:"1/1d8c1f9e14b4c21d70dd3f6fccdd0ab16b691105"});location.hostname!=="localhost"&&MF({dsn:null,integrations:[new Zf],tracesSampleRate:.2});lq({});location.hash&&history.replaceState(null,"","/cdda-guide/"+location.hash.slice(2)+location.search);const rq=new URL(location.href),ly=rq.searchParams.get("lang");ly?O.tx.setCurrentLocale(ly).then(Xs,Xs):Xs();function Xs(){new eq({target:document.body})}});export default oq();
//# sourceMappingURL=index-efb1ae54.js.map
